!function(C,n,A,S){"use strict";n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),C.fn.transition=function(){var u,r=C(this),p=r.selector||"",g=(new Date).getTime(),v=[],b=arguments,y=b[0],h=[].slice.call(arguments,1),w="string"==typeof y;n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame;return r.each(function(t){var d,s,e,c,i,a,n,o,m,f=C(this),l=this;(m={initialize:function(){d=m.get.settings.apply(l,b),c=d.className,e=d.error,i=d.metadata,o="."+d.namespace,n="module-"+d.namespace,s=f.data(n)||m,a=m.get.animationEndEvent(),w&&(w=m.invoke(y)),!1===w&&(m.verbose("Converted arguments into settings object",d),d.interval?m.delay(d.animate):m.animate(),m.instantiate())},instantiate:function(){m.verbose("Storing instance of module",m),s=m,f.data(n,s)},destroy:function(){m.verbose("Destroying previous module for",l),f.removeData(n)},refresh:function(){m.verbose("Refreshing display type on next animation"),delete m.displayType},forceRepaint:function(){m.verbose("Forcing element repaint");var n=f.parent(),e=f.next();0===e.length?f.detach().appendTo(n):f.detach().insertBefore(e)},repaint:function(){m.verbose("Repainting element");l.offsetWidth},delay:function(n){var e,i=m.get.animationDirection();i||(i=m.can.transition()?m.get.direction():"static"),n=n!==S?n:d.interval,e="auto"==d.reverse&&i==c.outward||1==d.reverse?(r.length-t)*d.interval:t*d.interval,m.debug("Delaying animation by",e),setTimeout(m.animate,e)},animate:function(n){if(d=n||d,!m.is.supported())return m.error(e.support),!1;if(m.debug("Preparing animation",d.animation),m.is.animating()){if(d.queue)return!d.allowRepeats&&m.has.direction()&&m.is.occurring()&&!0!==m.queuing?m.debug("Animation is currently occurring, preventing queueing same animation",d.animation):m.queue(d.animation),!1;if(!d.allowRepeats&&m.is.occurring())return m.debug("Animation is already occurring, will not execute repeated animation",d.animation),!1;m.debug("New animation started, completing previous early",d.animation),s.complete()}m.can.animate()?m.set.animating(d.animation):m.error(e.noAnimation,d.animation,l)},reset:function(){m.debug("Resetting animation to beginning conditions"),m.remove.animationCallbacks(),m.restore.conditions(),m.remove.animating()},queue:function(n){m.debug("Queueing animation of",n),m.queuing=!0,f.one(a+".queue"+o,function(){m.queuing=!1,m.repaint(),m.animate.apply(this,d)})},complete:function(n){m.debug("Animation complete",d.animation),m.remove.completeCallback(),m.remove.failSafe(),m.is.looping()||(m.is.outward()?(m.verbose("Animation is outward, hiding element"),m.restore.conditions(),m.hide()):m.is.inward()?(m.verbose("Animation is outward, showing element"),m.restore.conditions(),m.show()):(m.verbose("Static animation completed"),m.restore.conditions(),d.onComplete.call(l)))},force:{visible:function(){var n=f.attr("style"),e=m.get.userStyle(),i=m.get.displayType(),t=e+"display: "+i+" !important;",a=f.css("display"),o=n===S||""===n;a!==i?(m.verbose("Overriding default display to show element",i),f.attr("style",t)):o&&f.removeAttr("style")},hidden:function(){var n=f.attr("style"),e=f.css("display"),i=n===S||""===n;"none"===e||m.is.hidden()?i&&f.removeAttr("style"):(m.verbose("Overriding default display to hide element"),f.css("display","none"))}},has:{direction:function(n){var i=!1;return"string"==typeof(n=n||d.animation)&&(n=n.split(" "),C.each(n,function(n,e){e!==c.inward&&e!==c.outward||(i=!0)})),i},inlineDisplay:function(){var n=f.attr("style")||"";return C.isArray(n.match(/display.*?;/,""))}},set:{animating:function(n){var e;m.remove.completeCallback(),n=n||d.animation,e=m.get.animationClass(n),m.save.animation(e),m.force.visible(),m.remove.hidden(),m.remove.direction(),m.start.animation(e)},duration:function(n,e){((e="number"==typeof(e=e||d.duration)?e+"ms":e)||0===e)&&(m.verbose("Setting animation duration",e),f.css({"animation-duration":e}))},direction:function(n){(n=n||m.get.direction())==c.inward?m.set.inward():m.set.outward()},looping:function(){m.debug("Transition set to loop"),f.addClass(c.looping)},hidden:function(){f.addClass(c.transition).addClass(c.hidden)},inward:function(){m.debug("Setting direction to inward"),f.removeClass(c.outward).addClass(c.inward)},outward:function(){m.debug("Setting direction to outward"),f.removeClass(c.inward).addClass(c.outward)},visible:function(){f.addClass(c.transition).addClass(c.visible)}},start:{animation:function(n){n=n||m.get.animationClass(),m.debug("Starting tween",n),f.addClass(n).one(a+".complete"+o,m.complete),d.useFailSafe&&m.add.failSafe(),m.set.duration(d.duration),d.onStart.call(l)}},save:{animation:function(n){m.cache||(m.cache={}),m.cache.animation=n},displayType:function(n){"none"!==n&&f.data(i.displayType,n)},transitionExists:function(n,e){C.fn.transition.exists[n]=e,m.verbose("Saving existence of transition",n,e)}},restore:{conditions:function(){var n=m.get.currentAnimation();n&&(f.removeClass(n),m.verbose("Removing animation class",m.cache)),m.remove.duration()}},add:{failSafe:function(){var n=m.get.duration();m.timer=setTimeout(function(){f.triggerHandler(a)},n+d.failSafeDelay),m.verbose("Adding fail safe timer",m.timer)}},remove:{animating:function(){f.removeClass(c.animating)},animationCallbacks:function(){m.remove.queueCallback(),m.remove.completeCallback()},queueCallback:function(){f.off(".queue"+o)},completeCallback:function(){f.off(".complete"+o)},display:function(){f.css("display","")},direction:function(){f.removeClass(c.inward).removeClass(c.outward)},duration:function(){f.css("animation-duration","")},failSafe:function(){m.verbose("Removing fail safe timer",m.timer),m.timer&&clearTimeout(m.timer)},hidden:function(){f.removeClass(c.hidden)},visible:function(){f.removeClass(c.visible)},looping:function(){m.debug("Transitions are no longer looping"),m.is.looping()&&(m.reset(),f.removeClass(c.looping))},transition:function(){f.removeClass(c.visible).removeClass(c.hidden)}},get:{settings:function(n,e,i){return"object"==typeof n?C.extend(!0,{},C.fn.transition.settings,n):"function"==typeof i?C.extend({},C.fn.transition.settings,{animation:n,onComplete:i,duration:e}):"string"==typeof e||"number"==typeof e?C.extend({},C.fn.transition.settings,{animation:n,duration:e}):"object"==typeof e?C.extend({},C.fn.transition.settings,e,{animation:n}):"function"==typeof e?C.extend({},C.fn.transition.settings,{animation:n,onComplete:e}):C.extend({},C.fn.transition.settings,{animation:n})},animationClass:function(n){var e=n||d.animation,i=m.can.transition()&&!m.has.direction()?m.get.direction()+" ":"";return c.animating+" "+c.transition+" "+i+e},currentAnimation:function(){return!(!m.cache||m.cache.animation===S)&&m.cache.animation},currentDirection:function(){return m.is.inward()?c.inward:c.outward},direction:function(){return m.is.hidden()||!m.is.visible()?c.inward:c.outward},animationDirection:function(n){var i;return"string"==typeof(n=n||d.animation)&&(n=n.split(" "),C.each(n,function(n,e){e===c.inward?i=c.inward:e===c.outward&&(i=c.outward)})),i||!1},duration:function(n){return!1===(n=n||d.duration)&&(n=f.css("animation-duration")||0),"string"==typeof n?-1<n.indexOf("ms")?parseFloat(n):1e3*parseFloat(n):n},displayType:function(n){return n=n===S||n,d.displayType?d.displayType:(n&&f.data(i.displayType)===S&&m.can.transition(!0),f.data(i.displayType))},userStyle:function(n){return(n=n||f.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(n){return C.fn.transition.exists[n]},animationStartEvent:function(){var n,e=A.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(n in i)if(e.style[n]!==S)return i[n];return!1},animationEndEvent:function(){var n,e=A.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(n in i)if(e.style[n]!==S)return i[n];return!1}},can:{transition:function(n){var e,i,t,a,o,r,s=d.animation,l=m.get.transitionExists(s),u=m.get.displayType(!1);if(l===S||n){if(m.verbose("Determining whether animation exists"),e=f.attr("class"),i=f.prop("tagName"),a=(t=C("<"+i+" />").addClass(e).insertAfter(f)).addClass(s).removeClass(c.inward).removeClass(c.outward).addClass(c.animating).addClass(c.transition).css("animationName"),o=t.addClass(c.inward).css("animationName"),u||(u=t.attr("class",e).removeAttr("style").removeClass(c.hidden).removeClass(c.visible).show().css("display"),m.verbose("Determining final display state",u),m.save.displayType(u)),t.remove(),a!=o)m.debug("Direction exists for animation",s),r=!0;else{if("none"==a||!a)return void m.debug("No animation defined in css",s);m.debug("Static animation found",s,u),r=!1}m.save.transitionExists(s,r)}return l!==S?l:r},animate:function(){return m.can.transition()!==S}},is:{animating:function(){return f.hasClass(c.animating)},inward:function(){return f.hasClass(c.inward)},outward:function(){return f.hasClass(c.outward)},looping:function(){return f.hasClass(c.looping)},occurring:function(n){return n="."+(n=n||d.animation).replace(" ","."),0<f.filter(n).length},visible:function(){return f.is(":visible")},hidden:function(){return"hidden"===f.css("visibility")},supported:function(){return!1!==a}},hide:function(){m.verbose("Hiding element"),m.is.animating()&&m.reset(),l.blur(),m.remove.display(),m.remove.visible(),m.set.hidden(),m.force.hidden(),d.onHide.call(l),d.onComplete.call(l)},show:function(n){m.verbose("Showing element",n),m.remove.hidden(),m.set.visible(),m.force.visible(),d.onShow.call(l),d.onComplete.call(l)},toggle:function(){m.is.visible()?m.hide():m.show()},stop:function(){m.debug("Stopping current animation"),f.triggerHandler(a)},stopAll:function(){m.debug("Stopping all animation"),m.remove.queueCallback(),f.triggerHandler(a)},clear:{queue:function(){m.debug("Clearing animation queue"),m.remove.queueCallback()}},enable:function(){m.verbose("Starting animation"),f.removeClass(c.disabled)},disable:function(){m.debug("Stopping animation"),f.addClass(c.disabled)},setting:function(n,e){if(m.debug("Changing setting",n,e),C.isPlainObject(n))C.extend(!0,d,n);else{if(e===S)return d[n];C.isPlainObject(d[n])?C.extend(!0,d[n],e):d[n]=e}},internal:function(n,e){if(C.isPlainObject(n))C.extend(!0,m,n);else{if(e===S)return m[n];m[n]=e}},debug:function(){!d.silent&&d.debug&&(d.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,d.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),m.verbose.apply(console,arguments)))},error:function(){d.silent||(m.error=Function.prototype.bind.call(console.error,console,d.name+":"),m.error.apply(console,arguments))},performance:{log:function(n){var e,i;d.performance&&(i=(e=(new Date).getTime())-(g||e),g=e,v.push({Name:n[0],Arguments:[].slice.call(n,1)||"",Element:l,"Execution Time":i})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var n=d.name+":",i=0;g=!1,clearTimeout(m.performance.timer),C.each(v,function(n,e){i+=e["Execution Time"]}),n+=" "+i+"ms",p&&(n+=" '"+p+"'"),1<r.length&&(n+=" ("+r.length+")"),(console.group!==S||console.table!==S)&&0<v.length&&(console.groupCollapsed(n),console.table?console.table(v):C.each(v,function(n,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(t,n,e){var a,o,i,r=s;return n=n||h,e=l||e,"string"==typeof t&&r!==S&&(t=t.split(/[\. ]/),a=t.length-1,C.each(t,function(n,e){var i=n!=a?e+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(C.isPlainObject(r[i])&&n!=a)r=r[i];else{if(r[i]!==S)return o=r[i],!1;if(!C.isPlainObject(r[e])||n==a)return r[e]!==S&&(o=r[e]),!1;r=r[e]}})),C.isFunction(o)?i=o.apply(e,n):o!==S&&(i=o),C.isArray(u)?u.push(i):u!==S?u=[u,i]:i!==S&&(u=i),o!==S&&o}}).initialize()}),u!==S?u:this},C.fn.transition.exists={},C.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document);;(function($,Drupal){Drupal.behaviors.behavior={attach(context,settings){}};$(document).ready(()=>{$("#_article_popup").on("hidden.bs.modal",()=>{close_popup();});$(document).keyup(e=>{if(e.key==="Escape"){close_popup();}});});})(jQuery,Drupal);function getVedioUrl(dis,src,title){let _youku_video_id="";if(jQuery("body").is(".section-universities")||typeof src==="undefined"){const yt_url=jQuery(".view-profile-header .play-ico > img").attr("src");_youku_video_id=yt_url.replace("/sites/default/files/styles/540x304/public/video_thumbnails/","").replace("%3D%3D.jpg","");}else{if(src.indexOf(".html")>=0){src=src.split("?")[0];_youku_video_id=src.substring(src.lastIndexOf("_")+1,src.lastIndexOf("=="));}else{_youku_video_id=src.substring(src.lastIndexOf("/")+1,src.lastIndexOf("%3D%3D"));}}
jQuery("#_article_popup").modal("show");const youku=_youku_player(_youku_video_id);if(jQuery(window).width()<991){if(youku==1){setTimeout(()=>{jQuery(".x-video-play-ico").trigger("click");},8000);}}
if(title!=""){jQuery("._youku_title").text(title);}}
function slidet_to(dis,key){jQuery(dis).parents(".carousel").carousel(parseInt(key));}
function _mt_navs_thumb_slide(direction,scrollamount){if(direction=="left"){jQuery(".carousel-thumbs").animate({scrollLeft:`-=${scrollamount}`},500);}
if(direction=="right"){jQuery(".carousel-thumbs").animate({scrollLeft:`+=${scrollamount}`},500);}}
function close_popup(){if(jQuery(window).width()<991){jQuery(".x-video-play-ico").trigger("click");}
jQuery("#_article_popup").find("#_media_player").html("");jQuery("#_article_popup").modal("hide");player=null;}
let player;function _youku_player(_youku_video_id){if(!player){player=new YKU.Player("_media_player",{client_id:"44503cca1be605b5",vid:_youku_video_id,width:"100%",height:"100%",autoplay:true,show_related:false});return 1;}}
jQuery(".a2a_kit a, .pro_share_kit a").bind("click",function(e){const dis=this;if(!jQuery(this).hasClass("share_disabled")){}else{return false;}
let where_share=jQuery(this).attr("class");where_share=where_share.split(" ");const node_id=jQuery(this).parent().parent().data("att-nid");if(where_share.indexOf("a2a_button_copy_link")!=-1){return false;}
jQuery.ajax({method:"post",url:"/article/share-count",data:{where_share:where_share[0],node_id},success(response){jQuery(dis).removeClass("share_disabled");},error(e){}});});;(function($,Drupal){Drupal.behaviors.ytpopbehavior={attach(context,settings){const program_modal_src=$("#programModal").find("iframe").attr("src");$("#programModal").on("hidden.bs.modal",()=>{Drupal.behaviors.ytpopbehavior.close_popup();});$("#programModal").on("show.bs.modal",()=>{$("#programModal #_media_player iframe").attr("src","");$("#programModal").find("iframe").attr("src",program_modal_src);});$(document).keyup(e=>{if(e.key==="Escape"){Drupal.behaviors.ytpopbehavior.close_popup();}});Drupal.behaviors.ytpopbehavior.autoPlayYouTubeModal();},autoPlayYouTubeModal(){const trigger=$(".wh-l-com-why");trigger.click(function(){const theModal=$(this).data("target");const videoSRC=$(this).attr("data-videoModal");const videoid=videoSRC.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);const videoSRCauto=`https://www.youtube.com/embed/${videoid[1]}?&autoplay=1`;$(`${theModal} iframe`).attr("src",videoSRCauto);$(theModal).on("hidden.bs.modal",e=>{$(`${theModal} iframe`).attr("src","");});});},close_popup(){$("#programModal #_media_player iframe").attr("src","");$("#programModal").modal("hide");}};})(jQuery,Drupal);;function HTML5GalleryStart(){function s(r){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutQuad:function(t,i,e,o,s){return-o*(i/=s)*(i-2)+e}});var i=jQuery;i.fn.touchSwipe=function(t){var n={preventWebBrowser:!1,instance:null,preventWebBrowserCallback:null,swipeLeft:null,swipeRight:null,swipeTop:null,swipeBottom:null};return t&&i.extend(n,t),this.each(function(){function o(){l=h=s=e=-1}var e=-1,s=-1,h=-1,l=-1;try{i(this).on("touchstart",function(t){var i=t.originalEvent;1<=i.targetTouches.length?(e=i.targetTouches[0].pageX,s=i.targetTouches[0].pageY):o()}),i(this).on("touchmove",function(t){var i=n.preventWebBrowser,e=t.originalEvent;1<=e.targetTouches.length?(h=e.targetTouches[0].pageX,l=e.targetTouches[0].pageY,n.instance&&n.preventWebBrowserCallback&&(i=n.instance[n.preventWebBrowserCallback](l<s))):o(),i&&t.preventDefault()}),i(this).on("touchend",function(t){(0<h||0<l)&&(100<Math.abs(h-e)&&(e<h?n.swipeRight&&n.swipeRight.call():n.swipeLeft&&n.swipeLeft.call()),100<Math.abs(l-s)&&(s<l?n.swipeBottom&&n.swipeBottom.call():n.swipeTop&&n.swipeTop.call())),o()}),i(this).on("touchcancel",o)}catch(t){}})};var c=jQuery;c.fn.drag=function(t,i,e){var o="string"==typeof t?t:"",s=c.isFunction(t)?t:c.isFunction(i)?i:null;return 0!==o.indexOf("drag")&&(o="drag"+o),e=(t==s?i:e)||{},s?this.on(o,e,s):this.trigger(o)};var u=c.event,o=u.special,m=null;(m=o.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",livekey:"livedrag",add:function(t){var i=c.data(this,m.datakey),e=t.data||{};i.related+=1,!i.live&&t.selector&&(i.live=!0,u.add(this,"draginit."+m.livekey,m.delegate)),c.each(m.defaults,function(t){void 0!==e[t]&&(i[t]=e[t])})},remove:function(){--c.data(this,m.datakey).related},setup:function(){var t;c.data(this,m.datakey)||(t=c.extend({related:0},m.defaults),c.data(this,m.datakey,t),u.add(this,"mousedown",m.init,t),this.attachEvent&&this.attachEvent("ondragstart",m.dontstart))},teardown:function(){c.data(this,m.datakey).related||(c.removeData(this,m.datakey),u.remove(this,"mousedown",m.init),u.remove(this,"draginit",m.delegate),m.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",m.dontstart))},init:function(t){var i,e=t.data;if(!(0<e.which&&t.which!=e.which)&&!c(t.target).is(e.not)&&(!e.handle||c(t.target).closest(e.handle,t.currentTarget).length)&&(e.propagates=1,e.interactions=[m.interaction(this,e)],e.target=t.target,e.pageX=t.pageX,e.pageY=t.pageY,e.dragging=null,i=m.hijack(t,"draginit",e),e.propagates))return(i=m.flatten(i))&&i.length&&(e.interactions=[],c.each(i,function(){e.interactions.push(m.interaction(this,e))})),e.propagates=e.interactions.length,!1!==e.drop&&o.drop&&o.drop.handler(t,e),m.textselect(!1),u.add(document,"mousemove mouseup",m.handler,e),!1},interaction:function(t,i){return{drag:t,callback:new m.callback,droppable:[],offset:c(t)[i.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(t){var i=t.data;switch(t.type){case!i.dragging&&"mousemove":if(Math.pow(t.pageX-i.pageX,2)+Math.pow(t.pageY-i.pageY,2)<Math.pow(i.distance,2))break;t.target=i.target,m.hijack(t,"dragstart",i),i.propagates&&(i.dragging=!0);case"mousemove":if(i.dragging){if(m.hijack(t,"drag",i),i.propagates){!1!==i.drop&&o.drop&&o.drop.handler(t,i);break}t.type="mouseup"}case"mouseup":u.remove(document,"mousemove mouseup",m.handler),i.dragging&&(!1!==i.drop&&o.drop&&o.drop.handler(t,i),m.hijack(t,"dragend",i)),m.textselect(!0),!1===i.click&&i.dragging&&(jQuery.event.triggered=!0,setTimeout(function(){jQuery.event.triggered=!1},20),i.dragging=!1)}},delegate:function(e){var o,s=[],t=c.data(this,"events")||{};return c.each(t.live||[],function(t,i){0===i.preType.indexOf("drag")&&(o=c(e.target).closest(i.selector,e.currentTarget)[0])&&(u.add(o,i.origType+"."+m.livekey,i.origHandler,i.data),c.inArray(o,s)<0&&s.push(o))}),!!s.length&&c(s).on("dragend."+m.livekey,function(){u.remove(this,"."+m.livekey)})},hijack:function(e,o,s,t,i){if(s){var h,l,n,r=e.originalEvent,a=e.type,p=o.indexOf("drop")?"drag":"drop",d=t||0;for(t=isNaN(t)?s.interactions.length:t,e.type=o,e.originalEvent=null,s.results=[];!(l=s.interactions[d])||"dragend"!==o&&l.cancelled||(n=m.properties(e,s,l),l.results=[],c(i||l[p]||s.droppable).each(function(t,i){if(n.target=i,!1===(h=u.handle?i?u.handle.call(i,e,n):null:i?u.dispatch.call(i,e,n):null)?("drag"==p&&(l.cancelled=!0,--s.propagates),"drop"==o&&(l[p][t]=null)):"dropinit"==o&&l.droppable.push(m.element(h)||i),"dragstart"==o&&(l.proxy=c(m.element(h)||l.drag)[0]),l.results.push(h),delete e.result,"dropinit"!==o)return h}),s.results[d]=m.flatten(l.results),"dropinit"==o&&(l.droppable=m.flatten(l.droppable)),"dragstart"!=o||l.cancelled||n.update()),++d<t;);return e.type=a,e.originalEvent=r,m.flatten(s.results)}},properties:function(t,i,e){var o=e.callback;return o.drag=e.drag,o.proxy=e.proxy||e.drag,o.startX=i.pageX,o.startY=i.pageY,o.deltaX=t.pageX-i.pageX,o.deltaY=t.pageY-i.pageY,o.originalX=e.offset.left,o.originalY=e.offset.top,o.offsetX=t.pageX-(i.pageX-o.originalX),o.offsetY=t.pageY-(i.pageY-o.originalY),o.drop=m.flatten((e.drop||[]).slice()),o.available=m.flatten((e.droppable||[]).slice()),o},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(t){return c.map(t,function(t){return t&&t.jquery?c.makeArray(t):t&&t.length?m.flatten(t):t})},textselect:function(t){c(document)[t?"unbind":"bind"]("selectstart",m.dontstart).attr("unselectable",t?"off":"on").css("MozUserSelect",t?"":"none")},dontstart:function(){return!1},callback:function(){}}).callback.prototype={update:function(){o.drop&&this.available.length&&c.each(this.available,function(t){o.drop.locate(this,t)})}},o.draginit=o.dragstart=o.dragend=m;var a=jQuery;a.fn.html5boxTransition=function(t,i,e,o,s){$parent=this,t=o.effect;var h=o.easing,l=o.duration,n=o.direction,r=null;t&&(r=(t=t.split(","))[Math.floor(Math.random()*t.length)],r=a.trim(r.toLowerCase())),r&&o[r]&&("duration"in o[r]&&(l=o[r].duration),o[r].easing&&(h=o[r].easing)),"fade"==r||"fadein"==r?(e.hide(),i.insertBefore(e),e.fadeIn(l,h,function(){i.remove(),s()})):"fadeout"==r?(e.show(),i.fadeOut(l,h,function(){i.remove(),s()})):"fadeinout"==r?(e.hide(),i.insertBefore(e),i.fadeOut(l,h),e.fadeIn(l,h,function(){i.remove(),s()})):"crossfade"==r?(e.hide(),i.fadeOut(l/2,h,function(){e.fadeIn(l/2,h,function(){i.remove(),s()})})):"slide"==r?($parent.css({overflow:"hidden"}),n?(e.css({left:"100%"}),e.animate({left:"0%"},l,h),i.animate({left:"-100%"},l,h,function(){i.remove(),s()})):(e.css({left:"-100%"}),e.animate({left:"0%"},l,h),i.animate({left:"100%"},l,h,function(){i.remove(),s()}))):(e.show(),i.remove(),s())};var V=jQuery;V.fn.addHTML5VideoControls=function(t,i,e,o,s,h,l,n,r){var a="ontouchstart"in window,p=a?"touchstart":"mousedown",d=a?"touchmove":"mousemove",c=a?"touchcancel":"mouseup",u=a?48:36,m=null,g=null,f=!1,b=!0,y=V(this).data("ishd"),w=V(this).data("hd"),x=V(this).data("src"),v=V(this);v.get(0).removeAttribute("controls");var k=V("<div class='html5boxVideoPlay'></div>");v.after(k),k.css({position:"absolute",top:"50%",left:"50%",display:"block",cursor:"pointer",width:64,height:64,"margin-left":-32,"margin-top":-32,"background-image":"url('"+(r&&"playbutton"in r&&0<r.playbutton.length?r.playbutton:t+"html5boxplayer_playvideo.png")+"')","background-position":"center center","background-repeat":"no-repeat"}).on("click",function(){v.get(0).play()});var A=V("<div class='html5boxVideoFullscreenBg'></div>"),E=V("<div class='html5boxVideoControls'><div class='html5boxVideoControlsBg'></div><div class='html5boxPlayPause'><div class='html5boxPlay'></div><div class='html5boxPause'></div></div><div class='html5boxTimeCurrent'>--:--</div><div class='html5boxFullscreen'></div><div class='html5boxHD'></div><div class='html5boxVolume'><div class='html5boxVolumeButton'></div><div class='html5boxVolumeBar'><div class='html5boxVolumeBarBg'><div class='html5boxVolumeBarActive'></div></div></div></div><div class='html5boxTimeTotal'>--:--</div><div class='html5boxSeeker'><div class='html5boxSeekerBuffer'></div><div class='html5boxSeekerPlay'></div><div class='html5boxSeekerHandler'></div></div><div style='clear:both;'></div></div>");function M(){b=!0}v.after(E),v.after(A),A.css({display:"none",position:"fixed",left:0,top:0,bottom:0,right:0}),E.css({display:"block",position:"absolute",width:"100%",height:u,left:0,bottom:0,right:0,margin:"0 auto"}),v.on("touch click mousemove mouseenter",function(){b=!0}),o||setInterval(function(){b&&(E.show(),b=!1,clearTimeout(m),m=setTimeout(function(){v.get(0).paused||E.fadeOut()},5e3))},250),V(".html5boxVideoControlsBg",E).css({display:"block",position:"absolute",width:"100%",height:"100%",left:0,top:0,"background-color":"#000000",opacity:.7,filter:"alpha(opacity=70)"}),V(".html5boxPlayPause",E).css({display:"block",position:"relative",width:"32px",height:"32px",margin:Math.floor((u-32)/2),float:"left"});var T=V(".html5boxPlay",E),S=V(".html5boxPause",E);T.css({display:"block",position:"absolute",top:0,left:0,width:"32px",height:"32px",cursor:"pointer","background-image":"url('"+t+"html5boxplayer_playpause.png')","background-position":"top left"}).hover(function(){V(this).css({"background-position":"bottom left"})},function(){V(this).css({"background-position":"top left"})}).on("click",function(){v.get(0).play()}),S.css({display:"none",position:"absolute",top:0,left:0,width:"32px",height:"32px",cursor:"pointer","background-image":"url('"+t+"html5boxplayer_playpause.png')","background-position":"top right"}).hover(function(){V(this).css({"background-position":"bottom right"})},function(){V(this).css({"background-position":"top right"})}).on("click",function(){v.get(0).pause()});var $=V(".html5boxTimeCurrent",E),H=V(".html5boxTimeTotal",E),I=V(".html5boxSeeker",E),C=V(".html5boxSeekerPlay",E),F=V(".html5boxSeekerBuffer",E),W=V(".html5boxSeekerHandler",E);$.css({display:"block",position:"relative",float:"left","line-height":u+"px","font-weight":"normal","font-size":"12px",margin:"0 8px","font-family":"Arial, Helvetica, sans-serif",color:"#fff"}),H.css({display:"block",position:"relative",float:"right","line-height":u+"px","font-weight":"normal","font-size":"12px",margin:"0 8px","font-family":"Arial, Helvetica, sans-serif",color:"#fff"}),I.css({display:"block",cursor:"pointer",overflow:"hidden",position:"relative",height:"10px","background-color":"#222",margin:Math.floor((u-10)/2)+"px 4px"}).on(p,function(t){t=(a?t.originalEvent.touches[0]:t).pageX-I.offset().left,C.css({width:t}),v.get(0).currentTime=t*v.get(0).duration/I.width(),I.on(d,function(t){t=(a?t.originalEvent.touches[0]:t).pageX-I.offset().left,C.css({width:t}),v.get(0).currentTime=t*v.get(0).duration/I.width()})}).on(c,function(){I.off(d)}),F.css({display:"block",position:"absolute",left:0,top:0,height:"100%","background-color":"#444"}),C.css({display:"block",position:"absolute",left:0,top:0,height:"100%","background-color":"#fcc500"});var z,P=l?v:v.parent();(P.get(0).requestFullscreen||P.get(0).webkitRequestFullScreen||P.get(0).mozRequestFullScreen||P.get(0).webkitEnterFullScreen||P.get(0).msRequestFullscreen)&&(z=function(t){l?t?(v.get(0).setAttribute("controls","controls"),n&&v.get(0).setAttribute("controlsList","nodownload")):v.get(0).removeAttribute("controls"):t?(V(document).on("mousemove",M),E.css({"z-index":2147483647,position:"fixed"}),A.css({"z-index":2147483647,display:"block"}),k.css({"z-index":2147483647})):(V(document).off("mousemove",M),E.css({"z-index":"",position:"absolute"}),A.css({"z-index":"",display:"none"}),k.css({"z-index":""}))},document.addEventListener("MSFullscreenChange",function(){f=null!=document.msFullscreenElement,z(f)},!1),document.addEventListener("fullscreenchange",function(){f=document.fullscreen,z(f)},!1),document.addEventListener("mozfullscreenchange",function(){f=document.mozFullScreen,z(f)},!1),document.addEventListener("webkitfullscreenchange",function(){f=document.webkitIsFullScreen,z(f)},!1),P.get(0).addEventListener("webkitbeginfullscreen",function(){z(f=!0)},!1),P.get(0).addEventListener("webkitendfullscreen",function(){z(f=!1)},!1),l||V("head").append("<style type='text/css'>video"+e+"::-webkit-media-controls { display:none !important; }</style>"),V(".html5boxFullscreen",E).css({display:"block",position:"relative",float:"right",width:"32px",height:"32px",margin:Math.floor((u-32)/2),cursor:"pointer","background-image":"url('"+t+"html5boxplayer_fullscreen.png')","background-position":"left top"}).hover(function(){var t=V(this).css("background-position")?V(this).css("background-position").split(" ")[0]:V(this).css("background-position-x");V(this).css({"background-position":t+" bottom"})},function(){var t=V(this).css("background-position")?V(this).css("background-position").split(" ")[0]:V(this).css("background-position-x");V(this).css({"background-position":t+" top"})}).on("click",function(){(f=!f)?(l&&(v.get(0).setAttribute("controls","controls"),n&&v.get(0).setAttribute("controlsList","nodownload")),P.get(0).requestFullscreen?P.get(0).requestFullscreen():P.get(0).webkitRequestFullScreen?P.get(0).webkitRequestFullScreen():P.get(0).mozRequestFullScreen?P.get(0).mozRequestFullScreen():P.get(0).webkitEnterFullScreen&&P.get(0).webkitEnterFullScreen(),P.get(0).msRequestFullscreen&&P.get(0).msRequestFullscreen()):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()})),w&&V(".html5boxHD",E).css({display:"block",position:"relative",float:"right",width:"32px",height:"32px",margin:Math.floor((u-32)/2),cursor:"pointer","background-image":"url('"+t+"html5boxplayer_hd.png')","background-position":(y?"right":"left")+" center"}).on("click",function(){y=!y,V(this).css({"background-position":(y?"right":"left")+" center"}),i.isHd=y;var t=v.get(0).isPaused;v.get(0).setAttribute("src",(y?w:x)+"#t="+v.get(0).currentTime),t?v.get(0).pause():v.get(0).play()});var j,N,L,O,B=0==(v.get(0).volume=h)?1:h;function _(t){var i=Math.floor(t/3600),e=((e=Math.floor((t-3600*i)/60))<10?"0"+e:e)+":"+((t=Math.floor(t-(3600*i+60*e)))<10?"0"+t:t);return 0<i&&(e=(i<10?"0"+i:i)+":"+e),e}e=v.get(0).volume,v.get(0).volume=e/2+.1,v.get(0).volume===e/2+.1&&(v.get(0).volume=e,h=V(".html5boxVolume",E),j=V(".html5boxVolumeButton",E),N=V(".html5boxVolumeBar",E),L=V(".html5boxVolumeBarBg",E),O=V(".html5boxVolumeBarActive",E),h.css({display:"block",position:"relative",float:"right",width:"32px",height:"32px",margin:Math.floor((u-32)/2)}).hover(function(){clearTimeout(g);var t=v.get(0).volume;O.css({height:Math.round(100*t)+"%"}),N.show()},function(){clearTimeout(g),g=setTimeout(function(){N.hide()},1e3)}),j.css({display:"block",position:"absolute",top:0,left:0,width:"32px",height:"32px",cursor:"pointer","background-image":"url('"+t+"html5boxplayer_volume.png')","background-position":"top "+(0<e?"left":"right")}).hover(function(){var t=V(this).css("background-position")?V(this).css("background-position").split(" ")[0]:V(this).css("background-position-x");V(this).css({"background-position":t+" bottom"})},function(){var t=V(this).css("background-position")?V(this).css("background-position").split(" ")[0]:V(this).css("background-position-x");V(this).css({"background-position":t+" top"})}).on("click",function(){var t=0<(t=v.get(0).volume)?(B=t,0):B,i=V(this).css("background-position")?V(this).css("background-position").split(" ")[1]:V(this).css("background-position-y");j.css({"background-position":(0<t?"left":"right")+" "+i}),0<t&&(v.get(0).muted=!1),v.get(0).volume=t,O.css({height:Math.round(100*t)+"%"})}),N.css({display:"none",position:"absolute",left:4,bottom:"100%",width:24,height:80,"margin-bottom":Math.floor((u-32)/2),"background-color":"#000000",opacity:.7,filter:"alpha(opacity=70)"}),L.css({display:"block",position:"relative",width:10,height:68,margin:7,cursor:"pointer","background-color":"#222"}),O.css({display:"block",position:"absolute",bottom:0,left:0,width:"100%",height:"100%","background-color":"#fcc500"}),L.on(p,function(t){t=1<(t=1-((a?t.originalEvent.touches[0]:t).pageY-L.offset().top)/L.height())?1:t<0?0:t,O.css({height:Math.round(100*t)+"%"}),j.css({"background-position":"left "+(0<t?"top":"bottom")}),0<t&&(v.get(0).muted=!1),v.get(0).volume=t,L.on(d,function(t){t=1<(t=1-((a?t.originalEvent.touches[0]:t).pageY-L.offset().top)/L.height())?1:t<0?0:t,O.css({height:Math.round(100*t)+"%"}),j.css({"background-position":"left "+(0<t?"top":"bottom")}),0<t&&(v.get(0).muted=!1),v.get(0).volume=t})}).on(c,function(){L.off(d)})),s&&k.hide(),o&&E.hide(),t=function(){s||k.show(),o||(E.show(),clearTimeout(m),T.show(),S.hide())},p=function(){V(window).trigger("html5lightbox.videoended"),s||k.show(),o||(E.show(),clearTimeout(m),T.show(),S.hide())},c=function(){var t,i,e=v.get(0).currentTime;e&&($.text(_(e)),(t=v.get(0).duration)&&(H.text(_(t)),i=I.width(),e=Math.round(i*e/t),C.css({width:e}),W.css({left:e})))},u=function(){var t;v.get(0).buffered&&0<v.get(0).buffered.length&&!isNaN(v.get(0).buffered.end(0))&&!isNaN(v.get(0).duration)&&(t=I.width(),F.css({width:Math.round(t*v.get(0).buffered.end(0)/v.get(0).duration)}))};try{v.on("play",function(){s||k.hide(),o||(T.hide(),S.show())}),v.on("pause",t),v.on("ended",p),v.on("timeupdate",c),v.on("progress",u)}catch(t){}};var E=jQuery,p=0;E.fn.html5gallery=function(l){function n(t,i,e){this.container=t,this.options=i,this.id=e,E(window).trigger("html5gallery.begin",[this.id]),this.options.flashInstalled=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(this.options.flashInstalled=!0)}catch(t){navigator.mimeTypes["application/x-shockwave-flash"]&&(this.options.flashInstalled=!0)}this.options.html5VideoSupported=!!document.createElement("video").canPlayType,this.options.isChrome=null!=navigator.userAgent.match(/Chrome/i),this.options.isFirefox=null!=navigator.userAgent.match(/Firefox/i),this.options.isOpera=null!=navigator.userAgent.match(/Opera/i)||null!=navigator.userAgent.match(/OPR\//i),this.options.isSafari=null!=navigator.userAgent.match(/Safari/i),this.options.isIE11=null!=navigator.userAgent.match(/Trident\/7/)&&null!=navigator.userAgent.match(/rv:11/),this.options.isIE=null!=navigator.userAgent.match(/MSIE/i)&&!this.options.isOpera,this.options.isIE10=null!=navigator.userAgent.match(/MSIE 10/i)&&!this.options.isOpera,this.options.isIE9=null!=navigator.userAgent.match(/MSIE 9/i)&&!this.options.isOpera,this.options.isIE8=null!=navigator.userAgent.match(/MSIE 8/i)&&!this.options.isOpera,this.options.isIE7=null!=navigator.userAgent.match(/MSIE 7/i)&&!this.options.isOpera,this.options.isIE6=null!=navigator.userAgent.match(/MSIE 6/i)&&!this.options.isOpera,this.options.isIE678=this.options.isIE6||this.options.isIE7||this.options.isIE8,this.options.isIE6789=this.options.isIE6||this.options.isIE7||this.options.isIE8||this.options.isIE9,this.options.isAndroid=null!=navigator.userAgent.match(/Android/i),this.options.isIPad=null!=navigator.userAgent.match(/iPad/i),this.options.isIPhone=null!=navigator.userAgent.match(/iPod/i)||null!=navigator.userAgent.match(/iPhone/i),this.options.isIOS=this.options.isIPad||this.options.isIPhone,this.options.isMobile=this.options.isAndroid||this.options.isIPad||this.options.isIPhone,this.options.isIOSLess5=this.options.isIPad&&this.options.isIPhone&&(null!=navigator.userAgent.match(/OS 4/i)||null!=navigator.userAgent.match(/OS 3/i)),this.options.supportCSSPositionFixed=!this.options.isIE6&&!this.options.isIOSLess5,this.eStart=(this.isTouch="ontouchstart"in window||this.options.forcetouch)?"touchstart":"mousedown",this.eMove=this.isTouch?"touchmove":"mousemove",this.eCancel=this.isTouch?"touchcancel":"mouseup",this.eClick="click",t=document.createElement("video"),this.options.canplaymp4=t&&t.canPlayType&&t.canPlayType("video/mp4").replace(/no/,""),this.slideshowTimeout=null,this.looptimes=0,this.updateCarouselTimeout=null,this.disableupdatecarousel=!1,this.hideToolboxTimeout=this.hideTitleTimeout=null,this.isHd=this.options.hddefault,this.isHTML5=!1,this.elemArray=[],E(".html5gallery-loading").hide(),this.container.children().hide(),this.container.css({display:"block",position:"relative"}),this.options.googlefonts&&0<this.options.googlefonts.length&&(t="https://fonts.googleapis.com/css?family="+this.options.googlefonts,(i=document.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(i)),this.initData(this.processElemArray)}return n.prototype={getParams:function(){for(var t={},i=window.location.search.substring(1).split("&"),e=0;e<i.length;e++){var o=i[e].split("=");o&&2==o.length&&(t[o[0].toLowerCase()]=unescape(o[1]))}return t},init:function(t){if(t.options.random)for(var i=t.elemArray.length-1;0<i;i--){var e=Math.floor(Math.random()*i),o=t.elemArray[i];t.elemArray[i]=t.elemArray[e],t.elemArray[e]=o}t.options.reverse&&t.elemArray.reverse(),t.initYoutubeApi(),t.options.showcarousel=(1<t.elemArray.length||t.options.showcarouselforsingle)&&t.options.showcarousel,t.options.watermarkcode="",(t.options.frve||0<t.options.watermarklink.length)&&(t.options.watermarkcode=""),t.options.watermarkcode+="",t.options.frve?t.options.watermarkcode+=t.options.frvem:0<t.options.watermark.length&&(t.options.watermarkcode+="<img src='"+t.options.watermark+"' alt='' />"),t.options.watermarkcode+="",(t.options.frve||0<t.options.watermarklink.length)&&(t.options.watermarkcode+=""),t.createStyle(),t.createMarkup(),t.createImageToolbox(),t.elemArray.length<=0||(t.createSliderTimeout(),t.createEvents(),t.loadCarousel(),t.savedElem=-1,t.curElem=-1,t.nextElem=-1,t.prevElem=-1,t.firstrun=!0,t.isPaused=!t.options.autoslide,t.isFullscreen=!1,t.isVideoPlaying=!1,t.showingPoster=!1,t.disableTouchSwipe=!1,t.createSocial(!1),i=t.getParams(),e=t.options.firstitemid,"html5galleryid"in i&&i.html5galleryid in t.elemArray&&(e=i.html5galleryid),"galleryshareid"in i&&i.galleryshareid in t.elemArray&&(e=i.galleryshareid),t.slideRun(e),t.firstrun=!1,t.options.responsive&&(t.resizeGallery(),E(window).resize(function(){setTimeout(function(){t.resizeGallery()},t.options.resizedelay)}),t.options.isMobile&&!t.options.mobileresizeevent)&&E(window).on("orientationchange",function(){setTimeout(function(){t.resizeGallery()},t.options.resizedelay)}),E(window).trigger("html5gallery.inited",[t.id,t.curElem]))},resizeGallery:function(){switch(this.options.skin){case"vertical":case"verticallight":case"showcase":this.resizeStyleVertical();break;default:this.resizeStyleDefault()}this.resizeImageToolbox()},absoluteUrl:function(t){var i=document.createElement("a");return i.href=t,i.protocol+"//"+i.host+i.pathname+i.search+i.hash},createSocial:function(t){var s,i,e,o;this.options.initsocial&&E("head").append('<link rel="stylesheet" href="'+this.options.jsfolder+'icons/css/fontello.css" type="text/css" />'),this.options.showsocial&&(s=this,E("head").append("<style type='text/css' data-creator='html5gallery'>.html5gallery-rotate { border-radius:50%; -webkit-transition:-webkit-transform .4s ease-in; transition: transform .4s ease-in; } .html5gallery-rotate:hover { -webkit-transform: rotate(360deg); transform: rotate(360deg); }</style>"),i="<div",i=(i=t?i+(' class="html5gallery-fullscreen-social-'+this.id+'" style="display:none;'+this.options.socialpositionlightbox)+'"':i+(' class="html5gallery-social-'+this.id+'" style="display:'+("mouseover"==this.options.socialmode?"none":"block")+";"+this.options.socialposition)+'"')+">",e=("horizontal"==this.options.socialdirection?"display:inline-block;":"display:block;")+"margin:4px;",o="display:table-cell;width:"+this.options.socialbuttonsize+"px;height:"+this.options.socialbuttonsize+"px;font-size:"+this.options.socialbuttonfontsize+"px;border-radius:50%;color:#fff;vertical-align:middle;text-align:center;cursor:pointer;padding:0;",this.options.showemail&&(i+='<div class="html5gallery-social-btn-'+this.id+(this.options.socialrotateeffect?" html5gallery-rotate":"")+' html5gallery-social-email" style="'+e+'"><div class="mh-icon-mail" style="'+o+'background-color:#4d83ff;"></div></div>'),this.options.showfacebook&&(i+='<div class="html5gallery-social-btn-'+this.id+(this.options.socialrotateeffect?" html5gallery-rotate":"")+' html5gallery-social-facebook" style="'+e+'"><div class="mh-icon-facebook" style="'+o+'background-color:#3b5998;"></div></div>'),this.options.showtwitter&&(i+='<div class="html5gallery-social-btn-'+this.id+(this.options.socialrotateeffect?" html5gallery-rotate":"")+' html5gallery-social-twitter" style="'+e+'"><div class="mh-icon-twitter" style="'+o+'background-color:#03b3ee;"></div></div>'),this.options.showpinterest&&(i+='<div class="html5gallery-social-btn-'+this.id+(this.options.socialrotateeffect?" html5gallery-rotate":"")+' html5gallery-social-pinterest" style="'+e+'"><div class="mh-icon-pinterest" style="'+o+'background-color:#c92228;"></div></div>'),this.options.showlinkedin&&(i+='<div class="html5gallery-social-btn-'+this.id+(this.options.socialrotateeffect?" html5gallery-rotate":"")+' html5gallery-social-linkedin" style="'+e+'"><div class="mh-icon-linkedin" style="'+o+'background-color:#0274b3;"></div></div>'),this.options.showgplus&&(i+='<div class="html5gallery-social-btn-'+this.id+(this.options.socialrotateeffect?" html5gallery-rotate":"")+' html5gallery-social-gplus" style="'+e+'"><div class="mh-icon-gplus" style="'+o+'background-color:#dd5144;"></div></div>'),i+='<div style="clear:both;"></div></div>',t?E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).append(i):(E(".html5gallery-box-"+this.id,this.$gallery).append(i),"mouseover"==this.options.socialmode&&E(".html5gallery-box-"+this.id).hover(function(){E(".html5gallery-social-"+s.id).fadeIn()},function(){E(".html5gallery-social-"+s.id).fadeOut()})),E(".html5gallery-social-btn-"+this.id).click(function(){var t=window.location.href+(window.location.href.indexOf("?")<0?"?":"&")+"galleryshareid="+s.elemArray[s.curElem][0],i=s.elemArray[s.curElem][7],e=s.absoluteUrl(s.elemArray[s.curElem][2]),o=5==s.elemArray[s.curElem][9]||6==s.elemArray[s.curElem][9]||7==s.elemArray[s.curElem][9]||8==s.elemArray[s.curElem][9]||9==s.elemArray[s.curElem][9]||10==s.elemArray[s.curElem][9]||11==s.elemArray[s.curElem][9],i=i?s.html2Text(i):"";return o&&s.elemArray[s.curElem][12]&&(e=s.absoluteUrl(s.elemArray[s.curElem][12])),E(this).hasClass("html5gallery-social-facebook")?window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t)+"&t="+encodeURIComponent(i),"_blank"):E(this).hasClass("html5gallery-social-twitter")?window.open("https://twitter.com/share?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(i),"_blank"):E(this).hasClass("html5gallery-social-pinterest")?window.open("https://pinterest.com/pin/create/bookmarklet/?media="+encodeURIComponent(e)+"&url="+encodeURIComponent(t)+"&description="+encodeURIComponent(i)+"&is_video="+(o?"true":"false"),"_blank"):E(this).hasClass("html5gallery-social-linkedin")?window.open("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(t)+"&title="+encodeURIComponent(i)+"&summary="+encodeURIComponent(i),"_blank"):E(this).hasClass("html5gallery-social-gplus")?window.open("https://plus.google.com/share?url="+encodeURIComponent(t),"_blank"):E(this).hasClass("html5gallery-social-email")&&window.open("mailto:?subject="+encodeURIComponent(i)+"&body=Check out this: "+encodeURIComponent(t)),!1}))},html2Text:function(t){var i=document.createElement("div");return i.innerHTML=t,i.innerText},checkMK:function(){var t,i;this.options.frve&&(t=E(".html5gallery-elem-"+this.id,this.container),i=E('a[href="'+this.options.freelink+'"]',t),t.text().indexOf(this.options.frvem)<0||i.length<0?t.append(""):(t=i.find("div"),("none"==i.css("display")||"hidden"==i.css("visibility")||parseInt(i.css("font-size"))<8||"none"==t.css("display")||"hidden"==t.css("visibility")||parseInt(t.css("font-size"))<8)&&(i.attr({style:(i.attr("style")||"")+"display:block!important;visibility:visible!important;font-size:12px!important;"}),t.attr({style:t.attr("style")+"display:block!important;visibility:visible!important;font-size:12px!important;"}))))},initData:function(o){var t,s;this.elemArray=[],this.options.src&&0<this.options.src.length?(t=this.options.mediatype?this.options.mediatype:this.checkType(this.options.src),this.elemArray.push([0,"",this.options.src,this.options.webm,this.options.ogg,"","",this.options.title?this.options.title:"",this.options.title?this.options.title:"",t,this.options.width,this.options.height,this.options.poster,this.options.hd,this.options.hdogg,this.options.hdwebm]),this.readTags(),o(this)):this.options.xml&&0<this.options.xml.length?(this.options.xmlnocache&&(this.options.xml+=this.options.xml.indexOf("?")<0?"?":"&",this.options.xml+=Math.random()),s=this,E.ajax({type:"GET",url:this.options.xml,dataType:"xml",success:function(t){E(t).find("slide").each(function(t){var i=(i=E(this).find("title").text())||"",e=(e=E(this).find("description").text()?E(this).find("description").text():E(this).find("information").text())||"",o=E(this).find("mediatype").text()?E(this).find("mediatype").text():s.checkType(E(this).find("file").text());s.elemArray.push([E(this).find("id").length?E(this).find("id").text():t,E(this).find("thumbnail").text(),E(this).find("file").text(),E(this).find("file-ogg").text(),E(this).find("file-webm").text(),E(this).find("link").text(),E(this).find("linktarget").text(),i,e,o,E(this).find("width").length&&!isNaN(parseInt(E(this).find("width").text()))?parseInt(E(this).find("width").text()):s.options.width,E(this).find("height").length&&!isNaN(parseInt(E(this).find("height").text()))?parseInt(E(this).find("height").text()):s.options.height,E(this).find("poster").text(),E(this).find("hd").text(),E(this).find("hdogg").text(),E(this).find("hdwebm").text(),E(this).find("duration").text(),E(this).find("lightboxwidth").text(),E(this).find("lightboxheight").text(),E(this).find("youtubeapikey").text(),E(this).find("youtubeplaylistid").text(),E(this).find("youtubeplaylistmaxresults").text(),"true"==E(this).find("lightbox").text().toLowerCase()])}),s.readTags(),o(s)}})):this.options.remote&&0<this.options.remote.length?(s=this,E.getJSON(this.options.remote,function(t){for(var i=0;i<t.length;i++){var e=t[i].mediatype?t[i].mediatype:s.checkType(t[i].file);s.elemArray.push([i,t[i].thumbnail,t[i].file,t[i].fileogg,t[i].filewebm,t[i].link,t[i].linktarget,t[i].title,t[i].description,e,t[i].width&&!isNaN(parseInt(t[i].width))?parseInt(t[i].width):s.options.width,t[i].height&&!isNaN(parseInt(t[i].height))?parseInt(t[i].height):s.options.height,t[i].poster,t[i].hd,t[i].hdogg,t[i].hdwebm,t[i].duration,t[i].lightboxwidth,t[i].lightboxheight,t[i].youtubeapikey,t[i].youtubeplaylistid,t[i].youtubeplaylistmaxresults,t[i].lightbox])}s.readTags(),o(s)})):this.options.youtubechannel?(t={alt:"json",v:2,orderby:this.options.youtubechannel.orderby?this.options.youtubechannel.orderby:"published","start-index":this.options.youtubechannel["start-index"]?this.options.youtubechannel["start-index"]:1,"max-results":this.options.youtubechannel["max-results"]?this.options.youtubechannel["max-results"]:10},this.options.youtubechannel.author?t.author=this.options.youtubechannel.author:this.options.youtubechannel.q&&(t.q=this.options.youtubechannel.q),t="https://gdata.youtube.com/feeds/api/videos?"+E.param(t),s=this,E.getJSON(t,function(t){if(t&&t.feed&&t.feed.entry)for(var i=1;i<t.feed.entry.length;i++)s.elemArray.push([i,"https://img.youtube.com/vi/"+t.feed.entry[i].media$group.yt$videoid.$t+"/"+s.options.youtubethumb,t.feed.entry[i].media$group.media$player.url,null,null,null,null,t.feed.entry[i].media$group.media$title.$t,t.feed.entry[i].media$group.media$description.$t,9,640,480,"https://img.youtube.com/vi/"+t.feed.entry[i].media$group.yt$videoid.$t+"/"+s.options.youtubeimage,null,null,null,null]);s.readTags(),o(s)})):this.options.youtubeapikey&&this.options.youtubeplaylistid?(s=this).getYouTubePlaylist(this.options.youtubeapikey,this.options.youtubeplaylistid,this.options.youtubeplaylistmaxresults,-1,function(){s.readTags(),o(s)},this,null):(this.readTags(),o(this))},readTags:function(){var A=this;(E("img.html5galleryimg",this.container).length?E("img.html5galleryimg",this.container):E("img",this.container)).each(function(){for(var t=(t=E(this).attr("src"))||E(this).get(0).src,i=A.options.lazyloadtags.split(","),e=0;e<i.length;e++)if(E(this).data(i[e])&&0<E(this).data(i[e]).length){t=E(this).data(i[e]);break}var i=t,e=E(this).data("title")?E(this).data("title"):E(this).attr("alt"),o=E(this).data("description")?E(this).data("description"):E(this).data("information"),s=E(this).attr("alt")?E(this).attr("alt"):E(this).data("title");e=e||"",o=o||"",s=s||"";var h=A.options.width,l=A.options.height,n=E(this).data("duration")?E(this).data("duration"):0,r=null,a=null,p=null,d=null,c=null,u=null,m=null,g=null,f=null,b=null,y=null,w=null,x=null,v=!1;E(this).parent().is("a")&&(i=E(this).parent().attr("href"),r=E(this).parent().data("ogg"),a=E(this).parent().data("webm"),p=E(this).parent().data("link"),d=E(this).parent().data("linktarget"),c=E(this).parent().data("poster"),isNaN(E(this).parent().data("width"))||(h=E(this).parent().data("width")),isNaN(E(this).parent().data("height"))||(l=E(this).parent().data("height")),u=E(this).parent().data("hd"),m=E(this).parent().data("hdogg"),g=E(this).parent().data("hdwebm"),f=E(this).parent().data("lightboxwidth"),b=E(this).parent().data("lightboxheight"),y=E(this).parent().data("youtubeapikey"),w=E(this).parent().data("youtubeplaylistid"),x=E(this).parent().data("youtubeplaylistmaxresults"),v=E(this).parent().hasClass("html5gallerylightbox"));var k=E(this).parent().data("mediatype")?E(this).parent().data("mediatype"):A.checkType(i);A.elemArray.push([A.elemArray.length,t,i,r,a,p,d,e,o,k,h,l,c,u,m,g,n,f,b,y,w,x,v,h,l,s])})},getYouTubePlaylist:function(s,h,l,n,r,a,t){0<=n&&a.elemArray.splice(n,1);var i="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+h+"&key="+s;l&&(i=50<l?i+"&maxResults=50":i+"&maxResults="+l),t&&(i+="&pageToken="+t);var p=!0;E.getJSON(i,function(t){if(t&&t.items)for(var i=0;i<t.items.length;i++){var e=t.items[i].snippet.resourceId.videoId,o="https://img.youtube.com/vi/"+e+"/"+a.options.youtubeimage;a.options.youtubeplaylistusemaxres&&t.items[i].snippet.thumbnails&&t.items[i].snippet.thumbnails.maxres&&(o=t.items[i].snippet.thumbnails.maxres.url),e=[i,"https://img.youtube.com/vi/"+e+"/"+a.options.youtubethumb,"https://www.youtube.com/embed/"+e,null,null,null,null,t.items[i].snippet.title,t.items[i].snippet.description,9,640,480,o,null,null,null,null],0<=n?(a.elemArray.splice(n,0,e),n++):a.elemArray.push(e)}t&&t.nextPageToken&&l&&50<l&&(p=!1,a.getYouTubePlaylist(s,h,l-50,n,r,a,t.nextPageToken))}).always(function(){p&&r(a)})},processElemArray:function(t){for(var i=!1,e=0;e<t.elemArray.length;e++)t.elemArray[e][25]||(t.elemArray[e][25]=t.elemArray[e][7]);for(e=0;e<t.elemArray.length;e++)if(13==t.elemArray[e][9]&&t.elemArray[e][19]&&t.elemArray[e][20]){i=!0;break}i?t.getYouTubePlaylist(t.elemArray[e][19],t.elemArray[e][20],t.elemArray[e][21],e,t.processElemArray,t,null):t.init(t)},createMarkup:function(){this.$gallery=jQuery("<div class='html5gallery-container-"+this.id+"'><div class='html5gallery-box-"+this.id+"'><div class='no-boxshadow html5gallery-elem-"+this.id+"'></div><div class='html5gallery-title-"+this.id+"'></div><div class='html5gallery-timer-"+this.id+"'></div><div class='html5gallery-viral-"+this.id+"'></div><div class='html5gallery-toolbox-"+this.id+"'><div class='html5gallery-toolbox-bg-"+this.id+"'></div><div class='html5gallery-toolbox-buttons-"+this.id+"'><div class='html5gallery-play-"+this.id+"'></div><div class='html5gallery-pause-"+this.id+"'></div><div class='html5gallery-left-"+this.id+"'></div><div class='html5gallery-right-"+this.id+"'></div><div class='html5gallery-lightbox-"+this.id+"'></div></div></div></div><div class='html5gallery-car-"+this.id+"'><div class='html5gallery-car-list-"+this.id+"'><div class='html5gallery-car-mask-"+this.id+"'><div class='html5gallery-thumbs-"+this.id+"'></div></div><div class='html5gallery-car-slider-bar-"+this.id+"'><div class='html5gallery-car-slider-bar-top-"+this.id+"'></div><div class='html5gallery-car-slider-bar-middle-"+this.id+"'></div><div class='html5gallery-car-slider-bar-bottom-"+this.id+"'></div></div><div class='html5gallery-car-left-"+this.id+"'></div><div class='html5gallery-car-right-"+this.id+"'></div><div class='html5gallery-car-slider-"+this.id+"'></div></div></div></div>"),this.$gallery.appendTo(this.container),this.options.socialurlforeach||this.createSocialMedia(),this.options.googleanalyticsaccount&&!window._gaq&&(window._gaq=window._gaq||[],window._gaq.push(["_setAccount",this.options.googleanalyticsaccount]),window._gaq.push(["_trackPageview"]),E.getScript("https://ssl.google-analytics.com/ga.js"))},createSocialMedia:function(){E(".html5gallery-viral-"+this.id,this.$gallery).empty();var t,i=window.location.href;this.options.socialurlforeach&&(i+=(window.location.href.indexOf("?")<0?"?":"&")+"html5galleryid="+this.elemArray[this.curElem][0]),this.options.showsocialmedia&&this.options.showfacebooklike&&(t="<div style='display:block; float:left; width:110px; height:21px;'><iframe src='https://www.facebook.com/plugins/like.php?href=",t=this.options.facebooklikeurl&&0<this.options.facebooklikeurl.length?t+encodeURIComponent(this.options.facebooklikeurl):t+i,E(".html5gallery-viral-"+this.id,this.$gallery).append(t+"&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21' scrolling='no' frameborder='0' style='border:none;;overflow:hidden; width:110px; height:21px;' allowTransparency='true'></iframe></div>")),this.options.showsocialmedia&&this.options.showtwitter&&(t="<div style='display:block; float:left; width:110px; height:21px;'><a href='https://twitter.com/share' class='twitter-share-button'",t=this.options.twitterurl&&0<this.options.twitterurl.length?t+(" data-url='"+this.options.twitterurl)+"'":t+" data-url='"+i+"'",this.options.twitterusername&&0<this.options.twitterusername.length&&(t+=" data-via='"+this.options.twittervia+"' data-related='"+this.options.twitterusername+"'"),E(".html5gallery-viral-"+this.id,this.$gallery).append(t+">Tweet</a></div>"),E.getScript("https://platform.twitter.com/widgets.js")),this.options.showsocialmedia&&this.options.showgoogleplus&&(t="<div style='display:block; float:left; width:100px; height:21px;'><div class='g-plusone' data-size='medium'",t=this.options.googleplusurl&&0<this.options.googleplusurl.length?t+(" data-href='"+this.options.googleplusurl)+"'":t+" data-href='"+i+"'",E(".html5gallery-viral-"+this.id,this.$gallery).append(t+"></div></div>"),E.getScript("https://apis.google.com/js/plusone.js"))},playGallery:function(){E(".html5gallery-play-"+this.id,this.$gallery).hide(),E(".html5gallery-pause-"+this.id,this.$gallery).show(),this.isPaused=!1,this.slideshowTimeout.setInterval(this.elemArray[this.curElem][16]?this.elemArray[this.curElem][16]:this.options.slideshowinterval),this.slideshowTimeout.start(),E(".html5gallery-timer-"+this.id,this.$gallery).css({width:0})},pauseGallery:function(){E(".html5gallery-play-"+this.id,this.$gallery).show(),E(".html5gallery-pause-"+this.id,this.$gallery).hide(),this.isPaused=!0,this.slideshowTimeout.stop(),E(".html5gallery-timer-"+this.id,this.$gallery).css({width:0})},createSliderTimeout:function(){var i=this;i.slideshowTimeout=new t(i.options.slideshowinterval,function(){i.slideRun(-1)},i.options.showtimer?function(t){i.updateTimer(t)}:null),i.options.pauseonmouseover&&E(".html5gallery-elem-"+this.id,this.$gallery).hover(function(){i.isPaused||i.slideshowTimeout.pause()},function(){i.isPaused||i.slideshowTimeout.resume(!1)})},updateTimer:function(t){this.isFullscreen?(t=Math.max(0,Math.floor(E(".html5gallery-fullscreen-elem-wrapper-"+this.id,this.$fullscreen).width()*t)),E(".html5gallery-fullscreen-timer-"+this.id,this.$fullscreen).css({width:t+"px"})):(t=Math.max(0,Math.floor(E(".html5gallery-elem-"+this.id,this.$gallery).width()*t)),E(".html5gallery-timer-"+this.id,this.$gallery).css({width:t+"px"}))},createEvents:function(){var t,o=this;E(".html5gallery-play-"+this.id,this.$gallery).click(function(){o.playGallery()}),E(".html5gallery-pause-"+this.id,this.$gallery).click(function(){o.pauseGallery()}),E(".html5gallery-lightbox-"+this.id,this.$gallery).click(function(){o.goFullscreen()}),E(".html5gallery-left-"+this.id,this.$gallery).click(function(){o.slideRun(-2,!0)}),E(".html5gallery-right-"+this.id,this.$gallery).click(function(){o.slideRun(-1,!0)}),o.options.enabletouchswipe&&(t=!(!o.options.isAndroid||!o.options.enabletouchswipeonandroid),E(".html5gallery-box-"+this.id,this.$gallery).touchSwipe({preventWebBrowser:t,swipeLeft:function(){o.disableTouchSwipe||o.slideRun(-1,!0)},swipeRight:function(){o.disableTouchSwipe||o.slideRun(-2,!0)}})),"ontouchstart"in window&&o.options.disablehovereventontouch||(E(".html5gallery-box-"+this.id,this.$gallery).mousemove(function(){var t;"mouseover"==o.options.imagetoolboxmode&&(t=o.elemArray[o.curElem][9],("always"==o.options.showimagetoolbox||"image"==o.options.showimagetoolbox&&1==t)&&o.showimagetoolbox(t,!0)),!o.options.titleoverlay||!o.options.titleautohide||o.options.hidetitlewhenvideoisplaying&&o.isVideoPlaying||(E(".html5gallery-title-"+o.id,o.$gallery).show(),clearTimeout(o.hideTitleTimeout),o.hideTitleTimeout=setTimeout(function(){E(".html5gallery-title-"+o.id,o.$gallery).fadeOut()},3e3))}),E(".html5gallery-box-"+this.id,this.$gallery).hover(function(){var t;o.onSlideshowOver(),"mouseover"==o.options.imagetoolboxmode&&(t=o.elemArray[o.curElem][9],("always"==o.options.showimagetoolbox||"image"==o.options.showimagetoolbox&&1==t)&&o.showimagetoolbox(t)),!o.options.titleoverlay||!o.options.titleautohide||o.options.hidetitlewhenvideoisplaying&&o.isVideoPlaying||(E(".html5gallery-title-"+o.id,o.$gallery).fadeIn(),clearTimeout(o.hideTitleTimeout),o.hideTitleTimeout=setTimeout(function(){E(".html5gallery-title-"+o.id,o.$gallery).fadeOut()},3e3))},function(){"mouseover"==o.options.imagetoolboxmode&&o.hideimagetoolbox(),o.options.titleoverlay&&o.options.titleautohide&&(E(".html5gallery-title-"+o.id,o.$gallery).fadeOut(),clearTimeout(o.hideTitleTimeout))})),E(".html5gallery-car-left-"+this.id,this.$gallery).css({"background-position":"-"+String(2*this.options.carouselarrowwidth)+"px 0px",cursor:""}),E(".html5gallery-car-left-"+this.id,this.$gallery).data("disabled",!0),E(".html5gallery-car-right-"+this.id,this.$gallery).css({"background-position":"0px 0px"}),E(".html5gallery-car-left-"+this.id,this.$gallery).click(function(){E(this).data("disabled")||(o.disableupdatecarousel=!0,o.updateCarouselTimeout=setTimeout(function(){o.enableUpdateCarousel()},o.options.updatecarouselinterval),o.carouselPrev())}),E(".html5gallery-car-right-"+this.id,this.$gallery).click(function(){E(this).data("disabled")||(o.disableupdatecarousel=!0,o.updateCarouselTimeout=setTimeout(function(){o.enableUpdateCarousel()},o.options.updatecarouselinterval),o.carouselNext())}),E(".html5gallery-car-slider-"+this.id,this.$gallery).on("drag",function(t,i){o.disableupdatecarousel=!0,o.updateCarouselTimeout=setTimeout(function(){o.enableUpdateCarousel()},o.options.updatecarouselinterval),o.carouselSliderDrag(t,i)}),E(".html5gallery-car-slider-bar-"+this.id,this.$gallery).click(function(t){o.disableupdatecarousel=!0,o.updateCarouselTimeout=setTimeout(function(){o.enableUpdateCarousel()},o.options.updatecarouselinterval),o.carouselBarClicked(t)}),"vertical"!=this.options.skin&&"verticallight"!=this.options.skin&&"showcase"!=this.options.skin||E(".html5gallery-car-list-"+this.id,this.$gallery).on("DOMMouseScroll mousewheel wheel",function(t){t.preventDefault();var i,e=o.elemArray.length*(o.options.thumbheight+o.options.thumbgap);e<o.options.thumbMaskHeight||(e=-1*(e-o.options.thumbMaskHeight),i=0,t.originalEvent&&(t.originalEvent.wheelDeltaY?i=t.originalEvent.wheelDeltaY:t.originalEvent.detail?i=-40*t.originalEvent.detail:t.originalEvent.wheelDelta?i=t.originalEvent.wheelDelta:t.originalEvent.deltaY&&(i=t.originalEvent.deltaY)),0<(t=parseInt(E(".html5gallery-thumbs-"+o.id,o.$gallery).css("marginTop"))+i)&&(t=0),t<e&&(t=e),e=(o.options.carouselSliderMax-o.options.carouselSliderMin)*t/e,E(".html5gallery-car-slider-"+o.id,o.$gallery).css({top:e}),E(".html5gallery-thumbs-"+o.id,o.$gallery).css({marginTop:t}))}),"ontouchstart"in window||(E(".html5gallery-car-left-"+this.id,this.$gallery).hover(function(){E(this).data("disabled")||E(this).css({"background-position":"-"+o.options.carouselarrowwidth+"px 0px"})},function(){E(this).data("disabled")||E(this).css({"background-position":"0px 0px"})}),E(".html5gallery-car-right-"+this.id,this.$gallery).hover(function(){E(this).data("disabled")||E(this).css({"background-position":"-"+o.options.carouselarrowwidth+"px 0px"})},function(){E(this).data("disabled")||E(this).css({"background-position":"0px 0px"})})),"ontouchstart"in window&&("vertical"==this.options.skin||"verticallight"==this.options.skin||"showcase"==this.options.skin?E(".html5gallery-car-"+this.id,this.$gallery).touchSwipe({preventWebBrowser:!0,swipeTop:function(){E(".html5gallery-car-right-"+o.id,o.$gallery).click()},swipeBottom:function(){E(".html5gallery-car-left-"+o.id,o.$gallery).click()},instance:o,preventWebBrowserCallback:"verticalPreventWebBrowserCallback"}):E(".html5gallery-car-"+this.id,this.$gallery).touchSwipe({preventWebBrowser:!1,swipeLeft:function(){E(".html5gallery-car-right-"+o.id,o.$gallery).click()},swipeRight:function(){E(".html5gallery-car-left-"+o.id,o.$gallery).click()}}))},verticalPreventWebBrowserCallback:function(t){var i=parseInt(E(".html5gallery-thumbs-"+this.id,this.$gallery).css("margin-top"));return t?i>this.options.thumbMaskHeight-this.options.thumbTotalHeight:i<0},createStyle:function(){switch(this.options.skin){case"vertical":case"verticallight":case"showcase":this.createStyleVertical();break;default:this.createStyleDefault()}},resizeStyleVertical:function(){var t,i,e,o,s,h;this.container.parent()&&this.container.parent().width()&&(this.options.containerWidth=this.container.parent().width(),this.options.totalWidth=this.options.containerWidth,this.options.carouselposresponsive&&((i=E(window).width())<this.options.carouselposresponsiveonscreenwidth?this.options.carouselposition="bottom":(this.options.carouselposition=this.options.originalcarouselposition,this.options.thumbwidth=this.options.originalthumbwidth)),this.options.showcarousel&&(this.options.carouselWidth="bottom"==this.options.carouselposition?this.options.width:this.options.thumbwidth),"bottom"==this.options.carouselposition?this.options.width=this.options.totalWidth-2*this.options.padding:(this.options.width=this.options.totalWidth-2*this.options.padding,0<this.options.carouselWidth+this.options.carouselmargin&&(this.options.width-=this.options.carouselWidth+this.options.carouselmargin)),this.options.responsivefullscreen&&0<this.container.parent().height()?(this.options.containerHeight=this.container.parent().height(),this.options.totalHeight=this.options.containerHeight,this.options.height="bottom"==this.options.carouselposition?this.options.totalHeight-(this.options.headerHeight+2*this.options.padding+this.options.carouselheight):this.options.totalHeight-(this.options.headerHeight+2*this.options.padding)):(this.options.height=Math.round(this.options.width*this.options.originalHeight/this.options.originalWidth),this.options.totalHeight="bottom"==this.options.carouselposition?this.options.height+this.options.headerHeight+2*this.options.padding+this.options.carouselmargin+this.options.carouselHeight:this.options.height+this.options.headerHeight+2*this.options.padding,this.options.containerHeight=this.options.totalHeight),this.container.css({width:this.options.containerWidth,height:this.options.containerHeight}),this.options.boxWidth=this.options.width,this.options.boxHeight=this.options.height+this.options.headerHeight,this.options.slideshadow&&(this.options.boxWidth+=8),this.options.showcarousel&&("bottom"==this.options.carouselposition?(this.options.carouselWidth=this.options.width,this.options.carouselHeight=this.options.carouselheight,this.options.carouselLeft=this.options.padding,this.options.carouselTop=this.options.height+this.options.headerHeight+2*this.options.padding,this.options.carAreaLength=this.options.carouselHeight,this.options.carouselSlider=Math.floor(this.options.carAreaLength/(this.options.thumbheight+this.options.thumbgap))<this.elemArray.length,this.options.thumbwidth=this.options.width,this.options.carouselSlider&&(this.options.thumbwidth-=20)):(this.options.carouselWidth=this.options.thumbwidth,this.options.carouselHeight=this.options.height+this.options.headerHeight,this.options.carTop=0,this.options.carBottom=0,this.options.carAreaLength=this.options.carouselHeight-this.options.carTop-this.options.carBottom,this.options.carouselSlider=Math.floor(this.options.carAreaLength/(this.options.thumbheight+this.options.thumbgap))<this.elemArray.length,this.options.carouselSlider&&(this.options.carouselWidth+=20,this.options.width-=20,this.options.height=Math.round(this.options.width*this.options.originalHeight/this.options.originalWidth),this.options.boxWidth=this.options.width,this.options.slideshadow&&(this.options.boxWidth+=8)),"left"==this.options.carouselposition?(this.options.boxLeft=this.options.padding+this.options.carouselWidth+this.options.carouselmargin,this.options.carouselLeft=this.options.padding):this.options.carouselLeft=this.options.padding+this.options.width+this.options.carouselmargin,this.options.carouselTop=this.options.padding),E(".html5gallery-car-mask-"+this.id).css({width:this.options.thumbwidth+"px"}),E(".html5gallery-tn-"+this.id).css({width:this.options.thumbwidth+"px"}),E(".html5gallery-tn-selected-"+this.id).css({width:this.options.thumbwidth+"px"}),E(".html5gallery-car-slider-bar-"+this.id).css({left:String(this.options.thumbwidth+6)+"px"}),this.options.isMobile||this.isTouch&&this.options.splitvsliderontouch?(E(".html5gallery-car-left-"+this.id).css({left:String(this.options.thumbwidth+5)+"px"}),E(".html5gallery-car-right-"+this.id).css({left:String(this.options.thumbwidth+5)+"px"})):E(".html5gallery-car-slider-"+this.id).css({left:String(this.options.thumbwidth+5)+"px"}),i=this.options.thumbwidth-3*this.options.thumbmargin,this.options.thumbshowimage&&(i-=this.options.thumbimagewidth+2*this.options.thumbimageborder),this.options.thumbshowtitle&&E("head").append("<style type='text/css' data-creator='html5gallery'>.html5gallery-tn-title-"+this.id+" {width: "+i+"px;}</style>")),E(".html5gallery-container-"+this.id).css({width:this.options.totalWidth+"px",height:this.options.totalHeight+"px"}),E(".html5gallery-box-"+this.id).css({width:this.options.boxWidth+"px",height:this.options.boxHeight+"px"}),1==(i=this.elemArray[this.curElem][9])||this.showingPoster?(o=this.showingPoster?this.elemArray[this.curElem][23]:this.elemArray[this.curElem][10],e=this.showingPoster?this.elemArray[this.curElem][24]:this.elemArray[this.curElem][11],t=this.isFullscreen?(i=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):this.fullscreenWidth,t=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):this.fullscreenHeight,1<(t=Math.min(i/o,t/e))?1:t):"fill"==this.options.resizemode?Math.max(this.options.width/o,this.options.height/e):Math.min(this.options.width/o,this.options.height/e),i=Math.round(t*o),t=Math.round(t*e),e=this.isFullscreen?i:this.options.width,o=this.isFullscreen?t:this.options.height,s=Math.round(e/2-i/2),h=Math.round(o/2-t/2),this.isFullscreen&&this.adjustFullscreen(e,o,!0),E(".html5gallery-elem-"+this.id).css({width:e+"px",height:o+"px"}),E(".html5gallery-elem-img-"+this.id).css({width:e+"px",height:o+"px"}),E(".html5gallery-elem-image-"+this.id).css({width:i+"px",height:t+"px",top:h+"px",left:s+"px"})):12!=i&&5!=i&&6!=i&&7!=i&&8!=i&&9!=i&&10!=i&&11!=i||(e=this.elemArray[this.curElem][10],o=this.elemArray[this.curElem][11],this.isFullscreen?(i=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):this.fullscreenWidth,t=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):this.fullscreenHeight,t=1<(t=Math.min(i/e,t/o))?1:t,e=Math.round(t*e),o=Math.round(t*o),this.adjustFullscreen(e,o,!0)):(e=this.options.width,o=this.options.height),E(".html5gallery-elem-"+this.id).css({width:e+"px",height:o+"px"}),E(".html5gallery-elem-video-"+this.id).css({width:e+"px",height:o+"px"}),E(".html5gallery-elem-video-container-"+this.id).css({width:"100%",height:"100%"}),E(".html5gallery-elem-video-container-"+this.id).find("video").css({width:"100%",height:"100%"}),E("#html5gallery-elem-video-"+this.id).css({width:e+"px",height:o+"px"}),E("#html5gallery-elem-video-"+this.id).attr("width",e),E("#html5gallery-elem-video-"+this.id).attr("height",o),E(".html5gallery-elem-video-"+this.id).find("iframe").attr("width",e),E(".html5gallery-elem-video-"+this.id).find("iframe").attr("height",o),E("#html5gallery-elem-video-"+this.id).find("iframe").attr("width",e),E("#html5gallery-elem-video-"+this.id).find("iframe").attr("height",o),E(".html5gallery-elem-iframe-"+this.id).css({width:e+"px",height:o+"px"}),E(".html5gallery-elem-iframe-"+this.id).find("iframe").attr("width",e),E(".html5gallery-elem-iframe-"+this.id).find("iframe").attr("height",o)),t=e=0,"bottom"==this.options.headerpos&&(e=this.options.titleoverlay?this.options.height-this.options.titleheight:this.options.height,t=this.options.titleoverlay?this.options.height:this.options.height+this.options.titleheight),i=this.options.slideshadow?this.options.boxWidth-8:this.options.boxWidth,E(".html5gallery-title-"+this.id).css({width:i+"px"}),this.options.titleoverlay||E(".html5gallery-title-"+this.id).css({top:e+"px"}),E(".html5gallery-viral-"+this.id).css({top:t+"px"}),E(".html5gallery-timer-"+this.id).css({top:String(this.options.elemTop+this.options.height-2)+"px"}),this.options.showcarousel&&(E(".html5gallery-car-"+this.id).css({width:this.options.carouselWidth+"px",height:this.options.carouselHeight+"px",top:this.options.carouselTop+"px",left:this.options.carouselLeft+"px",top:this.options.carouselTop+"px"}),E(".html5gallery-car-list-"+this.id).css({top:this.options.carTop+"px",height:String(this.options.carAreaLength)+"px",width:this.options.carouselWidth+"px"}),this.options.thumbShowNum=Math.floor(this.options.carAreaLength/(this.options.thumbheight+this.options.thumbgap)),this.options.thumbShowNum<1&&(this.options.thumbShowNum=1),this.options.thumbMaskHeight=this.options.thumbShowNum*this.options.thumbheight+(this.options.thumbShowNum-1)*this.options.thumbgap,this.options.thumbTotalHeight=this.elemArray.length*this.options.thumbheight+(this.elemArray.length-1)*this.options.thumbgap,this.options.carouselSlider&&(this.options.carouselSliderMin=0,this.options.carouselSliderMax=this.options.thumbMaskHeight-54,E(".html5gallery-car-slider-bar-"+this.id).css({height:this.options.thumbMaskHeight+"px"}),E(".html5gallery-car-slider-bar-middle-"+this.id).css({height:String(this.options.thumbMaskHeight-32)+"px"}),(this.options.isMobile||this.isTouch&&this.options.splitvsliderontouch)&&E(".html5gallery-car-right-"+this.id).css({top:String(this.options.thumbMaskHeight-35)+"px"}),E(".html5gallery-car-slider-bar-"+this.id).css({display:"block"}),E(".html5gallery-car-left-"+this.id).css({display:"block"}),E(".html5gallery-car-right-"+this.id).css({display:"block"}),E(".html5gallery-car-slider-"+this.id).css({display:"block"})),i=0,this.options.carouselNavButton&&(i=Math.round(this.options.carAreaLength/2-this.options.thumbMaskHeight/2)),E(".html5gallery-car-mask-"+this.id).css({top:i+"px",height:this.options.thumbMaskHeight+"px"}),this.carouselHighlight(this.curElem)))},createStyleVertical:function(){this.options.originalcarouselposition=this.options.carouselposition,this.options.originalthumbwidth=this.options.thumbwidth,this.options.thumbimagewidth=this.options.thumbshowtitle?this.options.thumbheight-2*this.options.thumbimageborder-4:this.options.thumbwidth-2*this.options.thumbimageborder-4,this.options.thumbimageheight=this.options.thumbheight-2*this.options.thumbimageborder-4,this.options.showtitle||(this.options.titleheight=0),this.options.showsocialmedia&&(this.options.showfacebooklike||this.options.showtwitter||this.options.showgoogleplus)||(this.options.socialheight=0),this.options.headerHeight=this.options.titleoverlay?this.options.socialheight:this.options.titleheight+this.options.socialheight,this.options.boxWidth=this.options.width,this.options.boxHeight=this.options.height+this.options.headerHeight,this.options.boxLeft=this.options.padding,this.options.boxTop=this.options.padding,this.options.slideshadow&&(this.options.boxWidth+=8),this.options.showcarousel?"bottom"==this.options.carouselposition?(this.options.carouselWidth=this.options.width,this.options.carouselHeight=this.options.carouselheight,this.options.carouselLeft=this.options.padding,this.options.carouselTop=this.options.height+this.options.headerHeight+2*this.options.padding,this.options.carAreaLength=this.options.carouselHeight,this.options.carouselSlider=Math.floor(this.options.carAreaLength/(this.options.thumbheight+this.options.thumbgap))<this.elemArray.length,this.options.thumbwidth=this.options.width,this.options.carouselSlider&&(this.options.thumbwidth-=20)):(this.options.carouselWidth=this.options.thumbwidth,this.options.carouselHeight=this.options.height+this.options.headerHeight,this.options.carTop=0,this.options.carBottom=0,this.options.carAreaLength=this.options.carouselHeight-this.options.carTop-this.options.carBottom,this.options.carouselSlider=Math.floor(this.options.carAreaLength/(this.options.thumbheight+this.options.thumbgap))<this.elemArray.length,this.options.carouselSlider&&(this.options.carouselWidth+=20),"left"==this.options.carouselposition?(this.options.boxLeft=this.options.padding+this.options.carouselWidth+this.options.carouselmargin,this.options.carouselLeft=this.options.padding):this.options.carouselLeft=this.options.padding+this.options.width+this.options.carouselmargin,this.options.carouselTop=this.options.padding):(this.options.carouselWidth=0,this.options.carouselHeight=0,this.options.carouselLeft=0,this.options.carouselTop=0,this.options.carouselmargin=0),"bottom"==this.options.carouselposition?(this.options.totalWidth=this.options.width+2*this.options.padding,this.options.totalHeight=this.options.height+this.options.headerHeight+2*this.options.padding+this.options.carouselmargin+this.options.carouselHeight):(this.options.totalWidth=this.options.width+this.options.carouselWidth+this.options.carouselmargin+2*this.options.padding,this.options.totalHeight=this.options.height+this.options.headerHeight+2*this.options.padding),this.options.containerWidth=this.options.totalWidth,this.options.containerHeight=this.options.totalHeight,this.options.responsive?(this.options.originalWidth=this.options.width,this.options.originalHeight=this.options.height,this.container.css({"max-width":"100%"})):this.container.css({width:this.options.containerWidth,height:this.options.containerHeight});var t=0,i=0;this.options.elemTop=0,"top"==this.options.headerpos?(i=0,t=this.options.socialheight,this.options.elemTop=this.options.headerHeight):"bottom"==this.options.headerpos?(this.options.elemTop=0,t=this.options.titleoverlay?this.options.height-this.options.titleheight:this.options.height,i=this.options.titleoverlay?this.options.height:this.options.height+this.options.titleheight):"bottomoutside"==this.options.headerpos&&(t=this.options.showcarousel?this.options.height+this.options.carouselHeight:this.options.height);var e=" .html5gallery-container-"+this.id+" { display:block; position:absolute; left:0px; top:0px; width:"+this.options.totalWidth+"px; height:"+this.options.totalHeight+"px; "+(this.options.bgimage?"background:url('"+this.options.bgimage+"') center top;":"")+" background-color:"+this.options.bgcolor+";}";this.options.galleryshadow&&(e+=" .html5gallery-container-"+this.id+" { -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}");var e=e+(" .html5gallery-box-"+this.id+" {display:block; position:absolute; text-align:center; left:"+this.options.boxLeft+"px; top:"+this.options.boxTop+"px; width:"+this.options.boxWidth+"px; height:"+this.options.boxHeight)+"px; }",o=Math.round(this.options.socialheight/2-12),e=(e=(e=(e=(e+=" .html5gallery-title-text-"+this.id+" "+this.options.titlecss+" .html5gallery-title-text-"+this.id+" "+this.options.titlecsslink+" .html5gallery-error-"+this.id+" "+this.options.errorcss)+" .html5gallery-description-text-"+this.id+" "+this.options.descriptioncss+" .html5gallery-description-text-"+this.id+" "+this.options.descriptioncsslink)+" .html5gallery-fullscreen-title-"+this.id+this.options.lightboxtitlecss+" .html5gallery-fullscreen-title-"+this.id+this.options.lightboxtitlelinkcss)+" .html5gallery-fullscreen-description-"+this.id+this.options.lightboxdescriptioncss+" .html5gallery-fullscreen-description-"+this.id+this.options.lightboxdescriptionlinkcss)+" .html5gallery-viral-"+this.id+" {display:block; overflow:hidden; position:absolute; text-align:left; top:"+i+"px; left:0px; width:"+this.options.boxWidth+"px; height:"+this.options.socialheight+"px; padding-top:"+o+"px;}",i=this.options.slideshadow?this.options.boxWidth-8:this.options.boxWidth,e=e+(" .html5gallery-title-"+this.id+" {display:"+(this.options.titleoverlay&&this.options.titleautohide?"none":"block"))+"; overflow:hidden; position:absolute; left:0px; width:"+i+"px; ",e=(e=(e=this.options.titleoverlay?"top"==this.options.headerpos?e+"top:0px; height:auto; }":e+"bottom:0px; height:auto; }":e+("top:"+t+"px; height:"+this.options.titleheight)+"px; }")+" .html5gallery-timer-"+this.id+" {display:block; position:absolute; top:"+String(this.options.elemTop+this.options.height-2)+"px; left:0px; width:0px; height:2px; background-color:#ccc; filter:alpha(opacity=60); opacity:0.6; }")+" .html5gallery-elem-"+this.id+" {display:block; overflow:hidden; position:absolute; top:"+this.options.elemTop+"px; left:0px; width:"+this.options.boxWidth+"px; height:"+this.options.height+"px;}";this.options.isIE7||this.options.isIE6?(e+=" .html5gallery-loading-"+this.id+" {display:none; }",e+=" .html5gallery-loading-center-"+this.id+" {display:none; }"):(e+=" .html5gallery-loading-"+this.id+" {display:block; position:absolute; top:4px; right:4px; width:100%; height:100%; background:url('"+this.options.skinfolder+"loading.gif') no-repeat top right;}",e+=" .html5gallery-loading-center-"+this.id+" {display:block; position:absolute; top:0px; left:0px; width:100%; height:100%; background:url('"+this.options.skinfolder+"loading_center.gif') no-repeat center center;}"),0<this.options.borderradius&&(e+=" .html5gallery-elem-"+this.id+" { overflow:hidden; border-radius:"+this.options.borderradius+"px; -moz-border-radius:"+this.options.borderradius+"px; -webkit-border-radius:"+this.options.borderradius+"px;}"),this.options.slideshadow&&(e+=" .html5gallery-title-"+this.id+" { padding:4px;}",e+=" .html5gallery-timer-"+this.id+" { margin:4px;}",e+=" .html5gallery-elem-"+this.id+" { overflow:hidden; padding:4px; -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}"),this.options.showcarousel?(e+=" .html5gallery-car-"+this.id+" { position:absolute; display:block; overflow:hidden; width:"+this.options.carouselWidth+"px; height:"+this.options.carouselHeight+"px; left:"+this.options.carouselLeft+"px; top:"+this.options.carouselTop+"px; }",e+=" .html5gallery-car-list-"+this.id+" { position:absolute; display:block; overflow:hidden; top:"+this.options.carTop+"px; height:"+String(this.options.carAreaLength)+"px; left:0px; width:"+this.options.carouselWidth+"px; }",e+=".html5gallery-thumbs-"+this.id+" {margin-top:0px; height:"+String(this.elemArray.length*(this.options.thumbheight+this.options.thumbgap))+"px;}",this.options.thumbShowNum=Math.floor(this.options.carAreaLength/(this.options.thumbheight+this.options.thumbgap)),this.options.thumbShowNum<1&&(this.options.thumbShowNum=1),this.options.thumbMaskHeight=this.options.thumbShowNum*this.options.thumbheight+(this.options.thumbShowNum-1)*this.options.thumbgap,this.options.thumbTotalHeight=this.elemArray.length*this.options.thumbheight+(this.elemArray.length-1)*this.options.thumbgap,this.options.carouselSliderMin=0,this.options.carouselSliderMax=this.options.thumbMaskHeight-54,e+=" .html5gallery-car-slider-bar-"+this.id+" { position:absolute; display:"+(this.options.carouselSlider?"block":"none")+"; overflow:hidden; top:0px; height:"+this.options.thumbMaskHeight+"px; left:"+String(this.options.thumbwidth+6)+"px; width:14px;}",e+=" .html5gallery-car-slider-bar-top-"+this.id+" { position:absolute; display:block; top:0px; left:0px; width:14px; height:16px; background:url('"+this.options.skinfolder+"bartop.png')}",e+=" .html5gallery-car-slider-bar-middle-"+this.id+" { position:absolute; display:block; top:16px; left:0px; width:14px; height:"+String(this.options.thumbMaskHeight-32)+"px; background:url('"+this.options.skinfolder+"bar.png')}",e+=" .html5gallery-car-slider-bar-bottom-"+this.id+" { position:absolute; display:block; bottom:0px; left:0px; width:14px; height:16px; background:url('"+this.options.skinfolder+"barbottom.png')}",e=this.options.isMobile||this.isTouch&&this.options.splitvsliderontouch?e+(" .html5gallery-car-left-"+this.id+" { position:absolute; display:"+(this.options.carouselSlider?"block":"none")+"; cursor:pointer; overflow:hidden; width:16px; height:35px; left:"+String(this.options.thumbwidth+5)+"px; top:0px; background:url('"+this.options.skinfolder+"slidertop.png')}  .html5gallery-car-right-"+this.id+" { position:absolute; display:"+(this.options.carouselSlider?"block":"none")+"; cursor:pointer; overflow:hidden; width:16px; height:35px; left:"+String(this.options.thumbwidth+5)+"px; top:"+String(this.options.thumbMaskHeight-35)+"px; background:url('"+this.options.skinfolder)+"sliderbottom.png')} ":e+(" .html5gallery-car-slider-"+this.id+" { position:absolute; display:"+(this.options.carouselSlider?"block":"none")+"; overflow:hidden; cursor:pointer; top:0px; height:54px; left:"+String(this.options.thumbwidth+5)+"px; width:16px; background:url('"+this.options.skinfolder)+"slider.png');}",t=0,this.options.carouselNavButton&&(t=Math.round(this.options.carAreaLength/2-this.options.thumbMaskHeight/2)),e+=" .html5gallery-car-mask-"+this.id+" { position:absolute; display:block; overflow:hidden; top:"+t+"px; height:"+this.options.thumbMaskHeight+"px; left:0px; width:"+this.options.thumbwidth+"px;} ",t=this.options.thumbheight,this.options.isIE||(t=this.options.thumbheight-2),e+=" .html5gallery-tn-"+this.id+" { display:block; margin-bottom:"+this.options.thumbgap+"px; text-align:center; cursor:pointer; width:"+this.options.thumbwidth+"px;height:"+t+"px;overflow:hidden;",this.options.carouselbgtransparent?e+="background-color:transparent;":(this.options.isIE||(e+="border-top:1px solid "+this.options.carouseltopborder+"; border-bottom:1px solid "+this.options.carouselbottomborder+";"),e+="background-color: "+this.options.carouselbgcolorend+"; background: "+this.options.carouselbgcolorend+" -webkit-gradient(linear, left top, left bottom, from("+this.options.carouselbgcolorstart+"), to("+this.options.carouselbgcolorend+")) no-repeat; background: "+this.options.carouselbgcolorend+" -moz-linear-gradient(top, "+this.options.carouselbgcolorstart+", "+this.options.carouselbgcolorend+") no-repeat; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselbgcolorstart+", endColorstr="+this.options.carouselbgcolorend+") no-repeat; -ms-filter: 'progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselbgcolorstart+", endColorstr="+this.options.carouselbgcolorend+")' no-repeat;"),this.options.carouselbgimage&&(e+="background:url('"+this.options.skinfolder+this.options.carouselbgimage+"') center top;"),e=e+"} .html5gallery-tn-selected-"+this.id+" { display:block; margin-bottom:"+this.options.thumbgap+"px;text-align:center; cursor:pointer; width:"+this.options.thumbwidth+"px;height:"+t+"px;overflow:hidden;",this.options.carouselbgtransparent?e+="background-color:transparent;":(this.options.isIE||(e+="border-top:1px solid "+this.options.carouselhighlighttopborder+"; border-bottom:1px solid "+this.options.carouselhighlightbottomborder+";"),e+="background-color: "+this.options.carouselhighlightbgcolorend+"; background: "+this.options.carouselhighlightbgcolorend+" -webkit-gradient(linear, left top, left bottom, from("+this.options.carouselhighlightbgcolorstart+"), to("+this.options.carouselhighlightbgcolorend+")) no-repeat; background: "+this.options.carouselhighlightbgcolorend+" -moz-linear-gradient(top, "+this.options.carouselhighlightbgcolorstart+", "+this.options.carouselhighlightbgcolorend+") no-repeat; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselhighlightbgcolorstart+", endColorstr="+this.options.carouselhighlightbgcolorend+") no-repeat; -ms-filter: 'progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselhighlightbgcolorstart+", endColorstr="+this.options.carouselhighlightbgcolorend+")' no-repeat;"),this.options.carouselbgimage&&(e+="background:url('"+this.options.skinfolder+this.options.carouselbgimage+"') center top;"),e+="}",e+=" .html5gallery-tn-selected-"+this.id+" .html5gallery-tn-img-"+this.id+" {background-color:"+this.options.thumbimagebordercolor+";} .html5gallery-tn-"+this.id+" { filter:alpha(opacity="+Math.round(100*this.options.thumbopacity)+"); opacity:"+this.options.thumbopacity+"; }  .html5gallery-tn-selected-"+this.id+" { filter:alpha(opacity=100); opacity:1; } ",i=this.options.thumbwidth-3*this.options.thumbmargin,this.options.thumbshowimage?(i-=this.options.thumbimagewidth+2*this.options.thumbimageborder,t=this.options.thumbshowtitle?this.options.thumbmargin:this.options.thumbwidth/2-(this.options.thumbimagewidth+2*this.options.thumbimageborder)/2,o=Math.round((this.options.thumbheight-2)/2-(this.options.thumbimageheight+2*this.options.thumbimageborder)/2),e+=" .html5gallery-tn-img-"+this.id+" {display:block; overflow:hidden; float:left; margin-top:"+o+"px; margin-left:"+t+"px; width:"+String(this.options.thumbimagewidth+2*this.options.thumbimageborder)+"px;height:"+String(this.options.thumbimageheight+2*this.options.thumbimageborder)+"px;}"):e+=" .html5gallery-tn-img-"+this.id+" {display:none;}",this.options.thumbshowtitle?(e+=" .html5gallery-tn-title-"+this.id+" {display:block; overflow:hidden; float:left; margin-top:0px; margin-left:"+this.options.thumbmargin+"px; width:"+i+"px;height:"+String(this.options.thumbheight-2)+"px;"+(this.options.thumbshowdescription?"":"line-height:"+String(this.options.thumbheight-2)+"px;")+"}",e+=" .html5gallery-tn-title-"+this.id+this.options.thumbtitlecss,e+=" .html5gallery-tn-description-"+this.id+this.options.thumbdescriptioncss):(e+=" .html5gallery-tn-title-"+this.id+" {display:none;}",e+=" .html5gallery-tn-description-"+this.id+" {display:none;}"),this.carouselHighlight=function(t){var i;E("#html5gallery-tn-"+this.id+"-"+t,this.$gallery).removeClass("html5gallery-tn-"+this.id).addClass("html5gallery-tn-selected-"+this.id),this.options.thumbShowNum>=this.elemArray.length||((t=Math.floor(t/this.options.thumbShowNum)*this.options.thumbShowNum*(this.options.thumbheight+this.options.thumbgap))>=this.options.thumbTotalHeight-this.options.thumbMaskHeight&&(t=this.options.thumbTotalHeight-this.options.thumbMaskHeight),i=(i=t/(this.elemArray.length*(this.options.thumbheight+this.options.thumbgap)-this.options.thumbMaskHeight))*(this.options.carouselSliderMax-this.options.carouselSliderMin),E(".html5gallery-car-slider-"+this.id,this.$gallery).stop(!0).animate({top:i},300),E(".html5gallery-thumbs-"+this.id,this.$gallery).stop(!0).animate({marginTop:-1*t},300),this.updateCarouseButtons(-t))},this.carouselBarClicked=function(t){var i=E(".html5gallery-thumbs-"+this.id,this.$gallery);t.pageY>E(".html5gallery-car-slider-"+this.id,this.$gallery).offset().top?(t=-1*parseInt(i.css("margin-top"))+this.options.thumbShowNum*(this.options.thumbheight+this.options.thumbgap))>=this.options.thumbTotalHeight-this.options.thumbMaskHeight&&(t=this.options.thumbTotalHeight-this.options.thumbMaskHeight):(t=-1*parseInt(i.css("margin-top"))-this.options.thumbShowNum*(this.options.thumbheight+this.options.thumbgap))<0&&(t=0),i.stop(!0).animate({marginTop:-t},500),this.updateCarouseButtons(-t),(t=t*(this.options.carouselSliderMax-this.options.carouselSliderMin)/(this.elemArray.length*(this.options.thumbheight+this.options.thumbgap)-this.options.thumbMaskHeight))<this.options.carouselSliderMin&&(t=this.options.carouselSliderMin),t>this.options.carouselSliderMax&&(t=this.options.carouselSliderMax),E(".html5gallery-car-slider-"+this.id,this.$gallery).stop(!0).animate({top:t},500)},this.carouselSliderDrag=function(t,i){var e=i.offsetY-E(".html5gallery-car-slider-bar-"+this.id,this.$gallery).offset().top;e<this.options.carouselSliderMin&&(e=this.options.carouselSliderMin),e>this.options.carouselSliderMax&&(e=this.options.carouselSliderMax),E(".html5gallery-car-slider-"+this.id,this.$gallery).css({top:e});var o=(o=this.elemArray.length*(this.options.thumbheight+this.options.thumbgap)-this.options.thumbMaskHeight)*e/(this.options.carouselSliderMax-this.options.carouselSliderMin),o=-1*(o=Math.round(o/(this.options.thumbheight+this.options.thumbgap)))*(this.options.thumbheight+this.options.thumbgap);E(".html5gallery-thumbs-"+this.id,this.$gallery).stop(!0).animate({marginTop:o},300)},this.carouselPrev=function(){var t,i=E(".html5gallery-thumbs-"+this.id,this.$gallery);0!=parseInt(i.css("margin-top"))&&((t=-1*parseInt(i.css("margin-top"))-this.options.thumbShowNum*(this.options.thumbheight+this.options.thumbgap))<0&&(t=0),i.animate({marginTop:-t},500,this.options.carouseleasing),this.updateCarouseButtons(-t))},this.carouselNext=function(){var t,i=E(".html5gallery-thumbs-"+this.id,this.$gallery);parseInt(i.css("margin-top"))!=-(this.options.thumbTotalHeight-this.options.thumbMaskHeight)&&((t=-1*parseInt(i.css("margin-top"))+this.options.thumbShowNum*(this.options.thumbheight+this.options.thumbgap))>=this.options.thumbTotalHeight-this.options.thumbMaskHeight&&(t=this.options.thumbTotalHeight-this.options.thumbMaskHeight),i.animate({marginTop:-t},500,this.options.carouseleasing),this.updateCarouseButtons(-t))},this.updateCarouseButtons=function(t){var i=E(".html5gallery-car-left-"+this.id,this.$gallery),e=E(".html5gallery-car-right-"+this.id,this.$gallery),o=-1*(this.options.thumbTotalHeight-this.options.thumbMaskHeight);0==t?(i.css({"background-position":"-"+String(2*this.options.carouselarrowwidth)+"px 0px",cursor:""}),i.data("disabled",!0)):i.data("disabled")&&(i.css({"background-position":"0px 0px",cursor:"pointer"}),i.data("disabled",!1)),t==o?(e.css({"background-position":"-"+String(2*this.options.carouselarrowwidth)+"px 0px",cursor:""}),e.data("disabled",!0)):e.data("disabled")&&(e.css({"background-position":"0px 0px",cursor:"pointer"}),e.data("disabled",!1))}):e+=" .html5gallery-car-"+this.id+" { display:none; }",e+=".html5gallery-container-"+this.id+" div {box-sizing:content-box;}",E("head").append("<style type='text/css' data-creator='html5gallery'>"+e+"</style>")},resizeImageToolbox:function(){var t,i,e,o;"center"!=this.options.imagetoolboxstyle&&(i=(t=Math.round(("bottom"==this.options.headerpos||"bottomoutside"==this.options.headerpos?0:this.options.headerHeight)+this.options.height/2-24))+Math.round(this.options.height/2)-32,e=this.options.boxWidth-48,o=this.options.showfullscreenbutton?e-48:e,E(".html5gallery-play-"+this.id).css({top:i+"px",left:o+"px"}),E(".html5gallery-pause-"+this.id).css({top:i+"px",left:o+"px"}),E(".html5gallery-left-"+this.id).css({top:t+"px"}),E(".html5gallery-right-"+this.id).css({top:t+"px",left:e+"px"}),E(".html5gallery-lightbox-"+this.id).css({top:i+"px",left:e+"px"}))},createImageToolbox:function(){var t,i,e,o,s;this.elemArray.length<=1&&(this.options.showplaybutton=this.options.showprevbutton=this.options.shownextbutton=!1),"never"!=this.options.showimagetoolbox&&("center"==this.options.imagetoolboxstyle?(s=" .html5gallery-toolbox-"+this.id+" {display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; overflow:hidden; position:relative; margin:0px auto; text-align:center; height:40px;}",s+=" .html5gallery-toolbox-bg-"+this.id+" {display:block; left:0px; top:0px; width:100%; height:100%; position:absolute; filter:alpha(opacity=60); opacity:0.6; background-color:#222222; }",s+=" .html5gallery-toolbox-buttons-"+this.id+" {display:block; margin:0px auto; height:100%;}",s+=" .html5gallery-play-"+this.id+" { position:relative; float:left; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; overflow:hidden; width:32px; height:32px; margin-left:2px; margin-right:2px; margin-top:"+Math.round(4)+"px; background:url('"+this.options.skinfolder+"play.png') no-repeat top left; } ",s+=" .html5gallery-pause-"+this.id+" { position:relative; float:left; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; overflow:hidden; width:32px; height:32px; margin-left:2px; margin-right:2px; margin-top:"+Math.round(4)+"px; background:url('"+this.options.skinfolder+"pause.png') no-repeat top left; } ",s+=" .html5gallery-left-"+this.id+" { position:relative; float:left; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; overflow:hidden; width:32px; height:32px; margin-left:2px; margin-right:2px; margin-top:"+Math.round(4)+"px; background:url('"+this.options.skinfolder+"prev.png') no-repeat top left; } ",s+=" .html5gallery-right-"+this.id+" { position:relative; float:left; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; overflow:hidden; width:32px; height:32px; margin-left:2px; margin-right:2px; margin-top:"+Math.round(4)+"px; background:url('"+this.options.skinfolder+"next.png') no-repeat top left; } ",s+=" .html5gallery-lightbox-"+this.id+" {position:relative; float:left; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; overflow:hidden; width:32px; height:32px; margin-left:2px; margin-right:2px; margin-top:"+Math.round(4)+"px; background:url('"+this.options.skinfolder+"lightbox.png') no-repeat top left; } "):(i=(t=Math.round(("bottom"==this.options.headerpos?0:this.options.headerHeight)+this.options.height/2-24))+Math.round(this.options.height/2)-32,e=this.options.width-54,o=this.options.showfullscreenbutton?e-48:e,s=" .html5gallery-toolbox-"+this.id+" {display:"+("show"==this.options.imagetoolboxmode?"block":"none")+";}",s+=" .html5gallery-toolbox-bg-"+this.id+" {display:none;}",s+=" .html5gallery-toolbox-buttons-"+this.id+" {display:block;}",s+=" .html5gallery-play-"+this.id+" { position:absolute; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; top:"+i+"px; left:"+o+"px; width:48px; height:48px; background:url('"+this.options.skinfolder+"side_play.png') no-repeat top left;} ",s+=" .html5gallery-pause-"+this.id+" { position:absolute; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; top:"+i+"px; left:"+o+"px; width:48px; height:48px; background:url('"+this.options.skinfolder+"side_pause.png') no-repeat top left;} ",s+=" .html5gallery-left-"+this.id+" { position:absolute; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; top:"+t+"px; left:0px; width:48px; height:48px; background:url('"+this.options.skinfolder+"side_prev.png') no-repeat center center;} ",s+=" .html5gallery-right-"+this.id+" { position:absolute; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; top:"+t+"px; left:"+e+"px; width:48px; height:48px; background:url('"+this.options.skinfolder+"side_next.png')  no-repeat center center;} ",s+=" .html5gallery-lightbox-"+this.id+" {position:absolute; display:"+("show"==this.options.imagetoolboxmode?"block":"none")+"; cursor:pointer; top:"+i+"px; left:"+e+"px; width:48px; height:48px; background:url('"+this.options.skinfolder+"side_lightbox.png') no-repeat top left;} "),E(".html5gallery-play-"+this.id,this.$gallery).hover(function(){E(this).css({"background-position":"right top"})},function(){E(this).css({"background-position":"left top"})}),E(".html5gallery-pause-"+this.id,this.$gallery).hover(function(){E(this).css({"background-position":"right top"})},function(){E(this).css({"background-position":"left top"})}),E(".html5gallery-left-"+this.id,this.$gallery).hover(function(){E(this).css({"background-position":"right top"})},function(){E(this).css({"background-position":"left top"})}),E(".html5gallery-right-"+this.id,this.$gallery).hover(function(){E(this).css({"background-position":"right top"})},function(){E(this).css({"background-position":"left top"})}),E(".html5gallery-lightbox-"+this.id,this.$gallery).hover(function(){E(this).css({"background-position":"right top"})},function(){E(this).css({"background-position":"left top"})}),E("head").append("<style type='text/css' data-creator='html5gallery'>"+s+"</style>")),this.showimagetoolbox=function(t,i){var e,o;(this.options.showplaybutton||this.options.showprevbutton||this.options.shownextbutton||this.options.showfullscreenbutton)&&(e=this,clearTimeout(e.hideToolboxTimeout),e.hideToolboxTimeout=setTimeout(function(){e.hideimagetoolbox()},3e3),"center"==this.options.imagetoolboxstyle?(o=Math.round(("bottom"==this.options.headerpos?0:this.options.headerHeight)+this.options.height/2),6!=t&&7!=t&&8!=t&&9!=t&&10!=t&&11!=t||(o+=45),E(".html5gallery-toolbox-"+this.id,this.$gallery).css({top:o}),o=0,!this.options.showplaybutton||1!=t&&(!this.options.showplaypausefullscreenforall||this.options.hideplaypausefullscreenwhenvideoisplaying&&this.isVideoPlaying)?(E(".html5gallery-play-"+this.id,this.$gallery).hide(),E(".html5gallery-pause-"+this.id,this.$gallery).hide()):(o+=36,this.isPaused?(E(".html5gallery-play-"+this.id,this.$gallery).show(),E(".html5gallery-pause-"+this.id,this.$gallery).hide()):(E(".html5gallery-play-"+this.id,this.$gallery).hide(),E(".html5gallery-pause-"+this.id,this.$gallery).show())),this.options.showprevbutton?(o+=36,E(".html5gallery-left-"+this.id,this.$gallery).show()):E(".html5gallery-left-"+this.id,this.$gallery).hide(),this.options.shownextbutton?(o+=36,E(".html5gallery-right-"+this.id,this.$gallery).show()):E(".html5gallery-right-"+this.id,this.$gallery).hide(),!this.options.showfullscreenbutton||1!=t&&(!this.options.showplaypausefullscreenforall||this.options.hideplaypausefullscreenwhenvideoisplaying&&this.isVideoPlaying)?E(".html5gallery-lightbox-"+this.id,this.$gallery).hide():(o+=36,E(".html5gallery-lightbox-"+this.id,this.$gallery).show()),E(".html5gallery-toolbox-"+this.id,this.$gallery).css({width:o+16}),E(".html5gallery-toolbox-buttons-"+this.id,this.$gallery).css({width:o})):(!this.options.showplaybutton||1!=t&&(!this.options.showplaypausefullscreenforall||this.options.hideplaypausefullscreenwhenvideoisplaying&&this.isVideoPlaying)?(E(".html5gallery-play-"+this.id,this.$gallery).hide(),E(".html5gallery-pause-"+this.id,this.$gallery).hide()):this.isPaused?(E(".html5gallery-play-"+this.id,this.$gallery).show(),E(".html5gallery-pause-"+this.id,this.$gallery).hide()):(E(".html5gallery-play-"+this.id,this.$gallery).hide(),E(".html5gallery-pause-"+this.id,this.$gallery).show()),this.options.showprevbutton?E(".html5gallery-left-"+this.id,this.$gallery).show():E(".html5gallery-left-"+this.id,this.$gallery).hide(),this.options.shownextbutton?E(".html5gallery-right-"+this.id,this.$gallery).show():E(".html5gallery-right-"+this.id,this.$gallery).hide(),!this.options.showfullscreenbutton||1!=t&&(!this.options.showplaypausefullscreenforall||this.options.hideplaypausefullscreenwhenvideoisplaying&&this.isVideoPlaying)?E(".html5gallery-lightbox-"+this.id,this.$gallery).hide():E(".html5gallery-lightbox-"+this.id,this.$gallery).show()),this.options.isIE678||i?E(".html5gallery-toolbox-"+this.id,this.$gallery).show():E(".html5gallery-toolbox-"+this.id,this.$gallery).fadeIn())},this.hideimagetoolbox=function(){"show"!=this.options.imagetoolboxmode&&(clearTimeout(this.hideToolboxTimeout),this.options.isIE678?E(".html5gallery-toolbox-"+this.id,this.$gallery).hide():E(".html5gallery-toolbox-"+this.id,this.$gallery).fadeOut())}},resizeStyleDefault:function(){var t,i,e,o,s,h,l;this.container.parent()&&this.container.parent().width()&&(this.options.containerWidth=this.container.parent().width(),this.options.totalWidth=this.options.containerWidth,this.options.width=this.options.totalWidth-2*this.options.padding,this.options.titlesmallscreen&&(i=E(window).width(),this.options.titleheight=i<this.options.titlesmallscreenwidth?this.options.titleheightsmallscreen:this.options.titleheightlargescreen,this.options.headerHeight=this.options.titleoverlay?this.options.socialheight:this.options.titleheight+this.options.socialheight),this.options.showcarousel&&(this.options.carouselHeight=this.options.thumbheight+2*this.options.thumbmargin,this.options.carouselmultirows?("samecolumn"==this.options.thumbresponsive?(this.options.carouselcolumn=this.options.thumbcolumns,this.options.thumbcolumnsresponsive&&((i=E(window).width())<this.options.thumbsmallsize?this.options.carouselcolumn=this.options.thumbsmallcolumns:i<this.options.thumbmediumsize&&(this.options.carouselcolumn=this.options.thumbmediumcolumns)),this.options.thumbwidth=Math.min((this.options.width-this.options.thumbgap*(this.options.carouselcolumn-1))/this.options.carouselcolumn),this.options.thumbheight=this.options.thumbwidth*this.options.thumboriginalheight/this.options.thumboriginalwidth,this.options.thumbimagewidth=this.options.thumbwidth-2*this.options.thumbimageborder,this.options.thumbimageheight=this.options.thumbheight-2*this.options.thumbimageborder,this.options.thumbshowtitle&&(this.options.thumbheight+=this.options.thumbtitleheight)):(this.options.thumbcolumnsresponsive&&((i=E(window).width())<this.options.thumbsmallsize?(this.options.thumbwidth=this.options.thumbsmallwidth,this.options.thumbheight=this.options.thumbsmallheight,this.options.thumbtitleheight=this.options.thumbsmalltitleheight):i<this.options.thumbmediumsize?(this.options.thumbwidth=this.options.thumbmediumwidth,this.options.thumbheight=this.options.thumbmediumheight,this.options.thumbtitleheight=this.options.thumbmediumtitleheight):(this.options.thumbwidth=this.options.thumboriginalwidth,this.options.thumbheight=this.options.thumboriginalheight,this.options.thumbtitleheight=this.options.thumboriginaltitleheight),this.options.thumbimagewidth=this.options.thumbwidth-2*this.options.thumbimageborder,this.options.thumbimageheight=this.options.thumbheight-2*this.options.thumbimageborder,this.options.thumbshowtitle&&(this.options.thumbheight+=this.options.thumbtitleheight)),this.options.carouselcolumn=Math.floor(this.options.width/(this.options.thumbwidth+this.options.thumbgap)),this.options.carouselcolumn<1&&(this.options.carouselcolumn=1)),this.options.carouselHeight=Math.ceil(this.elemArray.length/this.options.carouselcolumn)*(this.options.thumbheight+this.options.thumbrowgap)):this.options.thumbcolumnsresponsive&&((i=E(window).width())<this.options.thumbsmallsize?(this.options.thumbwidth=this.options.thumbsmallwidth,this.options.thumbheight=this.options.thumbsmallheight,this.options.thumbtitleheight=this.options.thumbsmalltitleheight):i<this.options.thumbmediumsize?(this.options.thumbwidth=this.options.thumbmediumwidth,this.options.thumbheight=this.options.thumbmediumheight,this.options.thumbtitleheight=this.options.thumbmediumtitleheight):(this.options.thumbwidth=this.options.thumboriginalwidth,this.options.thumbheight=this.options.thumboriginalheight,this.options.thumbtitleheight=this.options.thumboriginaltitleheight),this.options.thumbimagewidth=this.options.thumbwidth-2*this.options.thumbimageborder,this.options.thumbimageheight=this.options.thumbheight-2*this.options.thumbimageborder,this.options.thumbshowtitle&&(this.options.thumbheight+=this.options.thumbtitleheight))),this.options.responsivefullscreen&&0<this.container.parent().height()?(this.options.containerHeight=this.container.parent().height(),this.options.totalHeight=this.options.containerHeight,this.options.height=this.options.totalHeight-(this.options.headerHeight+2*this.options.padding),0<this.options.carouselHeight+this.options.carouselmargin&&(this.options.height-=this.options.carouselHeight+this.options.carouselmargin)):(this.options.height=Math.round(this.options.width*this.options.originalHeight/this.options.originalWidth),this.options.totalHeight=this.options.height+this.options.carouselHeight+this.options.carouselmargin+this.options.headerHeight+2*this.options.padding,this.options.containerHeight=this.options.totalHeight),this.container.css({width:this.options.containerWidth,height:this.options.containerHeight}),this.options.boxWidth=this.options.width,this.options.boxHeight="bottomoutside"==this.options.headerpos?this.options.height:this.options.height+this.options.headerHeight,this.options.slideshadow&&(this.options.boxWidth+=8),this.options.showcarousel&&(this.options.carouselWidth=this.options.width,this.options.carouselLeft=this.options.padding,this.options.carouselTop="top"==this.options.carouselposition?this.options.padding:this.options.padding+this.options.boxHeight+this.options.carouselmargin),E(".html5gallery-container-"+this.id).css({width:this.options.totalWidth+"px",height:this.options.totalHeight+"px"}),E(".html5gallery-box-"+this.id).css({width:this.options.boxWidth+"px",height:this.options.boxHeight+"px"}),1==(i=this.elemArray[this.curElem][9])||this.showingPoster?(e=this.showingPoster?this.elemArray[this.curElem][23]:this.elemArray[this.curElem][10],o=this.showingPoster?this.elemArray[this.curElem][24]:this.elemArray[this.curElem][11],i=this.isFullscreen?(i=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):this.fullscreenWidth,t=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):this.fullscreenHeight,1<(i=Math.min(i/e,t/o))?1:i):"fill"==this.options.resizemode?Math.max(this.options.width/e,this.options.height/o):Math.min(this.options.width/e,this.options.height/o),s=Math.round(i*e),h=Math.round(i*o),t=this.isFullscreen?s:this.options.width,i=this.isFullscreen?h:this.options.height,e=Math.round(t/2-s/2),o=Math.round(i/2-h/2),this.isFullscreen&&this.adjustFullscreen(t,i,!0),E(".html5gallery-elem-"+this.id).css({width:t+"px",height:i+"px"}),E(".html5gallery-elem-img-"+this.id).css({width:t+"px",height:i+"px"}),E(".html5gallery-elem-image-"+this.id).css({width:s+"px",height:h+"px",top:o+"px",left:e+"px"})):12!=i&&5!=i&&6!=i&&7!=i&&8!=i&&9!=i&&10!=i&&11!=i||(o=this.elemArray[this.curElem][10],e=this.elemArray[this.curElem][11],this.isFullscreen?(i=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):this.fullscreenWidth,t=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):this.fullscreenHeight,i=1<(i=Math.min(i/o,t/e))?1:i,t=Math.round(i*o),i=Math.round(i*e),this.adjustFullscreen(t,i,!0)):(t=this.options.width,i=this.options.height),E(".html5gallery-elem-"+this.id).css({width:t+"px",height:i+"px"}),E(".html5gallery-elem-video-"+this.id).css({width:t+"px",height:i+"px"}),E(".html5gallery-elem-video-container-"+this.id).css({width:"100%",height:"100%"}),E(".html5gallery-elem-video-container-"+this.id).find("video").css({width:"100%",height:"100%"}),E("#html5gallery-elem-video-"+this.id).css({width:t+"px",height:i+"px"}),E("#html5gallery-elem-video-"+this.id).attr("width",t),E("#html5gallery-elem-video-"+this.id).attr("height",i),E(".html5gallery-elem-video-"+this.id).find("iframe").attr("width",t),E(".html5gallery-elem-video-"+this.id).find("iframe").attr("height",i),E("#html5gallery-elem-video-"+this.id).find("iframe").attr("width",t),E("#html5gallery-elem-video-"+this.id).find("iframe").attr("height",i),E(".html5gallery-elem-iframe-"+this.id).css({width:t+"px",height:i+"px"}),E(".html5gallery-elem-iframe-"+this.id).find("iframe").attr("width",t),E(".html5gallery-elem-iframe-"+this.id).find("iframe").attr("height",i)),t=i=0,"bottom"==this.options.headerpos?(i=this.options.titleoverlay?this.options.height-this.options.titleheight:this.options.height,t=this.options.titleoverlay?this.options.height:this.options.height+this.options.titleheight):"bottomoutside"==this.options.headerpos&&(i=this.options.showcarousel?this.options.height+this.options.carouselHeight:this.options.height),e=this.options.slideshadow?this.options.boxWidth-8:this.options.boxWidth,E(".html5gallery-title-"+this.id).css({width:e+"px"}),this.options.titleoverlay||E(".html5gallery-title-"+this.id).css({top:i+"px"}),E(".html5gallery-viral-"+this.id).css({top:t+"px"}),E(".html5gallery-timer-"+this.id).css({top:String(this.options.elemTop+this.options.height-2)+"px"}),this.options.showcarousel&&(E(".html5gallery-car-"+this.id).css({width:this.options.width+"px",top:this.options.carouselTop+"px"}),E(".html5gallery-car-list-"+this.id).css({width:String(this.options.width-4-4)+"px"}),this.options.carouselNavButton=!1,Math.floor((this.options.width-4-4)/(this.options.thumbwidth+this.options.thumbgap))<this.elemArray.length&&(this.options.carouselNavButton=!0),i=this.options.carouselNavButton?2*this.options.carouselarrowwidth+8:0,E(".html5gallery-car-left-"+this.id).css({display:this.options.carouselNavButton?"block":"none"}),E(".html5gallery-car-right-"+this.id).css({display:this.options.carouselNavButton?"block":"none"}),this.options.thumbShowNum=Math.floor((this.options.width-4-4-i)/(this.options.thumbwidth+this.options.thumbgap)),this.options.thumbShowNum<1&&(this.options.thumbShowNum=1),this.options.thumbMaskWidth=this.options.thumbShowNum*this.options.thumbwidth+this.options.thumbShowNum*this.options.thumbgap,this.options.thumbTotalWidth=this.elemArray.length*this.options.thumbwidth+(this.elemArray.length-1)*this.options.thumbgap,t=0,this.options.carouselmultirows?("samecolumn"==this.options.thumbresponsive?E(".html5gallery-thumbs-"+this.id).css({"margin-left":"0px",width:String((this.options.thumbwidth+this.options.thumbgap)*this.options.carouselcolumn)+"px"}):((i=Math.floor(this.options.width/(this.options.thumbwidth+this.options.thumbgap)))<1&&(i=1),t=(this.options.width-i*this.options.thumbwidth-(i-1)*this.options.thumbgap)/2,E(".html5gallery-thumbs-"+this.id).css({"margin-left":t+"px",width:this.options.width+"px"})),E(".html5gallery-tn-"+this.id).css({width:this.options.thumbwidth+"px",height:this.options.thumbheight+"px"}),E(".html5gallery-tn-selected-"+this.id).css({width:this.options.thumbwidth+"px",height:this.options.thumbheight+"px"}),E(".html5gallery-tn-img-"+this.id).css({width:String(this.options.thumbimagewidth+2*this.options.thumbimageborder)+"px",height:String(this.options.thumbimageheight+2*this.options.thumbimageborder)+"px"}),E(".html5gallery-tn-image-"+this.id).parent().css({width:this.options.thumbimagewidth+"px",height:this.options.thumbimageheight+"px"}),E(".html5gallery-tn-title-"+this.id).css({width:String(this.options.thumbwidth-2)+"px"}),E(".html5gallery-tn-title-"+this.id).css({height:this.options.thumbtitleheight+"px"})):(this.options.thumbShowNum=Math.floor((this.options.width-4-4-i)/(this.options.thumbwidth+this.options.thumbgap)),this.options.thumbShowNum<1&&(this.options.thumbShowNum=1),this.options.thumbMaskWidth=this.options.thumbShowNum*this.options.thumbwidth+this.options.thumbShowNum*this.options.thumbgap,this.options.thumbTotalWidth=this.elemArray.length*this.options.thumbwidth+(this.elemArray.length-1)*this.options.thumbgap,t=0,this.options.thumbMaskWidth>this.options.thumbTotalWidth&&(t=this.options.thumbMaskWidth/2-this.options.thumbTotalWidth/2-this.options.thumbgap/2),E(".html5gallery-car-"+this.id).css({height:this.options.carouselHeight+"px"}),E(".html5gallery-car-list-"+this.id).css({height:this.options.carouselHeight+"px"}),E(".html5gallery-car-left-"+this.id).css({top:String(this.options.carouselHeight/2-this.options.carouselarrowheight/2)+"px"}),E(".html5gallery-car-right-"+this.id).css({top:String(this.options.carouselHeight/2-this.options.carouselarrowheight/2)+"px"}),E(".html5gallery-tn-title-"+this.id).css({width:String(this.options.thumbwidth-2)+"px"}),E(".html5gallery-tn-title-"+this.id).css({height:this.options.thumbtitleheight+"px"}),E(".html5gallery-tn-"+this.id).css({width:this.options.thumbwidth+"px",height:this.options.thumbheight+"px"}),E(".html5gallery-tn-selected-"+this.id).css({width:this.options.thumbwidth+"px",height:this.options.thumbheight+"px"}),E(".html5gallery-tn-img-"+this.id).css({width:String(this.options.thumbimagewidth+2*this.options.thumbimageborder)+"px",height:String(this.options.thumbimageheight+2*this.options.thumbimageborder)+"px"}),E(".html5gallery-tn-image-"+this.id).parent().css({width:this.options.thumbimagewidth+"px",height:this.options.thumbimageheight+"px"}),E(".html5gallery-thumbs-"+this.id).css({"margin-left":t+"px",width:String(this.elemArray.length*(this.options.thumbwidth+this.options.thumbgap))+"px"})),s="100%",h="auto",E(".html5gallery-tn-image-"+(l=this).id).each(function(){var t,i=E(this).data("originalwidth"),e=E(this).data("originalheight");0<i&&0<e&&(t=Math.max(l.options.thumbimagewidth/i,l.options.thumbimageheight/e),s=Math.round(t*i)+"px",h=Math.round(t*e)+"px"),E(this).css({width:s,height:h})}),i=Math.round((this.options.width-4-4)/2-this.options.thumbMaskWidth/2),E(".html5gallery-car-mask-"+this.id).css({left:i+"px",width:this.options.thumbMaskWidth+"px",height:this.options.carouselHeight+"px"}),this.carouselHighlight(this.curElem,!0)))},createStyleDefault:function(){this.options.thumboriginalwidth=this.options.thumbwidth,this.options.thumboriginalheight=this.options.thumbheight,this.options.thumboriginaltitleheight=this.options.thumbtitleheight,"samecolumn"==this.options.thumbresponsive?(this.options.carouselcolumn=this.options.thumbcolumns,this.options.thumbcolumnsresponsive&&((e=E(window).width())<this.options.thumbsmallsize?this.options.carouselcolumn=this.options.thumbsmallcolumns:e<this.options.thumbmediumsize&&(this.options.carouselcolumn=this.options.thumbmediumcolumns)),this.options.thumbwidth=Math.min((this.options.width-this.options.thumbgap*(this.options.carouselcolumn-1))/this.options.carouselcolumn),this.options.thumbheight=this.options.thumbwidth*this.options.thumboriginalheight/this.options.thumboriginalwidth):this.options.thumbcolumnsresponsive&&((e=E(window).width())<this.options.thumbsmallsize?(this.options.thumbwidth=this.options.thumbsmallwidth,this.options.thumbheight=this.options.thumbsmallheight,this.options.thumbtitleheight=this.options.thumbsmalltitleheight):e<this.options.thumbmediumsize&&(this.options.thumbwidth=this.options.thumbmediumwidth,this.options.thumbheight=this.options.thumbmediumheight,this.options.thumbtitleheight=this.options.thumbmediumtitleheight)),this.options.thumbimagewidth=this.options.thumbwidth-2*this.options.thumbimageborder,this.options.thumbimageheight=this.options.thumbheight-2*this.options.thumbimageborder,this.options.thumbshowtitle&&(this.options.thumbheight+=this.options.thumbtitleheight),this.options.showtitle||(this.options.titleheight=0),this.options.showsocialmedia&&(this.options.showfacebooklike||this.options.showtwitter||this.options.showgoogleplus)||(this.options.socialheight=0),this.options.headerHeight=this.options.titleoverlay?this.options.socialheight:this.options.titleheight+this.options.socialheight,this.options.boxWidth=this.options.width,this.options.boxHeight="bottomoutside"==this.options.headerpos?this.options.height:this.options.height+this.options.headerHeight,this.options.boxLeft=this.options.padding,this.options.boxTop=this.options.padding,this.options.slideshadow&&(this.options.boxWidth+=8,this.options.boxLeft-=4,this.options.boxTop-=4),this.options.showcarousel?(this.options.carouselWidth=this.options.width,this.options.carouselHeight=this.options.thumbheight+2*this.options.thumbmargin,this.options.carouselLeft=this.options.padding,"top"==this.options.carouselposition?(this.options.carouselTop=this.options.padding,this.options.boxTop=this.options.padding+this.options.carouselHeight+this.options.carouselmargin):this.options.carouselTop=this.options.padding+this.options.boxHeight+this.options.carouselmargin,this.options.carouselmultirows&&("samecolumn"==this.options.thumbresponsive?(this.options.carouselcolumn=this.options.thumbcolumns,this.options.thumbcolumnsresponsive&&((e=E(window).width())<this.options.thumbsmallsize?this.options.carouselcolumn=this.options.thumbsmallcolumns:e<this.options.thumbmediumsize&&(this.options.carouselcolumn=this.options.thumbmediumcolumns)),this.options.thumbwidth=Math.min((this.options.width-this.options.thumbgap*(this.options.carouselcolumn-1))/this.options.carouselcolumn),this.options.thumbheight=this.options.thumbwidth*this.options.thumboriginalheight/this.options.thumboriginalwidth,this.options.thumbimagewidth=this.options.thumbwidth-2*this.options.thumbimageborder,this.options.thumbimageheight=this.options.thumbheight-2*this.options.thumbimageborder,this.options.thumbshowtitle&&(this.options.thumbheight+=this.options.thumbtitleheight)):(this.options.carouselcolumn=Math.floor(this.options.width/(this.options.thumbwidth+this.options.thumbgap)),this.options.carouselcolumn<1&&(this.options.carouselcolumn=1)),this.options.carouselHeight=Math.ceil(this.elemArray.length/this.options.carouselcolumn)*(this.options.thumbheight+this.options.thumbrowgap))):(this.options.carouselWidth=0,this.options.carouselHeight=0,this.options.carouselLeft=0,this.options.carouselTop=0,this.options.carouselmargin=0),this.options.totalWidth=this.options.width+2*this.options.padding,this.options.totalHeight=this.options.height+this.options.carouselHeight+this.options.carouselmargin+this.options.headerHeight+2*this.options.padding,this.options.containerWidth=this.options.totalWidth,this.options.containerHeight=this.options.totalHeight,this.options.responsive?(this.options.originalWidth=this.options.width,this.options.originalHeight=this.options.height,this.container.css({"max-width":"100%"})):this.container.css({width:this.options.containerWidth,height:this.options.containerHeight});var t=0,i=0;this.options.elemTop=0,"top"==this.options.headerpos?(i=0,t=this.options.socialheight,this.options.elemTop=this.options.headerHeight):"bottom"==this.options.headerpos&&(this.options.elemTop=0,t=this.options.titleoverlay?this.options.height-this.options.titleheight:this.options.height,i=this.options.titleoverlay?this.options.height:this.options.height+this.options.titleheight),e=" .html5gallery-container-"+this.id+" { display:block; position:absolute; left:0px; top:0px; width:"+this.options.totalWidth+"px; height:"+this.options.totalHeight+"px; "+(this.options.bgimage?"background:url('"+this.options.bgimage+"') center top;":"")+" background-color:"+this.options.bgcolor+";}",this.options.galleryshadow&&(e+=" .html5gallery-container-"+this.id+" { -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}");var e=e+(" .html5gallery-box-"+this.id+" {display:block; position:absolute; text-align:center; left:"+this.options.boxLeft+"px; top:"+this.options.boxTop+"px; width:"+this.options.boxWidth+"px; height:"+this.options.boxHeight)+"px;}",o=Math.round(this.options.socialheight/2-12),e=(e=(e=(e=(e=(e+=" .html5gallery-title-text-"+this.id+" "+this.options.titlecss+" .html5gallery-title-text-"+this.id+" "+this.options.titlecsslink+" .html5gallery-error-"+this.id+" "+this.options.errorcss)+" .html5gallery-description-text-"+this.id+" "+this.options.descriptioncss+" .html5gallery-description-text-"+this.id+" "+this.options.descriptioncsslink)+" .html5gallery-fullscreen-title-"+this.id+this.options.lightboxtitlecss+" .html5gallery-fullscreen-title-"+this.id+this.options.lightboxtitlelinkcss)+" .html5gallery-fullscreen-description-"+this.id+this.options.lightboxdescriptioncss+" .html5gallery-fullscreen-description-"+this.id+this.options.lightboxdescriptionlinkcss)+" .html5gallery-viral-"+this.id+" {display:block; overflow:hidden; position:absolute; text-align:left; top:"+i+"px; left:0px; width:"+this.options.boxWidth+"px; height:"+this.options.socialheight+"px; padding-top:"+o+"px;}")+" .html5gallery-title-"+this.id+" {display:"+(this.options.titleoverlay&&this.options.titleautohide?"none":"block")+"; overflow:hidden; position:absolute; left:0px; width:"+(this.options.slideshadow?this.options.boxWidth-8:this.options.boxWidth)+"px; ";this.options.titleoverlay?e="top"==this.options.headerpos?e+"top:0px; height:auto; }":e+"bottom:0px; height:auto; }":(e+="top:"+t+"px; height:"+this.options.titleheight+"px; }",this.options.titlesmallscreen&&(e+=" @media (max-width: "+this.options.titlesmallscreenwidth+"px) { .html5gallery-title-"+this.id+" {height:"+this.options.titleheightsmallscreen+"px; }}")),e+=" .html5gallery-timer-"+this.id+" {display:block; position:absolute; top:"+String(this.options.elemTop+this.options.height-2)+"px; left:0px; width:0px; height:2px; background-color:#ccc; filter:alpha(opacity=60); opacity:0.6; }",e+=" .html5gallery-elem-"+this.id+" {display:block; overflow:hidden; position:absolute; top:"+this.options.elemTop+"px; left:0px; width:"+this.options.width+"px; height:"+this.options.height+"px;}",this.options.isIE7||this.options.isIE6?(e+=" .html5gallery-loading-"+this.id+" {display:none; }",e+=" .html5gallery-loading-center-"+this.id+" {display:none; }"):(e+=" .html5gallery-loading-"+this.id+" {display:block; position:absolute; top:4px; right:4px; width:100%; height:100%; background:url('"+this.options.loadinggif+"') no-repeat top right;}",e+=" .html5gallery-loading-center-"+this.id+" {display:block; position:absolute; top:0px; left:0px; width:100%; height:100%; background:url('"+this.options.centerloadinggif+"') no-repeat center center;}"),0<this.options.borderradius&&(e+=" .html5gallery-elem-"+this.id+" {overflow:hidden; border-radius:"+this.options.borderradius+"px; -moz-border-radius:"+this.options.borderradius+"px; -webkit-border-radius:"+this.options.borderradius+"px;}"),this.options.slideshadow&&(e+=" .html5gallery-title-"+this.id+" { padding:4px;}",e+=" .html5gallery-timer-"+this.id+" { margin:4px;}",e+=" .html5gallery-elem-"+this.id+" { overflow:hidden; padding:4px; -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}"),this.options.showcarousel&&this.options.carouselmultirows?(e+=" .html5gallery-car-"+this.id+" { position:absolute; display:block; overflow:hidden; left:"+this.options.carouselLeft+"px; top:"+this.options.carouselTop+"px; width:"+this.options.width+"px;",e=this.options.carouselbgtransparent?e+"background-color:transparent;":e+("border-top:1px solid "+this.options.carouseltopborder+";border-bottom:1px solid "+this.options.carouselbottomborder+";background-color: "+this.options.carouselbgcolorend+"; background: "+this.options.carouselbgcolorend+" -webkit-gradient(linear, left top, left bottom, from("+this.options.carouselbgcolorstart+"), to("+this.options.carouselbgcolorend+")) no-repeat; background: "+this.options.carouselbgcolorend+" -moz-linear-gradient(top, "+this.options.carouselbgcolorstart+", "+this.options.carouselbgcolorend+") no-repeat; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselbgcolorstart+", endColorstr="+this.options.carouselbgcolorend+") no-repeat; -ms-filter: 'progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselbgcolorstart+", endColorstr="+this.options.carouselbgcolorend)+")' no-repeat;",this.options.carouselbgimage&&(e+="background:url('"+this.options.skinfolder+this.options.carouselbgimage+"') center top;"),(t=Math.floor(this.options.width/(this.options.thumbwidth+this.options.thumbgap)))<1&&(t=1),t=(this.options.width-t*this.options.thumbwidth-(t-1)*this.options.thumbgap)/2,e=e+"}.html5gallery-thumbs-"+this.id+" { position:relative; display:block; margin-left:"+t+"px; width:"+("samecolumn"==this.options.thumbresponsive?(this.options.thumbwidth+this.options.thumbgap)*this.options.carouselcolumn:this.options.width)+"px; top:0px; }",e+=" .html5gallery-tn-"+this.id+" { display:block; float:left; margin-left:0px; margin-right:"+this.options.thumbgap+"px; margin-bottom:"+this.options.thumbrowgap+"px; text-align:center; cursor:pointer; width:"+this.options.thumbwidth+"px;height:"+this.options.thumbheight+"px;overflow:hidden;}",this.options.thumbshadow&&(e+=" .html5gallery-tn-"+this.id+" { -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}"),e+=" .html5gallery-tn-selected-"+this.id+" { display:block; float:left; margin-left:0px; margin-right:"+this.options.thumbgap+"px; margin-bottom:"+this.options.thumbrowgap+"px; text-align:center; cursor:pointer; width:"+this.options.thumbwidth+"px;height:"+this.options.thumbheight+"px;overflow:hidden;}",this.options.thumbshadow&&(e+=" .html5gallery-tn-selected-"+this.id+" { -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}"),e+=" .html5gallery-tn-"+this.id+" {background-color:"+this.options.thumbimagebordercolor+";} .html5gallery-tn-"+this.id+" { filter:alpha(opacity="+Math.round(100*this.options.thumbopacity)+"); opacity:"+this.options.thumbopacity+"; }  .html5gallery-tn-selected-"+this.id+" { filter:alpha(opacity=100); opacity:1; } ",e+=" .html5gallery-tn-img-"+this.id+" {display:block; overflow:hidden; width:"+String(this.options.thumbimagewidth+2*this.options.thumbimageborder)+"px;height:"+String(this.options.thumbimageheight+2*this.options.thumbimageborder)+"px;}",this.options.thumbunselectedimagebordercolor&&(e+=" .html5gallery-tn-selected-"+this.id+" {background-color:"+this.options.thumbunselectedimagebordercolor+";}"),this.options.thumbshowtitle?(e+=" .html5gallery-tn-title-"+this.id+" {display:block; overflow:hidden; float:top; height:"+this.options.thumbtitleheight+"px;width:"+String(this.options.thumbwidth-2)+"px;}",e+=" .html5gallery-tn-title-"+this.id+this.options.thumbtitlecss):e+=" .html5gallery-tn-title-"+this.id+" {display:none;}",this.carouselHighlight=function(){}):this.options.showcarousel?(e+=" .html5gallery-car-"+this.id+" { position:absolute; display:block; overflow:hidden; left:"+this.options.carouselLeft+"px; top:"+this.options.carouselTop+"px; width:"+this.options.width+"px; height:"+this.options.carouselHeight+"px;",e=this.options.carouselbgtransparent?e+"background-color:transparent;":e+("border-top:1px solid "+this.options.carouseltopborder+";border-bottom:1px solid "+this.options.carouselbottomborder+";background-color: "+this.options.carouselbgcolorend+"; background: "+this.options.carouselbgcolorend+" -webkit-gradient(linear, left top, left bottom, from("+this.options.carouselbgcolorstart+"), to("+this.options.carouselbgcolorend+")) no-repeat; background: "+this.options.carouselbgcolorend+" -moz-linear-gradient(top, "+this.options.carouselbgcolorstart+", "+this.options.carouselbgcolorend+") no-repeat; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselbgcolorstart+", endColorstr="+this.options.carouselbgcolorend+") no-repeat; -ms-filter: 'progid:DXImageTransform.Microsoft.gradient(startColorstr="+this.options.carouselbgcolorstart+", endColorstr="+this.options.carouselbgcolorend)+")' no-repeat;",this.options.carouselbgimage&&(e+="background:url('"+this.options.skinfolder+this.options.carouselbgimage+"') center top;"),e+="}",e+=" .html5gallery-car-list-"+this.id+" { position:absolute; display:block; overflow:hidden; left:4px; width:"+String(this.options.width-4-4)+"px; top:0px; height:"+this.options.carouselHeight+"px; }",this.options.carouselNavButton=!1,Math.floor((this.options.width-4-4)/(this.options.thumbwidth+this.options.thumbgap))<this.elemArray.length&&(this.options.carouselNavButton=!0),e+=" .html5gallery-car-left-"+this.id+" { position:absolute; overflow:hidden; width:"+this.options.carouselarrowwidth+"px; height:"+this.options.carouselarrowheight+"px; left:0px; top:"+String(this.options.carouselHeight/2-this.options.carouselarrowheight/2)+"px; background:url('"+this.options.skinfolder+"carousel_left.png') no-repeat 0px 0px;}  .html5gallery-car-right-"+this.id+" { position:absolute; overflow:hidden; width:"+this.options.carouselarrowwidth+"px; height:"+this.options.carouselarrowheight+"px; right:0px; top:"+String(this.options.carouselHeight/2-this.options.carouselarrowheight/2)+"px; background:url('"+this.options.skinfolder+"carousel_right.png') no-repeat 0px 0px;} ",t=this.options.carouselNavButton?2*this.options.carouselarrowwidth+8:0,E(".html5gallery-car-left-"+this.id).css({display:this.options.carouselNavButton?"block":"none"}),E(".html5gallery-car-right-"+this.id).css({display:this.options.carouselNavButton?"block":"none"}),this.options.thumbShowNum=Math.floor((this.options.width-4-4-t)/(this.options.thumbwidth+this.options.thumbgap)),this.options.thumbShowNum<1&&(this.options.thumbShowNum=1),this.options.thumbMaskWidth=this.options.thumbShowNum*this.options.thumbwidth+this.options.thumbShowNum*this.options.thumbgap,this.options.thumbTotalWidth=this.elemArray.length*this.options.thumbwidth+(this.elemArray.length-1)*this.options.thumbgap,t=0,this.options.thumbMaskWidth>this.options.thumbTotalWidth&&(t=this.options.thumbMaskWidth/2-this.options.thumbTotalWidth/2-this.options.thumbgap/2),e+=".html5gallery-thumbs-"+this.id+" { position:relative; display:block; margin-left:"+t+"px; width:"+String(this.elemArray.length*(this.options.thumbwidth+this.options.thumbgap))+"px; top:"+Math.round(this.options.carouselHeight/2-this.options.thumbheight/2)+"px; }",t=Math.round((this.options.width-4-4)/2-this.options.thumbMaskWidth/2),e+=" .html5gallery-car-mask-"+this.id+" { position:absolute; display:block; text-align:left; overflow:hidden; left:"+t+"px; width:"+this.options.thumbMaskWidth+"px; top:0px; height:"+this.options.carouselHeight+"px;} ",e+=" .html5gallery-tn-"+this.id+" { display:block; float:left; margin-left:"+Math.floor(this.options.thumbgap/2)+"px; margin-right:"+Math.floor(this.options.thumbgap/2)+"px; text-align:center; cursor:pointer; width:"+this.options.thumbwidth+"px;height:"+this.options.thumbheight+"px;overflow:hidden;}",this.options.thumbshadow&&(e+=" .html5gallery-tn-"+this.id+" { -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}"),e+=" .html5gallery-tn-selected-"+this.id+" { display:block; float:left; margin-left:"+Math.floor(this.options.thumbgap/2)+"px; margin-right:"+Math.floor(this.options.thumbgap/2)+"px;text-align:center; cursor:pointer; width:"+this.options.thumbwidth+"px;height:"+this.options.thumbheight+"px;overflow:hidden;}",this.options.thumbshadow&&(e+=" .html5gallery-tn-selected-"+this.id+" { -moz-box-shadow: 0px 2px 5px #aaa; -webkit-box-shadow: 0px 2px 5px #aaa; box-shadow: 0px 2px 5px #aaa;}"),e+=" .html5gallery-tn-"+this.id+" {background-color:"+this.options.thumbimagebordercolor+";} .html5gallery-tn-"+this.id+" { filter:alpha(opacity="+Math.round(100*this.options.thumbopacity)+"); opacity:"+this.options.thumbopacity+"; }  .html5gallery-tn-selected-"+this.id+" { filter:alpha(opacity=100); opacity:1; } ",e+=" .html5gallery-tn-img-"+this.id+" {display:block; overflow:hidden; width:"+String(this.options.thumbimagewidth+2*this.options.thumbimageborder)+"px;height:"+String(this.options.thumbimageheight+2*this.options.thumbimageborder)+"px;}",this.options.thumbunselectedimagebordercolor&&(e+=" .html5gallery-tn-selected-"+this.id+" {background-color:"+this.options.thumbunselectedimagebordercolor+";}"),this.options.thumbshowtitle?(e+=" .html5gallery-tn-title-"+this.id+" {display:block; overflow:hidden; float:top; height:"+this.options.thumbtitleheight+"px;width:"+String(this.options.thumbwidth-2)+"px;}",e+=" .html5gallery-tn-title-"+this.id+this.options.thumbtitlecss):e+=" .html5gallery-tn-title-"+this.id+" {display:none;}",this.carouselHighlight=function(t,i){var e;E("#html5gallery-tn-"+this.id+"-"+t,this.$gallery).removeClass("html5gallery-tn-"+this.id).addClass("html5gallery-tn-selected-"+this.id),this.options.thumbShowNum>=this.elemArray.length?(E(".html5gallery-car-left-"+this.id,this.$gallery).css({"background-position":"-"+String(2*this.options.carouselarrowwidth)+"px 0px",cursor:""}),E(".html5gallery-car-left-"+this.id,this.$gallery).data("disabled",!0),E(".html5gallery-car-right-"+this.id,this.$gallery).css({"background-position":"-"+String(2*this.options.carouselarrowwidth)+"px 0px",cursor:""}),E(".html5gallery-car-right-"+this.id,this.$gallery).data("disabled",!0)):((e=Math.floor(t/this.options.thumbShowNum)*this.options.thumbShowNum*(this.options.thumbwidth+this.options.thumbgap))>=this.options.thumbTotalWidth-this.options.thumbMaskWidth+this.options.thumbgap&&(e=this.options.thumbTotalWidth-this.options.thumbMaskWidth+this.options.thumbgap),e=-e,i?E(".html5gallery-thumbs-"+this.id,this.$gallery).css({marginLeft:e}):E(".html5gallery-thumbs-"+this.id,this.$gallery).animate({marginLeft:e},500),this.updateCarouseButtons(e))},this.carouselPrev=function(){var t,i=E(".html5gallery-thumbs-"+this.id,this.$gallery);0!=parseInt(i.css("margin-left"))&&((t=-1*parseInt(i.css("margin-left"))-this.options.thumbShowNum*(this.options.thumbwidth+this.options.thumbgap))<0&&(t=0),i.animate({marginLeft:-t},500,this.options.carouseleasing),this.updateCarouseButtons(-t))},this.carouselNext=function(){var t,i=E(".html5gallery-thumbs-"+this.id,this.$gallery);parseInt(i.css("margin-left"))!=-(this.options.thumbTotalWidth-this.options.thumbMaskWidth+this.options.thumbgap)&&((t=-1*parseInt(i.css("margin-left"))+this.options.thumbShowNum*(this.options.thumbwidth+this.options.thumbgap))>=this.options.thumbTotalWidth-this.options.thumbMaskWidth+this.options.thumbgap&&(t=this.options.thumbTotalWidth-this.options.thumbMaskWidth+this.options.thumbgap),i.animate({marginLeft:-t},500,this.options.carouseleasing),this.updateCarouseButtons(-t))},this.updateCarouseButtons=function(t){var i=E(".html5gallery-car-left-"+this.id,this.$gallery),e=E(".html5gallery-car-right-"+this.id,this.$gallery),o=-1*(this.options.thumbTotalWidth-this.options.thumbMaskWidth+this.options.thumbgap);0==t?(i.css({"background-position":"-"+String(2*this.options.carouselarrowwidth)+"px 0px",cursor:""}),i.data("disabled",!0)):i.data("disabled")&&(i.css({"background-position":"0px 0px",cursor:"pointer"}),i.data("disabled",!1)),t==o?(e.css({"background-position":"-"+String(2*this.options.carouselarrowwidth)+"px 0px",cursor:""}),e.data("disabled",!0)):e.data("disabled")&&(e.css({"background-position":"0px 0px",cursor:"pointer"}),e.data("disabled",!1))}):e+=" .html5gallery-car-"+this.id+" { display:none; }",e+=".html5gallery-container-"+this.id+" div {box-sizing:content-box;}",E("head").append("<style type='text/css' data-creator='html5gallery'>"+e+"</style>")},loadCarousel:function(){var s=this,h=E(".html5gallery-thumbs-"+this.id,this.$gallery);h.empty();for(var t=0;t<this.elemArray.length;t++){var i=E("<div "+(this.options.enabletabindex?"tabindex='0' ":"")+"id='html5gallery-tn-"+this.id+"-"+t+"' class='html5gallery-tn-"+this.id+"' data-index="+t+" ></div>");i.appendTo(h),this.options.enabletabindex&&i.on("keydown",function(t){13==t.keyCode&&E(this).click()}),this.options.thumblinkintitle||i.off("click").click(function(){s.onThumbClick(E(this).data("index")),s.slideRun(E(this).data("index"),!0,!0)}),i.hover(function(){s.onThumbOver(E(this).data("index")),E(this).removeClass("html5gallery-tn-"+s.id).addClass("html5gallery-tn-selected-"+s.id)},function(){E(this).data("index")!==s.curElem&&E(this).removeClass("html5gallery-tn-selected-"+s.id).addClass("html5gallery-tn-"+s.id)}),(i=new Image).data=t,E(i).on("load",function(){E(this).data("originalwidth",this.width),E(this).data("originalheight",this.height);var t=Math.max(s.options.thumbimagewidth/this.width,s.options.thumbimageheight/this.height),i=Math.round(t*this.width),t=Math.round(t*this.height),e=s.options.thumbshowplayonvideo&&1!=s.elemArray[this.data][9]?"<div class='html5gallery-tn-img-play-"+s.id+"' style='display:block; overflow:hidden; position:absolute; width:100%;height:100%; top:"+s.options.thumbimageborder+"px; left:"+s.options.thumbimageborder+'px;background:url("'+s.options.playvideothumbimage+"\") no-repeat center center;'></div>":"",o=s.options.addthumbnailtitle&&s.elemArray[this.data][7]?' title="'+s.elemArray[this.data][7]+'"':"";s.options.carouselmultirows&&"samecolumn"==s.options.thumbresponsive?E("#html5gallery-tn-"+s.id+"-"+this.data,h).append("<div class='html5gallery-tn-img-"+s.id+"'"+o+" style='position:relative;width:"+String(s.options.thumbimagewidth+2*s.options.thumbimageborder)+"px;height:"+String(s.options.thumbimageheight+2*s.options.thumbimageborder)+"px;'><div style='display:block; overflow:hidden; position:absolute; width:"+s.options.thumbimagewidth+"px;height:"+s.options.thumbimageheight+"px; top:"+s.options.thumbimageborder+"px; left:"+s.options.thumbimageborder+"px;'><img alt='"+s.html2Text(s.elemArray[this.data][25])+"'"+(s.options.addimgtitle?" title='"+s.html2Text(s.elemArray[this.data][7])+"'":"")+" data-originalwidth="+this.width+" data-originalheight="+this.height+" class='html5gallery-tn-image html5gallery-tn-image-"+s.id+"'"+o+" style='border:none; padding:0px; margin:0px; max-width:100%; max-height:none; width:"+i+"px; height:"+t+"px;' src='"+s.elemArray[this.data][1]+"' /></div>"+e+"</div><div class='html5gallery-tn-title-"+s.id+"' style='width:"+String(s.options.thumbwidth-2)+"px;'>"+s.elemArray[this.data][7]+(s.options.thumbshowdescription?"<br /><span class='html5gallery-tn-description-"+s.id+"'>"+s.elemArray[this.data][8]+"</span>":"")+"</div>"):E("#html5gallery-tn-"+s.id+"-"+this.data,h).append("<div class='html5gallery-tn-img-"+s.id+"'"+o+" style='position:relative;'><div style='display:block; overflow:hidden; position:absolute; width:"+s.options.thumbimagewidth+"px;height:"+s.options.thumbimageheight+"px; top:"+s.options.thumbimageborder+"px; left:"+s.options.thumbimageborder+"px;'><img alt='"+s.html2Text(s.elemArray[this.data][25])+"'"+(s.options.addimgtitle?" title='"+s.html2Text(s.elemArray[this.data][7])+"'":"")+" data-originalwidth="+this.width+" data-originalheight="+this.height+" class='html5gallery-tn-image html5gallery-tn-image-"+s.id+"'"+o+" style='border:none; padding:0px; margin:0px; max-width:100%; max-height:none; width:"+i+"px; height:"+t+"px;' src='"+s.elemArray[this.data][1]+"' /></div>"+e+"</div><div class='html5gallery-tn-title-"+s.id+"'>"+s.elemArray[this.data][7]+(s.options.thumbshowdescription?"<br /><span class='html5gallery-tn-description-"+s.id+"'>"+s.elemArray[this.data][8]+"</span>":"")+"</div>"),s.options.thumblinkintitle&&E(".html5gallery-tn-img-"+s.id,h).off("click").click(function(){s.onThumbClick(E(this).parent().data("index")),s.slideRun(E(this).parent().data("index"),!0,!0)})}),i.src=this.elemArray[t][1]}this.options.carouselmultirows&&h.append("<div style='clear:both;'></div>")},goNormal:function(){var t;this.isFullscreen=!1,0<E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).length&&E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).stop(),this.slideshowTimeout.stop(),E(document).off("keyup.html5gallery"),E(".html5gallery-timer-"+this.id,this.$gallery).css({width:0}),0<E(".html5gallery-elem-"+this.id,this.$fullscreen).length&&(t=E(".html5gallery-elem-"+this.id,this.$fullscreen).empty().css({top:this.options.elemTop}),E(".html5gallery-box-"+this.id,this.$gallery).prepend(t)),this.slideRun(this.curElem),this.$fullscreen.remove(),"show"==this.options.imagetoolboxmode?this.showimagetoolbox(this.elemArray[this.curElem][9]):this.hideimagetoolbox()},goFullscreen:function(){this.hideimagetoolbox(),this.slideshowTimeout.stop(),E(".html5gallery-fullscreen-timer-"+this.id,this.$fullscreen).css({width:0}),this.isFullscreen=!0,this.fullscreenInitial=20,this.fullscreenMargin=this.options.lightboxborder,this.fullscreenBarH=this.options.lightboxtextheight,this.fullscreenOutsideMargin=this.options.lightboxmargin;var t=E(window).width(),i=this.elemArray[this.curElem][10],e=this.elemArray[this.curElem][11];this.fullscreenWidth=t-2*this.fullscreenMargin-2*this.fullscreenOutsideMargin;var o=E(window).height();this.fullscreenHeight=o-2*this.fullscreenMargin-this.fullscreenBarH-2*this.fullscreenOutsideMargin;var s=Math.max(o,E(document).height()),h=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):this.fullscreenWidth,l=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):this.fullscreenHeight;(h=Math.min(h/i,l/e))<1&&(i*=h,e*=h),o=E(window).scrollTop()+Math.round((o-(e+2*this.fullscreenMargin+this.fullscreenBarH))/2),this.$fullscreen=E("<div class='html5gallery-fullscreen-"+this.id+"' style='position:absolute;top:0px;left:0px;width:"+t+"px;height:"+s+"px;text-align:center;z-index:99999;'><div class='html5gallery-fullscreen-overlay-"+this.id+"' style='display:block;position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:#000000;opacity:0.9;filter:alpha(opacity=80);'></div><div class='html5gallery-fullscreen-box-"+this.id+"' style='display:block;overflow:hidden;position:relative;margin:0px auto;top:"+o+"px;width:"+this.fullscreenInitial+"px;height:"+this.fullscreenInitial+"px;'><div class='html5gallery-fullscreen-elem-"+this.id+"' style='display:block;position:relative;overflow:hidden;width:"+String(i+2*this.fullscreenMargin)+"px;height:"+String(e+2*this.fullscreenMargin)+"px;background-color:"+this.options.lightboxbgcolor+";'><div class='html5gallery-fullscreen-elem-wrapper-"+this.id+"' style='display:block;position:relative;overflow:hidden;margin:"+this.fullscreenMargin+"px;'><div class='html5gallery-fullscreen-timer-"+this.id+"' style='display:block; position:absolute; top:"+String(e-4)+"px; left:0px; width:0px; height:4px; background-color:#666; filter:alpha(opacity=60); opacity:0.6;'></div></div></div><div class='html5gallery-fullscreen-bar-"+this.id+"' style='display:block;position:relative;width:"+String(i+2*this.fullscreenMargin)+"px;height:auto;min-height:36px;background-color:"+this.options.lightboxbgcolor+";'><div class='html5gallery-fullscreen-bar-wrapper-"+this.id+"' style='display:block;position:relative;padding:0px "+this.fullscreenMargin+"px "+this.fullscreenMargin+"px "+this.fullscreenMargin+"px;'><div class='html5gallery-fullscreen-close-"+this.id+"' style='display:block;position:relative;float:right;cursor:pointer;width:32px;height:32px;top:0px;background-image:url(\""+this.options.skinfolder+"lightbox_close.png\");'></div><div class='html5gallery-fullscreen-play-"+this.id+"' style='display:"+(this.isPaused&&1<this.elemArray.length&&1==this.elemArray[this.curElem][9]?"block":"none")+';position:relative;float:right;cursor:pointer;width:32px;height:32px;top:0px;background-image:url("'+this.options.skinfolder+"lightbox_play.png\");'></div><div class='html5gallery-fullscreen-pause-"+this.id+"' style='display:"+(this.isPaused||this.elemArray.length<=1||1!=this.elemArray[this.curElem][9]?"none":"block")+';position:relative;float:right;cursor:pointer;width:32px;height:32px;top:0px;background-image:url("'+this.options.skinfolder+"lightbox_pause.png\");'></div><div class='html5gallery-fullscreen-title-"+this.id+"' style='display:block;position:relative;float:left;width:"+String(i-2*this.fullscreenMargin-72)+"px;height:auto;top:0px;left:0px;text-align:left;'></div><div style='clear:both;'></div></div></div><div class='html5gallery-fullscreen-next-"+this.id+"' style='display:none;position:absolute;cursor:pointer;width:48px;height:48px;right:"+this.fullscreenMargin+"px;top:"+Math.round(e/2)+'px;background-image:url("'+this.options.skinfolder+"lightbox_next.png\");'></div><div class='html5gallery-fullscreen-prev-"+this.id+"' style='display:none;position:absolute;cursor:pointer;width:48px;height:48px;left:"+this.fullscreenMargin+"px;top:"+Math.round(e/2)+'px;background-image:url("'+this.options.skinfolder+"lightbox_prev.png\");'></div></div></div>"),this.$fullscreen.appendTo("body");var n=this;E(window).scroll(function(){var t,i;n.options.isMobile&&!n.options.mobileresizeevent||(t=E(".html5gallery-fullscreen-box-"+n.id,n.$fullscreen),i=E(window).height(),i=E(window).scrollTop()+Math.round((i-t.height())/2),t.css({top:i}))}),this.createSocial(!0),E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).animate({height:e+2*this.fullscreenMargin},"slow",function(){E(this).animate({width:i+2*n.fullscreenMargin},"slow",function(){E(this).animate({height:"+="+n.fullscreenBarH},"slow",function(){var t;n.isFullscreen&&(t=E(".html5gallery-elem-"+n.id,n.$gallery).empty().css({top:0,position:"relative"}),E(".html5gallery-fullscreen-elem-wrapper-"+n.id,n.$fullscreen).prepend(t),n.slideRun(n.curElem),n.options.showsocial&&E(".html5gallery-fullscreen-social-"+n.id,n.$fullscreen).show())})})}),E(".html5gallery-fullscreen-overlay-"+this.id,this.$fullscreen).click(function(){n.goNormal()}),E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).hover(function(){1<n.elemArray.length&&(E(".html5gallery-fullscreen-next-"+n.id,n.$fullscreen).fadeIn(),E(".html5gallery-fullscreen-prev-"+n.id,n.$fullscreen).fadeIn())},function(){E(".html5gallery-fullscreen-next-"+n.id,n.$fullscreen).fadeOut(),E(".html5gallery-fullscreen-prev-"+n.id,n.$fullscreen).fadeOut()}),n.options.enabletouchswipe&&(t=!(!n.options.isAndroid||!n.options.enabletouchswipeonandroid),E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).touchSwipe({preventWebBrowser:t,swipeLeft:function(){n.disableTouchSwipe||n.slideRun(-1)},swipeRight:function(){n.disableTouchSwipe||n.slideRun(-2)}})),E(".html5gallery-fullscreen-close-"+this.id,this.$fullscreen).click(function(){n.goNormal()}),E(".html5gallery-fullscreen-next-"+this.id,this.$fullscreen).click(function(){n.slideRun(-1)}),E(".html5gallery-fullscreen-prev-"+this.id,this.$fullscreen).click(function(){n.slideRun(-2)}),E(".html5gallery-fullscreen-play-"+this.id,this.$fullscreen).click(function(){E(".html5gallery-fullscreen-play-"+n.id,n.$fullscreen).hide(),E(".html5gallery-fullscreen-pause-"+n.id,n.$fullscreen).show(),n.isPaused=!1,n.slideshowTimeout.setInterval(n.elemArray[n.curElem][16]?n.elemArray[n.curElem][16]:n.options.slideshowinterval),n.slideshowTimeout.start(),E(".html5gallery-fullscreen-timer-"+n.id,n.$fullscreen).css({width:0})}),E(".html5gallery-fullscreen-pause-"+this.id,this.$fullscreen).click(function(){E(".html5gallery-fullscreen-play-"+n.id,n.$fullscreen).show(),E(".html5gallery-fullscreen-pause-"+n.id,n.$fullscreen).hide(),n.isPaused=!0,n.slideshowTimeout.stop(),E(".html5gallery-fullscreen-timer-"+n.id,n.$fullscreen).css({width:0})}),E(document).on("keyup.html5gallery",function(t){27==t.keyCode?n.goNormal():39==t.keyCode?n.slideRun(-1):37==t.keyCode&&n.slideRun(-2)})},calcIndex:function(t){this.savedElem=this.curElem,-2==t?(this.nextElem=this.curElem,this.curElem=this.prevElem,this.prevElem=this.curElem-1<0?this.elemArray.length-1:this.curElem-1):-1==t?(this.prevElem=this.curElem,this.curElem=this.nextElem,this.nextElem=this.curElem+1>=this.elemArray.length?0:this.curElem+1):0<=t&&(this.curElem=t,this.prevElem=this.curElem-1<0?this.elemArray.length-1:this.curElem-1,this.nextElem=this.curElem+1>=this.elemArray.length?0:this.curElem+1)},showSlideTimer:function(){var t=this.elemArray[this.curElem][16]?this.elemArray[this.curElem][16]:this.options.slideshowinterval;this.slideTimerCount++,this.isFullscreen?E(".html5gallery-fullscreen-timer-"+this.id,this.$fullscreen).width(Math.round(50*E(".html5gallery-fullscreen-elem-wrapper-"+this.id,this.$fullscreen).width()*(this.slideTimerCount+1)/t)):E(".html5gallery-timer-"+this.id,this.$gallery).width(Math.round(50*this.options.boxWidth*(this.slideTimerCount+1)/t))},setHd:function(t,i){var e=this.elemArray[this.curElem][9],e=this.isHd!=t&&i&&(5==e||6==e||7==e||8==e);this.isHd=t,e&&this.slideRun(this.curElem,!1,!1,!0)},enableUpdateCarousel:function(){this.disableupdatecarousel=!1},slideRun:function(t,i,e,o){var s,h,l,n;this.slideshowTimeout.stop(),this.isFullscreen?E(".html5gallery-fullscreen-timer-"+this.id,this.$fullscreen).css({width:0}):E(".html5gallery-timer-"+this.id,this.$gallery).css({width:0}),this.options.showcarousel&&0<=this.curElem&&E("#html5gallery-tn-"+this.id+"-"+this.curElem,this.$gallery).removeClass("html5gallery-tn-selected-"+this.id).addClass("html5gallery-tn-"+this.id),this.calcIndex(t),this.isFullscreen?(this.$fullscreen.addClass("html5gallery-fullscreen-activeslide-"+this.id+"-"+this.curElem),0<=this.prevElem&&this.$fullscreen.removeClass("html5gallery-fullscreen-activeslide-"+this.id+"-"+this.prevElem)):(this.$gallery.addClass("html5gallery-activeslide-"+this.id+"-"+this.curElem),0<=this.prevElem&&this.$gallery.removeClass("html5gallery-activeslide-"+this.id+"-"+this.prevElem)),this.options.arrowloop||(this.isFullscreen?(E(".html5gallery-fullscreen-prev-"+this.id,this.$fullscreen).css({visibility:0==this.curElem?"hidden":"visible"}),E(".html5gallery-fullscreen-next-"+this.id,this.$fullscreen).css({visibility:this.curElem==this.elemArray.length-1?"hidden":"visible"})):(E(".html5gallery-left-"+this.id,this.$gallery).css({visibility:0==this.curElem?"hidden":"visible"}),E(".html5gallery-right-"+this.id,this.$gallery).css({visibility:this.curElem==this.elemArray.length-1?"hidden":"visible"}))),this.options.socialurlforeach&&this.createSocialMedia(),!this.isFullscreen&&this.options.showcarousel&&(E("#html5gallery-tn-"+this.id+"-"+this.curElem,this.$gallery).removeClass("html5gallery-tn-"+this.id).addClass("html5gallery-tn-selected-"+this.id),this.options.notupdatecarousel||this.disableupdatecarousel||this.carouselHighlight(this.curElem)),(this.options.showtitle||this.options.lightboxshowtitle||this.options.lightboxshowdescription)&&(t=this.elemArray[this.curElem][7],s=this.elemArray[this.curElem][8],this.options.shownumbering&&(t=this.options.numberingformat.replace("%NUM",this.curElem+1).replace("%TOTAL",this.elemArray.length)+" "+t),this.isFullscreen?(h="",this.options.lightboxshowtitle&&t&&(h+=t),this.options.lightboxshowdescription&&s&&(h+="<div class='html5gallery-fullscreen-description-"+this.id+"'>"+s+"</div>"),E(".html5gallery-fullscreen-title-"+this.id,this.$fullscreen).html(h)):this.options.showtitle&&(h="",t&&(h+="<div class='html5gallery-title-text-"+this.id+"'>"+t+"</div>"),this.options.showdescription&&s&&(h+="<div class='html5gallery-description-text-"+this.id+"'>"+s+"</div>"),E(".html5gallery-title-"+this.id,this.$gallery).html(h)),this.options.titleoverlay&&this.options.titleautohide||E(".html5gallery-title-"+this.id,this.$gallery).show()),(t=this.elemArray[this.curElem][9])<0||(!this.isFullscreen&&i?"always"==this.options.showimagetoolbox?"mouseover"!=this.options.imagetoolboxmode&&"show"!=this.options.imagetoolboxmode||this.showimagetoolbox(t):"image"==this.options.showimagetoolbox&&1!=t&&this.hideimagetoolbox():"show"==this.options.imagetoolboxmode?this.showimagetoolbox(t):this.hideimagetoolbox(),this.onChange(),(i=E(".html5gallery-elem-"+this.id,l)).find("iframe").each(function(){E(this).attr("src","")}),i.find("video").each(function(){E(this).attr("src","")}),this.isVideoPlaying=this.disableTouchSwipe=!1,e=this.options.autoplayvideo||this.options.playvideoonclick&&e||o,l=this.isFullscreen?this.$fullscreen:this.$gallery,this.showingPoster=!1,this.options.donotuseposter||5!=t&&6!=t&&7!=t&&8!=t&&9!=t&&10!=t&&11!=t||e||!this.elemArray[this.curElem][12]?(E(".html5gallery-video-play-"+this.id,l).length&&E(".html5gallery-video-play-"+this.id,l).remove(),1==t?this.showImage():(this.options.hidetitlewhenvideoisplaying&&E(".html5gallery-title-"+this.id,l).hide(),5==t||6==t||7==t||8==t?this.showVideo(e,o):9==t?this.showYoutube(e):10==t?this.showVimeo(e):11==t?this.showEmbedVideo(e):2==t?this.showSWF():12==t&&this.showIframe())):(this.showingPoster=!0,this.showPoster()),this.checkMK(),this.prevElem in this.elemArray&&1==this.elemArray[this.prevElem][9]&&((new Image).src=this.elemArray[this.prevElem][2]),this.nextElem in this.elemArray&&1==this.elemArray[this.nextElem][9]&&((new Image).src=this.elemArray[this.nextElem][2]),this.prevElem in this.elemArray&&!this.options.autoplayvideo&&this.elemArray[this.prevElem][12]&&((new Image).src=this.elemArray[this.prevElem][12]),this.nextElem in this.elemArray&&!this.options.autoplayvideo&&this.elemArray[this.nextElem][12]&&((new Image).src=this.elemArray[this.nextElem][12]),this.curElem==this.elemArray.length-1&&this.looptimes++,n=this,(1==t||this.showingPoster)&&!this.isPaused&&1<this.elemArray.length&&(!this.options.loop||this.looptimes<this.options.loop)&&(o=this.elemArray[this.curElem][16]?this.elemArray[this.curElem][16]:this.options.slideshowinterval,this.firstrun&&this.options.setfirstslideshowinterval&&(o=this.options.firstslideshowinterval),this.slideshowTimeout.setInterval(o),this.slideshowTimeout.start(),this.isFullscreen?E(".html5gallery-fullscreen-timer-"+this.id,this.$fullscreen).css({width:0}):E(".html5gallery-timer-"+this.id,this.$gallery).css({width:0})),this.options.loop&&this.looptimes>=this.options.loop&&(this.looptimes=0,this.pauseGallery()),t=this.elemArray[this.curElem][9],!this.elemArray[this.curElem][5]&&(!this.options.lightbox&&!this.elemArray[this.curElem][22]||this.isFullscreen)||this.options.linkonlyonvideo&&(5==t||6==t||7==t||8==t)?(i.css({cursor:""}),i.off("click")):(i.css({cursor:"pointer"}),i.off("click").on("click",function(){!n.options.lightbox&&!n.elemArray[n.curElem][22]||n.isFullscreen?n.elemArray[n.curElem][5]&&(n.elemArray[n.curElem][6]?window.open(n.elemArray[n.curElem][5],n.elemArray[n.curElem][6]):window.open(n.elemArray[n.curElem][5])):n.goFullscreen()})))},showImage:function(){var l=E(".html5gallery-elem-"+this.id,this.isFullscreen?this.$fullscreen:this.$gallery);$preloading=""===l.html()?E("<div class='html5gallery-loading-center-"+this.id+"'></div>").appendTo(l):E("<div class='html5gallery-loading-"+this.id+"'></div>").appendTo(l);var n=this,t=new Image;E(t).on("load",function(){var t,i;$preloading.remove(),n.elemArray[n.curElem][10]=this.width,n.elemArray[n.curElem][11]=this.height,i=n.isFullscreen?(t=n.elemArray[n.curElem][17]?Math.min(n.elemArray[n.curElem][17],n.fullscreenWidth):n.fullscreenWidth,i=n.elemArray[n.curElem][18]?Math.min(n.elemArray[n.curElem][18],n.fullscreenHeight):n.fullscreenHeight,1<(i=Math.min(t/this.width,i/this.height))?1:i):"fill"==n.options.resizemode?Math.max(n.options.width/this.width,n.options.height/this.height):Math.min(n.options.width/this.width,n.options.height/this.height),t=Math.round(i*this.width),i=Math.round(i*this.height);var e=n.isFullscreen?t:n.options.width,o=n.isFullscreen?i:n.options.height,s=Math.round(e/2-t/2),h=Math.round(o/2-i/2);n.isFullscreen&&n.adjustFullscreen(e,o),l.css({width:e,height:o}),t=E("<div class='html5gallery-elem-img-"+n.id+"' style='display:block; position:absolute; overflow:hidden; width:"+e+"px; height:"+o+"px; left:0px; margin-left:"+(n.options.slideshadow&&!n.isFullscreen?4:0)+"px; top:0px; margin-top:"+(n.options.slideshadow&&!n.isFullscreen?4:0)+"px;'><img alt='"+n.html2Text(n.elemArray[n.curElem][25])+"'"+(n.options.addimgtitle?" title='"+n.html2Text(n.elemArray[n.curElem][7])+"'":"")+" class='html5gallery-elem-image html5gallery-elem-image-"+n.id+"' style='border:none; position:absolute; opacity:inherit; filter:inherit; padding:0px; margin:0px; left:"+s+"px; top:"+h+"px; max-width:none; max-height:none; width:"+t+"px; height:"+i+"px;' src='"+n.elemArray[n.curElem][2]+"' /></div>"),(i=E(".html5gallery-elem-img-"+n.id,l)).length?(l.prepend(t),l.html5boxTransition(n.id,i,t,{effect:n.options.effect,easing:n.options.easing,duration:n.options.duration,direction:n.curElem>=n.savedElem,slide:n.options.slide},function(){})):l.html(t),n.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Image","Play",n.elemArray[n.curElem][2]]),n.checkMK()}),E(t).on("error",function(){$preloading.remove(),n.isFullscreen&&n.adjustFullscreen(n.options.width,n.options.height),l.html("<div class='html5gallery-elem-error-"+n.id+"' style='display:block; position:absolute; overflow:hidden; text-align:center; width:"+n.options.width+"px; left:0px; top:"+Math.round(n.options.height/2-10)+"px; margin:4px;'><div class='html5gallery-error-"+n.id+"'>The requested content cannot be found</div>"),n.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Image","Error",n.elemArray[n.curElem][2]])}),t.src=this.elemArray[this.curElem][2]},adjustFullscreen:function(t,i,e){var o=E(window).width();this.fullscreenWidth=o-2*this.fullscreenMargin-2*this.fullscreenOutsideMargin;var s=E(window).height();this.fullscreenHeight=s-2*this.fullscreenMargin-this.fullscreenBarH-2*this.fullscreenOutsideMargin;var h=Math.max(s,E(document).height()),l=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):this.fullscreenWidth,n=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):this.fullscreenHeight;(l=Math.min(l/t,n/i))<1&&(t*=l,i*=l),s=E(window).scrollTop()+Math.round((s-(i+2*this.fullscreenMargin+this.fullscreenBarH))/2),E(".html5gallery-fullscreen-"+this.id).css({width:o+"px",height:h+"px"}),E(".html5gallery-fullscreen-title-"+this.id,this.$fullscreen).css({width:t-2*this.fullscreenMargin-72}),e?(E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).css({width:t+2*this.fullscreenMargin,height:i+2*this.fullscreenMargin+this.fullscreenBarH,top:s}),E(".html5gallery-fullscreen-elem-"+this.id,this.$fullscreen).css({width:t+2*this.fullscreenMargin,height:i+2*this.fullscreenMargin}),E(".html5gallery-fullscreen-elem-wrapper-"+this.id,this.$fullscreen).css({width:t,height:i}),E(".html5gallery-fullscreen-bar-"+this.id,this.$fullscreen).css({width:t+2*this.fullscreenMargin})):(E(".html5gallery-fullscreen-box-"+this.id,this.$fullscreen).animate({width:t+2*this.fullscreenMargin,height:i+2*this.fullscreenMargin+this.fullscreenBarH,top:s},"slow"),E(".html5gallery-fullscreen-elem-"+this.id,this.$fullscreen).animate({width:t+2*this.fullscreenMargin,height:i+2*this.fullscreenMargin},"slow"),E(".html5gallery-fullscreen-elem-wrapper-"+this.id,this.$fullscreen).animate({width:t,height:i},"slow"),E(".html5gallery-fullscreen-bar-"+this.id,this.$fullscreen).animate({width:t+2*this.fullscreenMargin},"slow")),E(".html5gallery-fullscreen-next-"+this.id,this.$fullscreen).css({top:Math.round(i/2)}),E(".html5gallery-fullscreen-prev-"+this.id,this.$fullscreen).css({top:Math.round(i/2)}),E(".html5gallery-fullscreen-play-"+this.id,this.$fullscreen).css("display",this.isPaused&&1<this.elemArray.length&&1==this.elemArray[this.curElem][9]?"block":"none"),E(".html5gallery-fullscreen-pause-"+this.id,this.$fullscreen).css("display",this.isPaused||this.elemArray.length<=1||1!=this.elemArray[this.curElem][9]?"none":"block"),E(".html5gallery-elem-"+this.id,this.$fullscreen).css({width:t,height:i}),E(".html5gallery-fullscreen-timer-"+this.id,this.$fullscreen).css({top:String(i-4)+"px"}),E(".html5gallery-elem-video-"+this.id,this.$fullscreen).css({width:t+"px",height:i+"px"}),E(".html5gallery-elem-video-container-"+this.id,this.$fullscreen).css({width:"100%",height:"100%"}),E(".html5gallery-elem-video-container-"+this.id,this.$fullscreen).find("video").css({width:"100%",height:"100%"}),E("#html5gallery-elem-video-"+this.id,this.$fullscreen).css({width:t+"px",height:i+"px"}),E("#html5gallery-elem-video-"+this.id,this.$fullscreen).attr("width",t),E("#html5gallery-elem-video-"+this.id,this.$fullscreen).attr("height",i),E(".html5gallery-elem-video-"+this.id,this.$fullscreen).find("iframe").attr("width",t),E(".html5gallery-elem-video-"+this.id,this.$fullscreen).find("iframe").attr("height",i),E("#html5gallery-elem-video-"+this.id,this.$fullscreen).find("iframe").attr("width",t),E("#html5gallery-elem-video-"+this.id,this.$fullscreen).find("iframe").attr("height",i),E(".html5gallery-elem-iframe-"+this.id,this.$fullscreen).css({width:t+"px",height:i+"px"}),E(".html5gallery-elem-iframe-"+this.id,this.$fullscreen).find("iframe").attr("width",t),E(".html5gallery-elem-iframe-"+this.id,this.$fullscreen).find("iframe").attr("height",i)},showPoster:function(){var l=this.isFullscreen?this.$fullscreen:this.$gallery,n=E(".html5gallery-elem-"+this.id,l);$preloading=""===n.html()?E("<div class='html5gallery-loading-center-"+this.id+"'></div>").appendTo(n):E("<div class='html5gallery-loading-"+this.id+"'></div>").appendTo(n);var r=this,a=this.elemArray[this.curElem][10],p=this.elemArray[this.curElem][11],t=new Image;E(t).on("load",function(){var t,i;$preloading.remove(),r.elemArray[r.curElem][23]=this.width,r.elemArray[r.curElem][24]=this.height,r.isFullscreen?(t=r.elemArray[r.curElem][17]?Math.min(r.elemArray[r.curElem][17],r.fullscreenWidth):Math.min(a,r.fullscreenWidth),i=r.elemArray[r.curElem][18]?Math.min(r.elemArray[r.curElem][18],r.fullscreenHeight):Math.min(p,r.fullscreenHeight),o=1<(o=Math.max(t/this.width,i/this.height))?1:o):(o="fill"==r.options.resizemode?Math.max(r.options.width/this.width,r.options.height/this.height):Math.min(r.options.width/this.width,r.options.height/this.height),t=r.options.width,i=r.options.height);var e=Math.round(o*this.width),o=Math.round(o*this.height),s=Math.round(t/2-e/2),h=Math.round(i/2-o/2);r.isFullscreen&&r.adjustFullscreen(t,i),n.css({width:t,height:i}),t=E("<div class='html5gallery-elem-img-"+r.id+"' style='display:block; position:absolute; overflow:hidden; width:"+t+"px; height:"+i+"px; left:0px; margin-left:"+(r.options.slideshadow&&!r.isFullscreen?4:0)+"px; top:0px; margin-top:"+(r.options.slideshadow&&!r.isFullscreen?4:0)+"px;'><img alt='"+r.html2Text(r.elemArray[r.curElem][25])+"'"+(r.options.addimgtitle?" title='"+r.html2Text(r.elemArray[r.curElem][7])+"'":"")+" class='html5gallery-elem-image html5gallery-elem-image-"+r.id+"' style='border:none; position:absolute; opacity:inherit; filter:inherit; padding:0px; margin:0px; left:"+s+"px; top:"+h+"px; max-width:none; max-height:none; width:"+e+"px; height:"+o+"px;' src='"+r.elemArray[r.curElem][12]+"' />"+r.options.watermarkcode+"</div>"),(i=E(".html5gallery-elem-img-"+r.id,n)).length?(n.prepend(t),n.html5boxTransition(r.id,i,t,{effect:r.options.effect,easing:r.options.easing,duration:r.options.duration,direction:r.curElem>=r.savedElem,slide:r.options.slide},function(){})):n.html(t),E(".html5gallery-video-play-"+r.id,l).length||E("<div class='html5gallery-video-play-"+r.id+"' style='position:absolute;display:block;cursor:pointer;top:50%;left:50%;width:64px;height:64px;margin-left:-32px;margin-top:-32px;background:url(\""+r.options.playvideoimage+"\") no-repeat center center;'></div>").appendTo(n).off(r.eClick).on(r.eClick,function(){r.options.hidetitlewhenvideoisplaying&&E(".html5gallery-title-"+r.id,r.$gallery).hide(),E(this).remove(),r.slideshowTimeout.stop(),E(".html5gallery-timer-"+r.id,r.$gallery).css({width:0}),r.showingPoster=!1;var t=r.elemArray[r.curElem][9];5==t||6==t||7==t||8==t?r.showVideo(!0):9==t?r.showYoutube(!0):10==t?r.showVimeo(!0):11==t&&r.showEmbedVideo(!0),r.checkMK()}),r.checkMK()}),E(t).on("error",function(){$preloading.remove(),r.isFullscreen&&r.adjustFullscreen(r.options.width,r.options.height),n.html("<div class='html5gallery-elem-error-"+r.id+"' style='display:block; position:absolute; overflow:hidden; text-align:center; width:"+r.options.width+"px; left:0px; top:"+Math.round(r.options.height/2-10)+"px; margin:4px;'><div class='html5gallery-error-"+r.id+"'>The requested content cannot be found</div>"),r.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Image","Error",r.elemArray[r.curElem][12]])}),t.src=this.elemArray[this.curElem][12]},getFlashMovieObject:function(t){return window.document[t]?window.document[t]:-1!=navigator.appName.indexOf("Microsoft Internet")?document.getElementById(t):document.embeds&&document.embeds[t]?document.embeds[t]:void 0},playVideo:function(){var t=this.elemArray[this.curElem][9];5!=t&&6!=t&&7!=t&&8!=t||(this.isHTML5&&0<E("#html5gallery-elem-html5-video-"+this.id).length?E("#html5gallery-elem-html5-video-"+this.id,this.container).get(0).play():(t=this.getFlashMovieObject("html5gallery-elem-video-flash-"+this.id))&&"function"==typeof t.playVideo&&t.playVideo())},stopAllPlaying:function(){if(E("video").length&&E("video").get(0).pause(),E("audio").length&&E("audio").get(0).pause(),void 0!==f&&f&&f.objects)for(var t=0;t<f.objects.length;t++)if(f.objects[t].id!=this.id)try{f.objects[t].ytPlayer&&"function"==typeof f.objects[t].ytPlayer.pauseVideo&&f.objects[t].ytPlayer.pauseVideo(),f.objects[t].vimeoPlayer&&f.objects[t].vimeoPlayer.api("pause")}catch(t){}},pauseVideo:function(){var t=this.elemArray[this.curElem][9];5==t||6==t||7==t||8==t?this.isHTML5&&0<E("#html5gallery-elem-html5-video-"+this.id).length?E("#html5gallery-elem-html5-video-"+this.id,this.container).get(0).pause():(t=this.getFlashMovieObject("html5gallery-elem-video-flash-"+this.id))&&"function"==typeof t.pauseVideo&&t.pauseVideo():9==t?this.ytPlayer&&"function"==typeof this.ytPlayer.pauseVideo&&this.ytPlayer.pauseVideo():10==t?this.vimeoPlayer&&this.vimeoPlayer.api("pause"):E("video",this.container).length&&E("video",this.container).get(0).pause()},showVideo:function(t,i){this.options.stopallplaying&&this.stopAllPlaying(),this.isVideoPlaying=!0,t&&this.options.autoslideandplayafterfirstplayed&&(this.options.autoplayvideo=!0,this.isPaused=!1),this.disableTouchSwipe=!0;var e,o,s=this.isFullscreen?this.$fullscreen:this.$gallery,h=this.elemArray[this.curElem][10],l=this.elemArray[this.curElem][11],h=this.isFullscreen?(h=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):Math.min(h,this.fullscreenWidth),n=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):Math.min(l,this.fullscreenHeight),this.adjustFullscreen(h,n),l=h,n):(E(".html5gallery-elem-"+this.id,this.$gallery).css({width:this.options.width,height:this.options.height}),l=this.options.width,this.options.height),n=-1;i&&E(".html5gallery-elem-"+this.id,s).find("video").length&&(n=E(".html5gallery-elem-"+this.id,s).find("video:first").get(0).currentTime),E(".html5gallery-elem-"+this.id,s).html("<div class='html5gallery-loading-center-"+this.id+"'></div><div class='html5gallery-elem-video-"+this.id+"' style='display:block;position:absolute;overflow:hidden;top:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;left:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;width:"+l+"px;height:"+h+"px;'></div>"+this.options.watermarkcode),this.isHTML5=!1,this.options.isIE678||this.options.isIE9&&this.options.useflashonie9||this.options.isIE10&&this.options.useflashonie10||this.options.isIE11&&this.options.useflashonie11?this.isHTML5=!1:this.options.isMobile?this.isHTML5=!0:!this.options.html5player&&this.options.flashInstalled||!this.options.html5VideoSupported||(this.isHTML5=!0,(this.options.isFirefox||this.options.isOpera)&&(this.elemArray[this.curElem][4]||this.elemArray[this.curElem][3]||this.options.canplaymp4&&!this.options.useflashformp4onfirefox||(this.isHTML5=!1))),this.isHTML5?(e=this.elemArray[this.curElem][2],o=this.elemArray[this.curElem][13],(this.options.isFirefox||this.options.isOpera)&&(this.elemArray[this.curElem][4]?e=this.elemArray[this.curElem][4]:this.elemArray[this.curElem][3]&&(e=this.elemArray[this.curElem][3]),this.elemArray[this.curElem][15]?o=this.elemArray[this.curElem][15]:this.elemArray[this.curElem][14]&&(o=this.elemArray[this.curElem][14])),this.embedHTML5Video(E(".html5gallery-elem-video-"+this.id,s),l,h,e,o,t,n,i)):("/"!=(n=this.elemArray[this.curElem][2]).charAt(0)&&"http:"!=n.substring(0,5)&&"https:"!=n.substring(0,6)&&(n=this.options.htmlfolder+n),e="",!this.elemArray[this.curElem][13]||"/"!=(e=this.elemArray[this.curElem][13]).charAt(0)&&"http:"!=e.substring(0,5)&&"https:"!=e.substring(0,6)&&(e=this.options.htmlfolder+e),l={width:l,height:h,hidecontrols:this.options.videohidecontrols?"1":"0",hideplaybutton:"0",videofile:n,hdfile:e,ishd:this.isHd?"1":"0",autoplay:t?"1":"0",errorcss:".html5box-error"+this.options.errorcss,id:this.id},this.elemArray[this.curElem][5]&&(l.clickthrough=this.elemArray[this.curElem][5],this.elemArray[this.curElem][6]&&(l.clickthroughtarget=this.elemArray[this.curElem][6])),this.embedFlash(E(".html5gallery-elem-video-"+this.id,s),"100%","100%",this.options.jsfolder+"html5boxplayer.swf","transparent",l,"html5gallery-elem-video-flash-"+this.id)),this.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Video","Play",this.elemArray[this.curElem][2]])},showSWF:function(){var t=this.isFullscreen?this.$fullscreen:this.$gallery,i=this.elemArray[this.curElem][10],e=this.elemArray[this.curElem][11];this.isFullscreen?this.adjustFullscreen(i,e):E(".html5gallery-elem-"+this.id,this.$gallery).css({width:this.options.width,height:this.options.height});var o=this.isFullscreen?0:Math.round((this.options.height-e)/2)+(this.options.slideshadow?4:0),s=this.isFullscreen?0:Math.round((this.options.width-i)/2)+(this.options.slideshadow?4:0);E(".html5gallery-elem-"+this.id,t).html("<div class='html5gallery-elem-flash-"+this.id+"' style='display:block;position:absolute;overflow:hidden;top:"+o+"px;left:"+s+"px;width:"+i+"px;height:"+e+"px;'></div>"+this.options.watermarkcode),this.embedFlash(E(".html5gallery-elem-flash-"+this.id,t),i,e,this.elemArray[this.curElem][2],"window",{},"html5gallery-elem-flash-object-"+this.id),this.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Flash","Play",this.elemArray[this.curElem][2]])},prepareYoutubeHref:function(t){var i=t.match(/(\?v=|\/\d\/|\/embed\/|\/v\/|\.be\/)([a-zA-Z0-9\-\_]+)/)[2],i="https://www."+(-1!==t.indexOf("youtube-nocookie.com")?"youtube-nocookie.com":"youtube.com")+"/embed/"+i;t=this.getYoutubeParams(t);var e,o=!0;for(e in t)o?(i+="?",o=!1):i+="&",i+=e+"="+t[e];return i},getYoutubeParams:function(t){var i={};if(t.indexOf("?")<0)return i;t=t.substring(t.indexOf("?")+1).split("&");for(var e=0;e<t.length;e++){var o=t[e].split("=");o&&2==o.length&&"v"!=o[0].toLowerCase()&&(i[o[0].toLowerCase()]=o[1])}return i},initYoutubeApi:function(){for(var t=!1,i=!1,e=0;e<this.elemArray.length;e++)9==this.elemArray[e][9]&&-1===this.elemArray[e][2].indexOf("youtube-nocookie.com")?t=!0:10==this.elemArray[e][9]&&(i=!0);t&&((e=document.createElement("script")).src="https://www.youtube.com/iframe_api",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t)),i&&((e=document.createElement("script")).src=this.options.jsfolder+"froogaloop2.min.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))},showEmbedVideo:function(t){this.options.stopallplaying&&this.stopAllPlaying(),this.isVideoPlaying=!0,t&&this.options.autoslideandplayafterfirstplayed&&(this.options.autoplayvideo=!0,this.isPaused=!1);var i=this.isFullscreen?this.$fullscreen:this.$gallery,e=this.elemArray[this.curElem][10],o=this.elemArray[this.curElem][11],e=this.isFullscreen?(e=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):Math.min(e,this.fullscreenWidth),s=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):Math.min(o,this.fullscreenHeight),this.adjustFullscreen(e,s),o=e,s):(E(".html5gallery-elem-"+this.id,this.$gallery).css({width:this.options.width,height:this.options.height}),o=this.options.width,this.options.height),s=this.elemArray[this.curElem][2];E(".html5gallery-elem-"+this.id,i).html("<div class='html5gallery-loading-center-"+this.id+"'></div><div id='html5gallery-elem-video-"+this.id+"' style='display:block;position:absolute;overflow:hidden;top:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;left:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;width:"+o+"px;height:"+e+"px;'></div>"+this.options.watermarkcode),s.match(/\:\/\/.*(dai\.ly)/i)&&(s="https://www.dailymotion.com/embed/video/"+s.match(/(dai\.ly\/)([a-zA-Z0-9\-\_]+)/)[2]),t&&(s=s.indexOf("?")<0?s+"?autoplay=1":s+"&autoplay=1"),E("#html5gallery-elem-video-"+this.id,i).html("<iframe width='"+o+"' height='"+e+"' src='"+s+"' frameborder='0' allow='autoplay' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"),this.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Video","Play",this.elemArray[this.curElem][2]])},showYoutube:function(t){this.options.stopallplaying&&this.stopAllPlaying(),this.isVideoPlaying=!0,t&&this.options.autoslideandplayafterfirstplayed&&(this.options.autoplayvideo=!0,this.isPaused=!1);var i=this.isFullscreen?this.$fullscreen:this.$gallery,e=this.elemArray[this.curElem][10],o=this.elemArray[this.curElem][11],e=this.isFullscreen?(e=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):Math.min(e,this.fullscreenWidth),s=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):Math.min(o,this.fullscreenHeight),this.adjustFullscreen(e,s),o=e,s):(E(".html5gallery-elem-"+this.id,this.$gallery).css({width:this.options.width,height:this.options.height}),o=this.options.width,this.options.height),s=this.elemArray[this.curElem][2];E(".html5gallery-elem-"+this.id,i).html("<div class='html5gallery-loading-center-"+this.id+"'></div><div id='html5gallery-elem-video-"+this.id+"' style='display:block;position:absolute;overflow:hidden;top:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;left:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;width:"+o+"px;height:"+e+"px;'></div>"+this.options.watermarkcode);var h=-1!==s.indexOf("youtube-nocookie.com"),l=this;!d&&!h&&(g+=100)<3e3?setTimeout(function(){l.showYoutube(t)},100):(!d||this.options.isMobile||this.options.isIE6||this.options.isIE7||h?(s=this.prepareYoutubeHref(s),t&&(s=s.indexOf("?")<0?s+"?autoplay=1":s+"&autoplay=1"),s=s.indexOf("?")<0?s+"?wmode=transparent&rel=0":s+"&wmode=transparent&rel=0",l.options.videohidecontrols&&(s+="&controls=0&showinfo=0"),E("#html5gallery-elem-video-"+this.id,i).html("<iframe width='"+o+"' height='"+e+"' src='"+s+"' frameborder='0' allow='autoplay' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>")):(i=this.elemArray[this.curElem][2].match(/(\?v=|\/\d\/|\/embed\/|\/v\/|\.be\/)([a-zA-Z0-9\-\_]+)/)[2],s=t?function(t){t.target.playVideo()}:function(){},h=this.getYoutubeParams(this.elemArray[this.curElem][2]),h=E.extend({html5:1,controls:l.options.videohidecontrols?"0":"1",showinfo:l.options.videohidecontrols?"0":"1",autoplay:t?1:0,rel:0,wmode:"transparent"},h),this.ytPlayer=new YT.Player("html5gallery-elem-video-"+this.id,{width:o,height:e,videoId:i,playerVars:h,events:{onReady:s,onStateChange:function(t){t.data==YT.PlayerState.ENDED&&(l.onVideoEnd(),l.isPaused||l.slideRun(-1))}}})),this.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Video","Play",this.elemArray[this.curElem][2]]))},showVimeo:function(t){this.options.stopallplaying&&this.stopAllPlaying(),this.isVideoPlaying=!0,t&&this.options.autoslideandplayafterfirstplayed&&(this.options.autoplayvideo=!0,this.isPaused=!1);var i,e,o,s,h=this;"function"!=typeof $f&&(b+=100)<3e3?setTimeout(function(){h.showVimeo(t)},100):(i=this.isFullscreen?this.$fullscreen:this.$gallery,o=this.elemArray[this.curElem][10],e=this.elemArray[this.curElem][11],o=this.isFullscreen?(o=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):Math.min(o,this.fullscreenWidth),s=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):Math.min(e,this.fullscreenHeight),this.adjustFullscreen(o,s),e=o,s):(E(".html5gallery-elem-"+this.id,this.$gallery).css({width:this.options.width,height:this.options.height}),e=this.options.width,this.options.height),s=(s=this.elemArray[this.curElem][2]).indexOf("?")<0?s+"?":s+"&",s=t&&!this.options.isAndroid?s+"autoplay=1":s+"autoplay=0",s+="&api=1&player_id=html5gallery_vimeo_"+this.id,E(".html5gallery-elem-"+this.id,i).html("<div class='html5gallery-loading-center-"+this.id+"'></div><div class='html5gallery-elem-video-"+this.id+"' style='display:block;position:absolute;overflow:hidden;top:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;left:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;width:"+e+"px;height:"+o+"px;'></div>"+this.options.watermarkcode),E(".html5gallery-elem-video-"+this.id,i).html("<iframe id='html5gallery_vimeo_"+this.id+"' width='"+e+"' height='"+o+"' src='"+s+"' frameborder='0' allow='autoplay' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"),"function"==typeof $f&&t&&!this.options.isAndroid&&(i=E("#html5gallery_vimeo_"+this.id)[0],(h=this).vimeoPlayer=$f(i),h.vimeoPlayer.addEvent("ready",function(){h.vimeoPlayer.addEvent("finish",function(){h.onVideoEnd(),h.isPaused||h.slideRun(-1)})})),this.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Video","Play",this.elemArray[this.curElem][2]]))},showIframe:function(){var t=this.isFullscreen?this.$fullscreen:this.$gallery,i=this.elemArray[this.curElem][10],e=this.elemArray[this.curElem][11],i=this.isFullscreen?(i=this.elemArray[this.curElem][17]?Math.min(this.elemArray[this.curElem][17],this.fullscreenWidth):Math.min(i,this.fullscreenWidth),o=this.elemArray[this.curElem][18]?Math.min(this.elemArray[this.curElem][18],this.fullscreenHeight):Math.min(e,this.fullscreenHeight),this.adjustFullscreen(i,o),e=i,o):(E(".html5gallery-elem-"+this.id,this.$gallery).css({width:this.options.width,height:this.options.height}),e=this.options.width,this.options.height),o=this.elemArray[this.curElem][2];E(".html5gallery-elem-"+this.id,t).html("<div class='html5gallery-loading-center-"+this.id+"'></div><div class='html5gallery-elem-iframe-"+this.id+"' style='display:block;position:absolute;overflow:hidden;top:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;left:"+(this.options.slideshadow&&!this.isFullscreen?4:0)+"px;width:"+e+"px;height:"+i+"px;'></div>"+this.options.watermarkcode),E(".html5gallery-elem-iframe-"+this.id,t).html("<iframe id='html5gallery-iframe-"+this.id+"' width='"+e+"' height='"+i+"' src='"+o+"' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"),this.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Iframe","Play",this.elemArray[this.curElem][2]])},checkType:function(t){return t?t.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)?1:t.match(/[^\.]\.(swf)\s*$/i)?2:t.match(/[^\.]\.(mp3)\s*$/i)?3:t.match(/[^\.]\.(pdf)\s*$/i)?4:t.match(/\.(flv)(.*)?$/i)?5:t.match(/\.(mp4|m4v)(.*)?$/i)?6:t.match(/\.(ogv|ogg)(.*)?$/i)?7:t.match(/\.(webm)(.*)?$/i)?8:t.match(/\:\/\/.*(youtube\.com)/i)||t.match(/\:\/\/.*(youtu\.be)/i)||t.match(/\:\/\/.*(youtube-nocookie\.com)/i)?9:t.match(/\:\/\/.*(vimeo\.com)/i)?10:t.match(/\:\/\/.*(dailymotion\.com)/i)||t.match(/\:\/\/.*(dai\.ly)/i)?11:1:-1},onChange:function(){E(window).trigger("html5gallery.onchange",[this.id,this.curElem]),this.options.onchange&&window[this.options.onchange]&&"function"==typeof window[this.options.onchange]&&window[this.options.onchange](this.elemArray[this.curElem].concat([this.id]))},onSlideshowOver:function(){E(window).trigger("html5gallery.onslideshowover",[this.id,this.curElem]),this.options.onslideshowover&&window[this.options.onslideshowover]&&"function"==typeof window[this.options.onslideshowover]&&window[this.options.onslideshowover](this.elemArray[this.curElem])},onThumbOver:function(t){E(window).trigger("html5gallery.onthumbover",[this.id,t]),this.options.onthumbover&&window[this.options.onthumbover]&&"function"==typeof window[this.options.onthumbover]&&window[this.options.onthumbover](this.elemArray[t])},onThumbClick:function(t){E(window).trigger("html5gallery.onthumbclick",[this.id,t]),this.options.onthumbclick&&window[this.options.onthumbclick]&&"function"==typeof window[this.options.onthumbclick]&&window[this.options.onthumbclick](this.elemArray[t].concat([this.id])),this.options.thumbjumptotop&&(this.options.thumbjumpanchor&&0<this.options.thumbjumpanchor.length&&0<E("#"+this.options.thumbjumpanchor).length?(t=E("#"+this.options.thumbjumpanchor).offset().top,E(window).scrollTop(t)):0<=this.options.thumbjumpposition?E(window).scrollTop(this.options.thumbjumpposition):(t=this.container.offset().top)<E(window).scrollTop()&&E(window).scrollTop(t))},onVideoEnd:function(){E(window).trigger("html5gallery.videoend",[this.id,this.curElem]),this.options.onvideoend&&window[this.options.onvideoend]&&"function"==typeof window[this.options.onvideoend]&&window[this.options.onvideoend](this.elemArray[this.curElem]),this.options.reloadonvideoend?this.slideRun(this.curElem):this.options.loadnextonvideoend&&this.slideRun(-1)},embedHTML5Video:function(t,i,e,o,s,h,l,n){var r=this;((this.options.isIE11||this.options.isIE)&&this.options.usenativehtml5controlsonie||this.options.isFirefox&&this.options.usenativehtml5controlsonfirefox||this.options.isIPhone&&this.options.usenativehtml5controlsoniphone||this.options.isIPad&&this.options.usenativehtml5controlsonipad||this.options.isAndroid&&this.options.usenativehtml5controlsonandroid)&&(this.options.nativehtml5controls=!0),(this.options.isIOS||this.options.isAndroid)&&(this.options.fullscreennativecontrols=!0),this.options.mutevideo&&(this.options.defaultvideovolume=0),t.html("<div class='html5gallery-elem-video-container-"+this.id+"' style='position:relative;display:block;background-color:#000;width:100%;height:100%;'><video id='html5gallery-elem-html5-video-"+this.id+"' width='100%' height='100%'"+(this.options.nativehtml5controls&&!this.options.videohidecontrols?" controls":"")+(this.options.html5videonodownload?' controlsList="nodownload"':"")+(this.options.mutevideo?" muted":"")+(this.options.playsinline?" playsinline":"")+(this.options.loopvideo?" loop":"")+(this.options.donotuseposter&&this.options.showhtml5videoposter&&this.elemArray[this.curElem][12]?' poster="'+this.elemArray[this.curElem][12]+'"':"")+"></div>"),E("video",t).get(0).setAttribute("src",(s&&this.isHd?s:o)+(0<l?"#t="+l:"")),this.options.nativehtml5controls||this.options.videohidecontrols||(E("video",t).data("src",o),E("video",t).data("hd",s),E("video",t).data("ishd",this.isHd),E("video",t).addHTML5VideoControls(this.options.skinfolder,this,"#html5gallery-elem-html5-video-"+this.id,!1,!1,this.options.defaultvideovolume,this.options.fullscreennativecontrols,this.options.html5videonodownload,null)),this.elemArray[this.curElem][5]&&(E("video",t).css({cursor:"pointer"}),E("video",t).off("click").on("click",function(){r.elemArray[r.curElem][5]&&(r.elemArray[r.curElem][6]?window.open(r.elemArray[r.curElem][5],r.elemArray[r.curElem][6]):window.open(r.elemArray[r.curElem][5]))})),(h||n)&&E("video",t).get(0).play(),E("video",t).off("ended").on("ended",function(){r.onVideoEnd(),r.isPaused||r.slideRun(-1)})},embedFlash:function(t,i,e,o,s,h,l){var n;this.options.flashInstalled?((n={pluginspage:"http://www.adobe.com/go/getflashplayer",quality:"high",allowFullScreen:"true",allowScriptAccess:"always",type:"application/x-shockwave-flash"}).width=i,n.height=e,n.src=o,n.wmode=s,t.append('<div id="'+l+'"></div>'),window.HTML5GallerySWFObject=function(){function t(){if(!z){try{(t=S.getElementsByTagName("body")[0].appendChild(S.createElement("span"))).parentNode.removeChild(t)}catch(t){return}z=!0;for(var t=I.length,i=0;i<t;i++)I[i]()}}function i(t){z?t():I[I.length]=t}function e(t){var i,e;typeof T.addEventListener!=k?T.addEventListener("load",t,!1):typeof S.addEventListener!=k?S.addEventListener("load",t,!1):typeof T.attachEvent!=k?((i=T).attachEvent("onload",t),W[W.length]=[i,"onload",t]):"function"==typeof T.onload?(e=T.onload,T.onload=function(){e(),t()}):T.onload=t}function h(){var t,i,e=C.length;if(0<e)for(var o=0;o<e;o++){var s=C[o].id,h=C[o].callbackFn,l={success:!1,id:s};if(0<v.pv[0]){if(n=u(s))if(!y(C[o].swfVersion)||v.wk&&v.wk<312)if(C[o].expressInstall&&g()){(l={}).data=C[o].expressInstall,l.width=n.getAttribute("width")||"0",l.height=n.getAttribute("height")||"0",n.getAttribute("class")&&(l.styleclass=n.getAttribute("class")),n.getAttribute("align")&&(l.align=n.getAttribute("align"));for(var n,r={},a=(n=n.getElementsByTagName("param")).length,p=0;p<a;p++)"movie"!=n[p].getAttribute("name").toLowerCase()&&(r[n[p].getAttribute("name")]=n[p].getAttribute("value"));f(l,r,s,h)}else t=n,i=void 0,v.ie&&v.win&&4!=t.readyState?(i=S.createElement("div"),t.parentNode.insertBefore(i,t),i.parentNode.replaceChild(c(t),i),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()):t.parentNode.replaceChild(c(t),t),h&&h(l);else w(s,!0),h&&(l.success=!0,l.ref=d(s),h(l))}else w(s,!0),h&&((s=d(s))&&typeof s.SetVariable!=k&&(l.success=!0,l.ref=s),h(l))}}function d(t){var i=null;return(t=u(t))&&"OBJECT"==t.nodeName&&(typeof t.SetVariable==k&&!(t=t.getElementsByTagName(A)[0])||(i=t)),i}function g(){return!P&&y("6.0.65")&&(v.win||v.mac)&&!(v.wk&&v.wk<312)}function f(t,i,e,o){a=o||null,p={success:!(P=!0),id:e};var s=u(e);s&&(r="OBJECT"==s.nodeName?(n=c(s),null):(n=s,e),t.id=M,(typeof t.width==k||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==k||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),S.title=S.title.slice(0,47)+" - Flash Player Installation",o=v.ie&&v.win?"ActiveX":"PlugIn",o="MMredirectURL="+T.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+S.title,i.flashvars=typeof i.flashvars!=k?i.flashvars+"&"+o:o,v.ie&&v.win&&4!=s.readyState&&(e+="SWFObjectNew",(o=S.createElement("div")).setAttribute("id",e),s.parentNode.insertBefore(o,s),s.style.display="none",function(){4==s.readyState?s.parentNode.removeChild(s):setTimeout(arguments.callee,10)}()),b(t,i,e))}function c(t){var i=S.createElement("div");if(v.win&&v.ie)i.innerHTML=t.innerHTML;else if((t=t.getElementsByTagName(A)[0])&&(t=t.childNodes))for(var e=t.length,o=0;o<e;o++)1==t[o].nodeType&&"PARAM"==t[o].nodeName||8==t[o].nodeType||i.appendChild(t[o].cloneNode(!0));return i}function b(t,i,e){var o,s=u(e);if(v.wk&&v.wk<312)return o;if(s)if(typeof t.id==k&&(t.id=e),v.ie&&v.win){var h,l="";for(h in t)t[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?i.movie=t[h]:"styleclass"==h.toLowerCase()?l+=' class="'+t[h]+'"':"classid"!=h.toLowerCase()&&(l+=" "+h+'="'+t[h]+'"'));for(var n in h="",i)i[n]!=Object.prototype[n]&&(h+='<param name="'+n+'" value="'+i[n]+'" />');s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+l+">"+h+"</object>",F[F.length]=t.id,o=u(t.id)}else{for(var r in(n=S.createElement(A)).setAttribute("type",E),t)t[r]!=Object.prototype[r]&&("styleclass"==r.toLowerCase()?n.setAttribute("class",t[r]):"classid"!=r.toLowerCase()&&n.setAttribute(r,t[r]));for(l in i)i[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&(t=n,r=i[h=l],(e=S.createElement("param")).setAttribute("name",h),e.setAttribute("value",r),t.appendChild(e));s.parentNode.replaceChild(n,s),o=n}return o}function s(e){var o=u(e);o&&"OBJECT"==o.nodeName&&(v.ie&&v.win?(o.style.display="none",function(){if(4==o.readyState){var t=u(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}else setTimeout(arguments.callee,10)}()):o.parentNode.removeChild(o))}function u(t){var i=null;try{i=S.getElementById(t)}catch(t){}return i}function y(t){var i=v.pv;return(t=t.split("."))[0]=parseInt(t[0],10),t[1]=parseInt(t[1],10)||0,t[2]=parseInt(t[2],10)||0,i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]}function l(t,i,e,o){var s;v.ie&&v.mac||(s=S.getElementsByTagName("head")[0])&&(e=e&&"string"==typeof e?e:"screen",o&&(x=m=null),m&&x==e||((o=S.createElement("style")).setAttribute("type","text/css"),o.setAttribute("media",e),m=s.appendChild(o),v.ie&&v.win&&typeof S.styleSheets!=k&&0<S.styleSheets.length&&(m=S.styleSheets[S.styleSheets.length-1]),x=e),v.ie&&v.win?m&&typeof m.addRule==A&&m.addRule(t,i):m&&typeof S.createTextNode!=k&&m.appendChild(S.createTextNode(t+" {"+i+"}")))}function w(t,i){var e;j&&(e=i?"visible":"hidden",z&&u(t)?u(t).style.visibility=e:l("#"+t,"visibility:"+e))}function o(t){return null!=/[\\\"<>\.;]/.exec(t)&&typeof encodeURIComponent!=k?encodeURIComponent(t):t}var n,r,a,p,m,x,v,k="undefined",A="object",E="application/x-shockwave-flash",M="SWFObjectExprInst",T=window,S=document,$=navigator,H=!1,I=[function(){var i,e,o,s;H?(i=S.getElementsByTagName("body")[0],(e=S.createElement(A)).setAttribute("type",E),(o=i.appendChild(e))?(s=0,function(){if(typeof o.GetVariable!=k){var t=o.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),v.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(s<10)return s++,setTimeout(arguments.callee,10);i.removeChild(e),o=null,h()}()):h()):h()}],C=[],F=[],W=[],z=!1,P=!1,j=!0,N=typeof S.getElementById!=k&&typeof S.getElementsByTagName!=k&&typeof S.createElement!=k,L=$.userAgent.toLowerCase(),O=(B=$.platform.toLowerCase())?/win/.test(B):/win/.test(L),B=/mac/.test(B||L),L=!!/webkit/.test(L)&&parseFloat(L.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),_=!1,V=[0,0,0],R=null;if(typeof $.plugins!=k&&typeof $.plugins["Shockwave Flash"]==A)!(R=$.plugins["Shockwave Flash"].description)||typeof $.mimeTypes!=k&&$.mimeTypes[E]&&!$.mimeTypes[E].enabledPlugin||(_=!(H=!0),R=R.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),V[0]=parseInt(R.replace(/^(.*)\..*$/,"$1"),10),V[1]=parseInt(R.replace(/^.*\.(.*)\s.*$/,"$1"),10),V[2]=/[a-zA-Z]/.test(R)?parseInt(R.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof T.ActiveXObject!=k)try{var q=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");q&&(R=q.GetVariable("$version"))&&(_=!0,R=R.split(" ")[1].split(","),V=[parseInt(R[0],10),parseInt(R[1],10),parseInt(R[2],10)])}catch(t){}return(v={w3:N,pv:V,wk:L,ie:_,win:O,mac:B}).w3&&((typeof S.readyState!=k&&"complete"==S.readyState||typeof S.readyState==k&&(S.getElementsByTagName("body")[0]||S.body))&&t(),z||(typeof S.addEventListener!=k&&S.addEventListener("DOMContentLoaded",t,!1),v.ie&&v.win&&(S.attachEvent("onreadystatechange",function(){"complete"==S.readyState&&(S.detachEvent("onreadystatechange",arguments.callee),t())}),T==top&&function(){if(!z){try{S.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0)}t()}}()),v.wk&&function(){z||(/loaded|complete/.test(S.readyState)?t():setTimeout(arguments.callee,0))}(),e(t))),v.ie&&v.win&&window.attachEvent("onunload",function(){for(var t=W.length,i=0;i<t;i++)W[i][0].detachEvent(W[i][1],W[i][2]);for(t=F.length,i=0;i<t;i++)s(F[i]);for(var e in v)v[e]=null;if(v=null,window.AmazingSWFObject){for(var o in window.AmazingSWFObject)window.AmazingSWFObject[o]=null;window.AmazingSWFObject=null}}),{registerObject:function(t,i,e,o){var s;v.w3&&t&&i?((s={}).id=t,s.swfVersion=i,s.expressInstall=e,s.callbackFn=o,C[C.length]=s,w(t,!1)):o&&o({success:!1,id:t})},getObjectById:function(t){if(v.w3)return d(t)},embedSWF:function(s,h,l,n,r,a,p,d,c,u){var m={success:!1,id:h};v.w3&&!(v.wk&&v.wk<312)&&s&&h&&l&&n&&r?(w(h,!1),i(function(){l+="",n+="";var t={};if(c&&typeof c===A)for(var i in c)t[i]=c[i];if(t.data=s,t.width=l,t.height=n,i={},d&&typeof d===A)for(var e in d)i[e]=d[e];if(p&&typeof p===A)for(var o in p)i.flashvars=typeof i.flashvars!=k?i.flashvars+("&"+o+"="+p[o]):o+"="+p[o];if(y(r))e=b(t,i,h),t.id==h&&w(h,!0),m.success=!0,m.ref=e;else{if(a&&g())return t.data=a,void f(t,i,h,u);w(h,!0)}u&&u(m)})):u&&u(m)},switchOffAutoHideShow:function(){j=!1},ua:v,getFlashPlayerVersion:function(){return{major:v.pv[0],minor:v.pv[1],release:v.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(t,i,e){if(v.w3)return b(t,i,e)},showExpressInstall:function(t,i,e,o){v.w3&&g()&&f(t,i,e,o)},removeSWF:function(t){v.w3&&s(t)},createCSS:function(t,i,e,o){v.w3&&l(t,i,e,o)},addDomLoadEvent:i,addLoadEvent:e,getQueryParamValue:function(t){if(i=S.location.search||S.location.hash){if(/\?/.test(i)&&(i=i.split("?")[1]),null==t)return o(i);for(var i=i.split("&"),e=0;e<i.length;e++)if(i[e].substring(0,i[e].indexOf("="))==t)return o(i[e].substring(i[e].indexOf("=")+1))}return""},expressInstallCallback:function(){var t;P&&((t=u(M))&&n&&(t.parentNode.replaceChild(n,t),r&&(w(r,!0),v.ie&&v.win&&(n.style.display="block")),a&&a(p)),P=!1)}}}(),window.HTML5GallerySWFObject.embedSWF(o,l,i,e,"9.0.0",!1,h,n,{})):t.html("<div class='html5gallery-elem-error-"+this.id+"' style='display:block; position:absolute; text-align:center; width:"+this.options.width+"px; left:0px; top:"+Math.round(this.options.height/2-10)+"px;'><div class='html5gallery-error-"+this.id+"'><div>The required Adobe Flash Player plugin is not installed</div><div style='display:block;position:relative;text-align:center;width:112px;height:33px;margin:0px auto;'><a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' width='112' height='33'></img></a></div></div>")}},this.each(function(){var t=E(this);for(var i in l=l||{})i.toLowerCase()!==i&&(l[i.toLowerCase()]=l[i],delete l[i]);if((!E(this).data("donotinit")||l&&l.forceinit)&&!E(this).data("inited")){E(this).data("inited",1),this.options=E.extend({},l);var e=this;E.each(t.data(),function(t,i){e.options[t.toLowerCase()]=i}),"skin"in this.options&&(this.options.skin=this.options.skin.toLowerCase());var o={padding:12,skinfolder:"skins/light/",bgcolor:"",bgimage:"",galleryshadow:!(i={skinfolder:"skins/horizontal/",padding:6,bgcolor:"#ffffff",bgimage:"",galleryshadow:!0,slideshadow:!1,showsocialmedia:!1,headerpos:"top",showdescription:!0,titleoverlay:!0,titleautohide:!0,titlecss:" {color:#ffffff; font-size:14px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; padding:10px 0px 10px 10px; background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",titlecsslink:" a {color:#ffffff;}",descriptioncss:" {color:#ffffff; font-size:13px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; padding:0px 0px 10px 10px; background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",descriptioncsslink:" a {color:#ffffff;}",showcarousel:!0,carouselmargin:0,carouselbgtransparent:!1,carouselbgcolorstart:"#494f54",carouselbgcolorend:"#292c31",carouseltopborder:"#666666",carouselbottomborder:"#111111",thumbwidth:64,thumbheight:48,thumbgap:4,thumbmargin:6,thumbunselectedimagebordercolor:"#ffffff",thumbimageborder:1,thumbimagebordercolor:"",thumbshowplayonvideo:!0,thumbshadow:!1,thumbopacity:.8}),slideshadow:!0,showsocialmedia:!1,headerpos:"top",showdescription:!0,titleoverlay:!0,titleautohide:!0,titlecss:" {color:#ffffff; font-size:14px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:10px 0px 10px 10px;  background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",titlecsslink:" a {color:#ffffff;}",descriptioncss:" {color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:0px 0px 10px 10px;  background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",descriptioncsslink:" a {color:#ffffff;}",showcarousel:!0,carouselmargin:10,carouselbgtransparent:!0,thumbwidth:48,thumbheight:48,thumbgap:8,thumbmargin:12,thumbunselectedimagebordercolor:"#fff",thumbimageborder:2,thumbimagebordercolor:"#fff",thumbshowplayonvideo:!0,thumbshadow:!0,thumbopacity:.8},s={padding:0,skinfolder:"skins/mediapage/",bgcolor:"",bgimage:"",galleryshadow:!1,slideshadow:!1,showsocialmedia:!1,headerpos:"top",showdescription:!0,titleoverlay:!0,titleautohide:!0,titlecss:" {color:#ffffff; font-size:14px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:10px 0px 10px 10px;  background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",titlecsslink:" a {color:#ffffff;}",descriptioncss:" {color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:0px 0px 10px 10px;  background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",descriptioncsslink:" a {color:#ffffff;}",showcarousel:!0,carouselmargin:24,carouselmultirows:!0,thumbrowgap:16,carouselbgtransparent:!0,thumbwidth:120,thumbheight:60,thumbgap:10,thumbmargin:12,thumbunselectedimagebordercolor:"#fff",thumbimageborder:0,thumbimagebordercolor:"#fff",thumbshowplayonvideo:!0,thumbshadow:!1,thumbopacity:.8,thumbjumptotop:!0,thumbshowtitle:!0,thumbtitlecss:"{text-align:center; color:#000; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden;}",thumbtitleheight:24},h={freelink:"",watermark:"",watermarklink:"",enabletabindex:!1,playvideoimage:"playvideo_64.png",playvideothumbimage:"playvideo.png",loadinggif:"loading.gif",centerloadinggif:"loading_center.gif",skin:"horizontal",googlefonts:"",mobileresizeevent:!1,enabletouchswipe:!0,enabletouchswipeonandroid:!1,disablehovereventontouch:!1,responsive:!1,responsivefullscreen:!1,resizedelay:10,screenquery:{},firstitemid:0,addimgtitle:!1,src:"",xml:"",xmlnocache:!0,stopallplaying:!1,lightbox:!1,autoslide:!1,slideshowinterval:6e3,random:!1,borderradius:0,loop:0,pauseonmouseover:!1,arrowloop:!0,setfirstslideshowinterval:!1,firstslideshowinterval:6e3,reverse:!1,notupdatecarousel:!1,updatecarouselinterval:6e4,youtubeimage:"0.jpg",youtubethumb:"0.jpg",autoplayvideo:!1,html5player:!0,playvideoonclick:!0,videohidecontrols:!1,useflashformp4onfirefox:!1,reloadonvideoend:!1,loadnextonvideoend:!1,nativehtml5controls:!1,hddefault:!1,useflashonie9:!0,useflashonie10:!1,useflashonie11:!1,fullscreennativecontrols:!0,html5videonodownload:!0,usenativehtml5controlsoniphone:!0,usenativehtml5controlsonipad:!0,usenativehtml5controlsonandroid:!0,usenativehtml5controlsonie:!1,usenativehtml5controlsonfirefox:!1,defaultvideovolume:1,mutevideo:!1,playsinline:!1,loopvideo:!1,autoslideandplayafterfirstplayed:!1,lazyloadtags:"lazy-src,lazyload-src,cfsrc,src",linkonlyonvideo:!0,hidetitlewhenvideoisplaying:!1,hideplaypausefullscreenwhenvideoisplaying:!1,lightboxborder:8,lightboxtextheight:72,lightboxmargin:12,lightboxbgcolor:"#fff",lightboxshowtitle:!0,lightboxtitlecss:" {color:#333333; font:bold 12px Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; line-height:18px;}",lightboxtitlelinkcss:" a {color:#333333;}",lightboxshowdescription:!0,lightboxdescriptioncss:" {color:#333333; font:normal 12px Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; line-height:14px;}",lightboxdescriptionlinkcss:" a {color:#333333;}",effect:"fade",easing:"easeOutCubic",duration:1500,slide:{duration:1e3,easing:"easeOutExpo"},width:480,height:270,showtimer:!0,resizemode:"fit",showtitle:!0,titleheight:45,errorcss:" {text-align:center; color:#ff0000; font-size:14px; font-family:Arial, sans-serif;}",shownumbering:!1,numberingformat:"%NUM / %TOTAL",googleanalyticsaccount:"",showsocialmedia:!1,socialheight:30,socialurlforeach:!1,showfacebooklike:!0,facebooklikeurl:"",twitterurl:"",twitterusername:"",twittervia:"html5box",showgoogleplus:!0,googleplusurl:"",initsocial:!1,showsocial:!1,socialmode:"mouseover",socialposition:"position:absolute;top:8px;right:8px;",socialpositionlightbox:"position:absolute;top:8px;right:8px;",socialdirection:"horizontal",socialbuttonsize:32,socialbuttonfontsize:18,socialrotateeffect:!0,showfacebook:!0,showtwitter:!0,showpinterest:!0,showlinkedin:!1,showgplus:!1,showemail:!1,showimagetoolbox:"always",imagetoolboxstyle:"side",imagetoolboxmode:"mouseover",showplaybutton:!0,showprevbutton:!0,shownextbutton:!0,showfullscreenbutton:!0,showplaypausefullscreenforall:!1,showcarouselforsingle:!1,carouselbgtransparent:!0,carouselbgcolorstart:"#ffffff",carouselbgcolorend:"#ffffff",carouseltopborder:"#ffffff",carouselbottomborder:"#ffffff",carouselbgimage:"",carouseleasing:"easeOutCirc",carouselarrowwidth:32,carouselarrowheight:32,thumbresponsive:"samesize",thumbcolumns:5,thumbcolumnsresponsive:!1,thumbmediumcolumns:3,thumbmediumsize:800,thumbsmallcolumns:2,thumbsmallsize:480,thumbmediumwidth:64,thumbmediumheight:64,thumbsmallwidth:48,thumbsmallheight:48,addthumbnailtitle:!1,carouselmultirows:!1,thumbrowgap:16,thumblinkintitle:!1,thumbjumptotop:!1,thumbjumpposition:-1,thumbjumpanchor:"",thumbshowtitle:!1,thumbtitlecss:"{text-align:center; color:#000; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden;}",thumbtitleheight:24,thumbmediumtitleheight:48,thumbsmalltitleheight:72,youtubeapikey:"",youtubeplaylistid:"",youtubeplaylistmaxresults:"",youtubeplaylistusemaxres:!0,titlesmallscreen:!1,titlesmallscreenwidth:640,titleheightsmallscreen:148,donotuseposter:!1,showhtml5videoposter:!0,splitvsliderontouch:!0,forcetouch:!1,version:"3.6",frve:!0,fm:"72,84,77,76,53,32,71,97,108,108,101,114,121,32,70,114,101,101,32,86,101,114,115,105,111,110"},h="vertical"==this.options.skin?E.extend(h,{skinfolder:"skins/vertical/",padding:12,bgcolor:"#444444",bgimage:"background.jpg",galleryshadow:!1,slideshadow:!1,headerpos:"bottom",showdescription:!1,titleoverlay:!1,titleautohide:!1,titlecss:" {color:#ffffff; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:10px 0px;}",titlecsslink:" a {color:#ffffff;}",descriptioncss:" {color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:0px 0px 10px 0px;}",descriptioncsslink:" a {color:#ffffff;}",showcarousel:!0,carouselmargin:8,carouselposition:"right",carouselposresponsive:!0,carouselposresponsiveonscreenwidth:800,carouselheight:280,carouselbgtransparent:!1,carouselbgcolorstart:"#494f54",carouselbgcolorend:"#292c31",carouseltopborder:"#666666",carouselbottomborder:"#111111",carouselhighlightbgcolorstart:"#999999",carouselhighlightbgcolorend:"#666666",carouselhighlighttopborder:"#cccccc",carouselhighlightbottomborder:"#444444",carouselhighlightbgimage:"",thumbwidth:148,thumbheight:48,thumbgap:2,thumbmargin:6,thumbunselectedimagebordercolor:"",thumbimageborder:1,thumbimagebordercolor:"#cccccc",thumbshowplayonvideo:!0,thumbshadow:!1,thumbopacity:.8,thumbshowimage:!0,thumbshowtitle:!0,thumbtitlecss:"{text-align:center; color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal;}"}):"verticallight"==this.options.skin?E.extend(h,{skinfolder:"skins/verticallight/",padding:12,bgcolor:"#fff",bgimage:"",galleryshadow:!1,slideshadow:!1,headerpos:"bottom",showdescription:!1,titleoverlay:!1,titleautohide:!1,titlecss:" {color:#333; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:10px 0px;}",titlecsslink:" a {color:#333;}",descriptioncss:" {color:#333; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:0px 0px 10px 0px;}",descriptioncsslink:" a {color:#333;}",showcarousel:!0,carouselmargin:8,carouselposition:"right",carouselposresponsive:!0,carouselposresponsiveonscreenwidth:800,carouselheight:280,carouselbgtransparent:!1,carouselbgcolorstart:"#fff",carouselbgcolorend:"#fff",carouseltopborder:"#fff",carouselbottomborder:"#fff",carouselhighlightbgcolorstart:"#f0f0f0",carouselhighlightbgcolorend:"#f0f0f0",carouselhighlighttopborder:"#f0f0f0",carouselhighlightbottomborder:"#f0f0f0",carouselhighlightbgimage:"",thumbwidth:148,thumbheight:48,thumbgap:2,thumbmargin:6,thumbunselectedimagebordercolor:"",thumbimageborder:0,thumbimagebordercolor:"#fff",thumbshowplayonvideo:!0,thumbshadow:!1,thumbopacity:.8,thumbshowimage:!0,thumbshowtitle:!0,thumbtitlecss:"{text-align:center; color:#333; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal;}"}):"showcase"==this.options.skin?E.extend(h,{skinfolder:"skins/showcase/",padding:12,bgcolor:"#444444",bgimage:"background.jpg",galleryshadow:!1,slideshadow:!1,showsocialmedia:!1,headerpos:"bottom",showdescription:!1,titleoverlay:!1,titleautohide:!1,titlecss:" {color:#ffffff; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:10px 0px;}",titlecsslink:" a {color:#ffffff;}",descriptioncss:" {color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:0px 0px 10px 0px;}",descriptioncsslink:" a {color:#ffffff;}",showcarousel:!0,carouselmargin:8,carouselposition:"bottom",carouselheight:280,carouselposresponsive:!1,carouselbgtransparent:!1,carouselbgcolorstart:"#494f54",carouselbgcolorend:"#292c31",carouseltopborder:"#666666",carouselbottomborder:"#111111",carouselhighlightbgcolorstart:"#999999",carouselhighlightbgcolorend:"#666666",carouselhighlighttopborder:"#cccccc",carouselhighlightbottomborder:"#444444",carouselhighlightbgimage:"",thumbwidth:148,thumbheight:60,thumbgap:2,thumbmargin:6,thumbunselectedimagebordercolor:"",thumbimageborder:1,thumbimagebordercolor:"#cccccc",thumbshowplayonvideo:!0,thumbshadow:!1,thumbopacity:.8,thumbshowimage:!0,thumbshowtitle:!0,thumbtitlecss:"{text-align:left; color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; padding: 6px 0;}",thumbshowdescription:!0,thumbdescriptioncss:"{font-size:10px;}"}):"light"==this.options.skin?E.extend(h,o):"gallery"==this.options.skin?E.extend(h,{padding:12,skinfolder:"/themes/custom/tu_d8/js/skins/gallery/",bgcolor:"",bgimage:"",galleryshadow:!1,slideshadow:!0,showsocialmedia:!1,headerpos:"top",showdescription:!0,titleoverlay:!0,titleautohide:!0,titlecss:" {color:#ffffff; font-size:14px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:10px 0px 10px 10px;  background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",titlecsslink:" a {color:#ffffff;}",descriptioncss:" {color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:0px 0px 10px 10px;  background:rgb(102, 102, 102) transparent; background: rgba(102, 102, 102, 0.6); filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; -ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#99666666, endColorstr=#99666666)'; }",descriptioncsslink:" a {color:#ffffff;}",showcarousel:!0,carouselmargin:10,carouselbgtransparent:!0,thumbwidth:120,thumbheight:60,thumbgap:8,thumbmargin:12,thumbunselectedimagebordercolor:"#fff",thumbimageborder:2,thumbimagebordercolor:"#fff",thumbshowplayonvideo:!0,thumbshadow:!0,thumbopacity:.8,thumbshowtitle:!0,thumbtitlecss:"{text-align:center; color:#000; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal;}",thumbtitleheight:18}):"gallerywithtext"==this.options.skin?E.extend(h,{padding:12,skinfolder:"/themes/custom/tu_d8/js/skins/gallery/",bgcolor:"",bgimage:"",galleryshadow:!1,slideshadow:!0,showsocialmedia:!1,headerpos:"bottom",showdescription:!0,titleoverlay:!1,titleheight:72,titleautohide:!0,titlecss:"{color:#333;font-size:14px;font-family:Arial,Helvetica,sans-serif;overflow:hidden;text-align:center;padding:16px 8px 4px 8px;}",titlecsslink:"a{color:#333;}",descriptioncss:"{color:#333;font-size:12px;font-family:Arial,Helvetica,sans-serif;overflow:hidden;text-align:center;padding:4px 8px; }",descriptioncsslink:"a{color:#333;}",titlesmallscreen:!0,showcarousel:!0,carouselmargin:10,carouselbgtransparent:!0,thumbwidth:120,thumbheight:60,thumbgap:8,thumbmargin:12,thumbunselectedimagebordercolor:"#fff",thumbimageborder:2,thumbimagebordercolor:"#fff",thumbshowplayonvideo:!0,thumbshadow:!0,thumbopacity:.8,thumbshowtitle:!1,thumbtitlecss:"{text-align:center; color:#000; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal;}",thumbtitleheight:18}):"gallerywithtopthumbs"==this.options.skin?E.extend(h,{padding:12,skinfolder:"/themes/custom/tu_d8/js/skins/gallery/",bgcolor:"",bgimage:"",galleryshadow:!1,slideshadow:!0,showsocialmedia:!1,headerpos:"bottom",showdescription:!0,titleoverlay:!1,titleheight:72,titleautohide:!0,titlecss:"{color:#333;font-size:14px;font-family:Arial,Helvetica,sans-serif;overflow:hidden;text-align:center;padding:16px 8px 4px 8px;}",titlecsslink:"a{color:#333;}",descriptioncss:"{color:#333;font-size:12px;font-family:Arial,Helvetica,sans-serif;overflow:hidden;text-align:center;padding:4px 8px; }",descriptioncsslink:"a{color:#333;}",titlesmallscreen:!0,showcarousel:!0,carouselmargin:10,carouselposition:"top",carouselbgtransparent:!0,thumbwidth:120,thumbheight:60,thumbgap:8,thumbmargin:12,thumbunselectedimagebordercolor:"#fff",thumbimageborder:2,thumbimagebordercolor:"#fff",thumbshowplayonvideo:!0,thumbshadow:!0,thumbopacity:.8,thumbshowtitle:!0,thumbtitlecss:"{text-align:center; color:#000; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal;}",thumbtitleheight:18}):"gallerywithtextbottom"==this.options.skin?E.extend(h,{padding:12,skinfolder:"/themes/custom/tu_d8/js/skins/gallery/",bgcolor:"",bgimage:"",galleryshadow:!1,slideshadow:!0,showsocialmedia:!1,headerpos:"bottomoutside",showdescription:!0,titleoverlay:!1,titleheight:72,titleautohide:!0,titlecss:"{color:#333;font-size:14px;font-family:Arial,Helvetica,sans-serif;overflow:hidden;text-align:center;padding:16px 8px 4px 8px;}",titlecsslink:"a{color:#333;}",descriptioncss:"{color:#333;font-size:12px;font-family:Arial,Helvetica,sans-serif;overflow:hidden;text-align:center;padding:4px 8px; }",descriptioncsslink:"a{color:#333;}",titlesmallscreen:!0,showcarousel:!0,carouselmargin:10,carouselbgtransparent:!0,thumbwidth:120,thumbheight:60,thumbgap:8,thumbmargin:12,thumbunselectedimagebordercolor:"#fff",thumbimageborder:2,thumbimagebordercolor:"#fff",thumbshowplayonvideo:!0,thumbshadow:!0,thumbopacity:.8,thumbshowtitle:!0,thumbtitlecss:"{text-align:center; color:#000; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal;}",thumbtitleheight:18}):"horizontal"==this.options.skin?E.extend(h,i):"darkness"==this.options.skin?E.extend(h,{skinfolder:"skins/darkness/",padding:12,bgcolor:"#444444",bgimage:"background.jpg",galleryshadow:!1,slideshadow:!1,headerpos:"bottom",showdescription:!1,titleoverlay:!1,titleautohide:!1,titlecss:" {color:#ffffff; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:10px 0px;}",titlecsslink:" a {color:#ffffff;}",descriptioncss:" {color:#ffffff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; white-space:normal; text-align:left; padding:0px 0px 10px 0px;}",descriptioncsslink:" a {color:#ffffff;}",showcarousel:!0,carouselmargin:8,carouselbgtransparent:!1,carouselbgcolorstart:"#494f54",carouselbgcolorend:"#292c31",carouseltopborder:"#666666",carouselbottomborder:"#111111",thumbwidth:64,thumbheight:48,thumbgap:4,thumbmargin:6,thumbunselectedimagebordercolor:"#ffffff",thumbimageborder:1,thumbimagebordercolor:"",thumbshowplayonvideo:!0,thumbshadow:!1,thumbopacity:.8}):"mediapage"==this.options.skin?E.extend(h,s):E.extend(h,i);this.options=E.extend(h,this.options),this.options.titleheightlargescreen=this.options.titleheight,this.options.lightbox&&(this.options.showfullscreenbutton=!1),"slideduration"in this.options&&(this.options.slide.duration=this.options.slideduration),this.options.htmlfolder=window.location.href.substr(0,window.location.href.lastIndexOf("/")+1),this.options.jsfolder&&this.options.jsfolder.length||(this.options.jsfolder=r),"/"!=this.options.skinfolder.charAt(0)&&"http:"!=this.options.skinfolder.substring(0,5)&&"https:"!=this.options.skinfolder.substring(0,6)&&(this.options.skinfolder=this.options.jsfolder+this.options.skinfolder),o=["bgimage","playvideoimage","playvideothumbimage","loadinggif","centerloadinggif"];for(i=0;i<o.length;i++)this.options[o[i]]&&0<this.options[o[i]].length&&"http://"!=this.options[o[i]].substring(0,7).toLowerCase()&&"https://"!=this.options[o[i]].substring(0,8).toLowerCase()&&(this.options[o[i]]=this.options.skinfolder+this.options[o[i]]);for(o="",s=this.options.fm.split(","),i=0;i<s.length;i++)o+=String.fromCharCode(s[i]);for(this.options.frvem=o,s="hmtamgli5cboxh.iclolms",i=1;i<=5;i++)s=s.slice(0,i)+s.slice(i+1);for(o=s.length,i=0;i<5;i++)s=s.slice(0,o-9+i)+s.slice(o-8+i);if(-1!=this.options.htmlfolder.indexOf(s)&&(this.options.frve=!1),o=E(window).width(),this.options.screenquery)for(i in this.options.screenquery)o<=this.options.screenquery[i].screenwidth&&(this.options.screenquery[i].gallerywidth&&(this.options.width=this.options.screenquery[i].gallerywidth),this.options.screenquery[i].galleryheight&&(this.options.height=this.options.screenquery[i].galleryheight),this.options.screenquery[i].thumbwidth&&(this.options.thumbwidth=this.options.screenquery[i].thumbwidth),this.options.screenquery[i].thumbheight&&(this.options.thumbheight=this.options.screenquery[i].thumbheight));"galleryid"in this.options?i=this.options.galleryid:(i=p,p++),o=new n(t,this.options,i),t.data("html5galleryobject",o),t.data("html5galleryid",i),f.addObject(o)}}),this},jQuery(document).ready(function(){jQuery.fn.html5gallery&&jQuery(".html5gallery").html5gallery()})}function t(t,i,e){var o=this;o.timeout=t;var s=null,h=0,l=!1,n=!1,r=!1;this.setInterval=function(t){o.timeout=t},this.pause=function(){n&&(l=!0,clearInterval(s))},this.resume=function(t){r&&!t||(r=!1,n&&l&&(l=!1,s=setInterval(function(){(h+=50)>o.timeout&&(clearInterval(s),i&&i()),e&&e(h/o.timeout)},50)))},this.stop=function(){clearInterval(s),e&&e(-1),h=0,n=l=!1},this.start=function(){h=0,n=!(l=!1),s=setInterval(function(){(h+=50)>o.timeout&&(clearInterval(s),i&&i()),e&&e(h/o.timeout)},50)},this.startandpause=function(){r=n=l=!(h=0)}}!function(){for(var t,i=document.getElementsByTagName("script"),e="",o=0;o<i.length;o++)i[o].src&&i[o].src.match(/html5gallery\.js/i)&&(e=i[o].src.substr(0,i[o].src.lastIndexOf("/")+1));i=!1,("undefined"==typeof jQuery||(o=jQuery.fn.jquery.split("."))[0]<1||1==o[0]&&o[1]<6)&&(i=!0),i?(i=document.getElementsByTagName("head")[0],(t=document.createElement("script")).setAttribute("type","text/javascript"),t.readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,s(e))}:t.onload=function(){s(e)},t.setAttribute("src",e+"jquery.js"),i.appendChild(t)):s(e)}();var d,g,f=new function(){this.objects=[],this.addObject=function(t){this.objects.push(t)},this.loadNext=function(t){this.objects[t].onVideoEnd(),this.objects[t].isPaused||this.objects[t].slideRun(-1)},this.setHd=function(t,i,e){this.objects[t].setHd(i,e)},this.gotoSlide=function(t,i){void 0===i&&(i=0),this.objects[i]&&this.objects[i].slideRun(t)}};void 0===d&&(d=!1,g=0);var b=0};const iframe_data=[];(function($,Drupal){Drupal.behaviors.lead_article={attach(context,settings){const wdth=jQuery(window).width();let scrollingAmount=300;if(wdth>=768){scrollingAmount=900;}
if(jQuery(".carousel-data").length>1){jQuery(".carousel-data").wrapAll('<div class="article_top_lead_carousel"></div>');}
if(jQuery("#mgallery .slider").find(".item").length>0){jQuery("#mgallery .slider").not('.slick-initialized').slick({slidesToShow:1,slidesToScroll:1,arrows:true,fade:true,asNavFor:".slider-nav",pauseOnHover:true,swipe:true,autoplay:false,touchMove:true,adaptiveHeight:false,centerMode:true,responsive:[{breakpoint:767,settings:{arrows:false}}]});jQuery("#mgallery .slider-nav").not('.slick-initialized').slick({slidesToShow:4.5,slidesToScroll:1,dots:true,centerMode:false,focusOnSelect:true,autoplay:false,asNavFor:".slider",swipe:true,arrows:true,infinite:false,responsive:[{breakpoint:767,settings:{slidesToShow:3,arrows:false}}]});jQuery(".slider .item").each(function(){if(jQuery(this).data("video-id")!=""){const ifrmaes={index:jQuery(this).data("slick-index"),video_id:jQuery(this).attr("video-id")};iframe_data.push(ifrmaes);}});jQuery(".slider-nav").slick("unslick");jQuery(".slider-nav").mCustomScrollbar({axis:"x",advanced:{autoExpandHorizontalScroll:true},scrollButtons:{enable:true,scrollAmount:scrollingAmount,scrollType:"stepped"}});}
jQuery(".item[data-slide]").on("click",function(){let slideno=jQuery(this).data("slide");slideno-=1;jQuery("#mgallery .slider").slick("slickGoTo",+slideno);});jQuery(".slider").on("afterChange",(event,slick,currentSlide,nextSlide)=>{$("#myModal1").find("iframe").attr("src","");for(let i=0;i<iframe_data.length;i++){if(iframe_data[i].index==currentSlide){jQuery("#myModal1").find("iframe").attr("src",`https://www.youtube.com/embed/${iframe_data[i].video_id}?enablejsapi=1&html5=1`);}}
let dataId=jQuery(".slick-current").data("slick-index");const title=jQuery(".slick-current").data("h2title");jQuery("._title_gallery").text(title);dataId+=1;const item2update=jQuery(`.slider-nav .item[data-slide="${dataId}"]`);item2update.addClass("active");jQuery(".slider-nav").mCustomScrollbar("scrollTo",item2update);});jQuery("#myModal1").on("hidden.bs.modal",function(){jQuery(this).find("iframe").attr("src","");});}};})(jQuery,Drupal);function open_gallery(dis,video_id,key,type){jQuery("#myModal1").modal("show");setTimeout(()=>{const index=jQuery(dis).parents(".carousel-data").data("slick-index");jQuery(".slider").slick("slickGoTo",index);const title=jQuery(".slick-currensdt").data("h2title");jQuery("._title_gallery").text(title);if(type=="video"){const currentIndex=jQuery(".slider").slick("slickCurrentSlide");const video_id=jQuery(`.slider .item[data-slick-index = '${currentIndex}']`).data("video-id");const iframe_src=`https://www.youtube.com/embed/${video_id}?enablejsapi=1&html5=1`;jQuery(`.slider .item[data-slick-index = '${currentIndex}']`).find("iframe").attr("src",iframe_src);}},100);setTimeout(()=>{jQuery(".slider").slick("refresh");},500);};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",G(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",G(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&Q(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){o.data(a);N.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),N.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),$(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+n.langDir+"' /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=oe(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(Q(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),G(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),G(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),$(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),$(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===f[1])var i="x",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else var i="y",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],h=e("#mCSB_"+l.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r),o=e(this);var a=o.offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)}),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}}).add(p).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){o&&(C(o,"active",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)})},D=function(){function o(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,"y","all",!0),B.overflowed[1]&&s(w[1],R,n,"x",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],W=[],R=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,j(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function(){function t(t,a){if(Q(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},R=new Object,A=function(t){var o=!1,a=!1,n=null;if(void 0===t?a="#empty":void 0!==e(t).attr("id")&&(a=e(t).attr("id")),a!==!1&&void 0!==R[a])return R[a];if(t){try{var i=t.contentDocument||t.contentWindow.document;n=i.body.innerHTML}catch(r){}o=null!==n}else{try{var i=top.document;n=i.body.innerHTML}catch(r){}o=null!==n}return a!==!1&&(R[a]=o),o},L=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},z=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},P=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){Q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),a=r.find(".mCustomScrollBox").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===n.axis||s[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})},t[0]._focusTimer))})},U=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Q(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h="y",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},j=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!e;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),$(f,"step"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},X=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?ae(m)[1]:ae(m)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ae(m)[1]:ae(m)[0]}return e(t).length?"x"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],"autoUpdate")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){Z.call(this)})},G=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},J=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(".mCSB_container"),d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});;
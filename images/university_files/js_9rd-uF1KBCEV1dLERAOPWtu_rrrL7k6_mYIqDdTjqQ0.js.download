(function($,Drupal){Drupal.behaviors.qsGlobalSiteSearchHeader={attach(){const SearchToggle=$("a.top_search_toggle:visible")[0];SearchToggle.addEventListener("click",()=>{const currentSearchQuery=window.location.hash.split("=")[1]?window.location.hash.split("=")[1]:"";const config=drupalSettings.qs_global_site_search;const noResultsDisplay=document.querySelector(".no_results");const resultsDisplay=document.querySelector(".results");const suggestionsDisplay=document.querySelector(".suggestions");const searchClient=algoliasearch(config.app_id,config.api_key);const masterIndex=config.algolia_university_index;let uniOrCollegePath;let uniOrCollegeTitle;if(config.site_arg==="TopMBA.com"){uniOrCollegePath="colleges";uniOrCollegeTitle="Colleges";}else{uniOrCollegePath="universities";uniOrCollegeTitle="Universities";}
const search=instantsearch({indexName:masterIndex,searchClient,routing:{router:instantsearch.routers.history({createURL({location,routeState}){const{origin,pathname}=location;const queryParameters={};if(routeState[masterIndex].query){queryParameters.query=encodeURIComponent(routeState[masterIndex].query);}
if(!queryParameters.query){return `${origin}${pathname}`;}
return `${origin}${pathname}#q=${queryParameters.query}`;},parseURL({qsModule}){const query=`${masterIndex}%5Bquery%5D=`;if(currentSearchQuery){const hash=currentSearchQuery;return qsModule.parse(query+hash);}
return qsModule.parse(query);}})}});search.addWidgets([instantsearch.widgets.searchBox({cssClasses:{input:"form-control ds-input"},showReset:true,showSubmit:false,container:".SearchBox",placeholder:"Search..."})]);function buildLink(item){if(item.parent_node){return `<a class="search_link" href="${
item.parent_node[2]
}">${instantsearch.highlight({attribute:"parent_node.0",hit:item})}</a>`;}
if(item.small_profile_logo){return `<a class="search_link" href="${
item.content_path
}"><img src="${item.small_profile_logo}" alt="${
item.title
} image"> ${instantsearch.highlight({attribute:"title",hit:item})}</a>`;}
return `<a class="search_link" href="${
item.content_path
}">${instantsearch.highlight({attribute:"title",hit:item})}</a>`;}
function createCustomWidget(displayName,ccsSelector,icon,landingPage,noResults){const widget=instantsearch.connectors.connectHits((renderOptions,isFirstRender)=>{if(!isFirstRender){const{hits,results}=renderOptions;const searchQuery=results.query?`#q=${results.query}`:"";const list=document.querySelector(ccsSelector);document.querySelector(".ais-SearchBox-input").addEventListener("keypress",e=>{if(e.key==="Enter"){window.location=`/search/all${searchQuery}`;}});if(hits&&hits.length){document.querySelector(ccsSelector).innerHTML=`<a onClick="window.location.reload();" href="/search/${landingPage}${searchQuery}"><i class="fal ${icon}"></i> ${displayName} <span>${String(results.nbHits).padStart(2,"0")}</span></a>${hits.map(item=>buildLink(item)).join("")} ${
results.nbHits>2?`<a onClick="window.location.reload();" href="/search/${landingPage}${searchQuery}" class="more"> View More <i class="far fa-chevron-right"></i></a>`:""
}`;}else{list.innerHTML=`<div class="lab_for_no"><i class="fal ${icon}"></i> ${displayName} <span>0</span></div><p>No matching results</p><div class="sug_for_no">Didn't find what you were looking for? <br>Go to our <a href="/${noResults}">${displayName} listing</a> to further refine your journey.</div>`;}}});return widget;}
const universityHits=createCustomWidget(uniOrCollegeTitle,"li.universities_search_res","fa-university",uniOrCollegePath,uniOrCollegePath);const articleHits=createCustomWidget("Articles","li.articles_search_res","fa-pencil","articles","student-info");const rankingsHits=createCustomWidget("Rankings","li.rankings_search_res","fa-stars","rankings","university-rankings");const programsHits=createCustomWidget("Programs","li.programs_search_res","fa-graduation-cap","programs","programs");const eventsHits=createCustomWidget("Events","li.events_search_res","fa-users-class","events","events");const videosHits=createCustomWidget("Videos","li.videos_search_res","fa-video","videos","student-info/videos");function implementCustomWidget(customIndexName,hitsName,ccsSelector){return instantsearch.widgets.index({indexName:customIndexName}).addWidgets([hitsName({container:document.querySelector(ccsSelector)}),instantsearch.widgets.configure({hitsPerPage:2})]);}
search.addWidgets([instantsearch.widgets.configure({hitsPerPage:2}),universityHits({container:document.querySelector("li.universities_search_res")}),implementCustomWidget(config.algolia_article_index,articleHits,"li.articles_search_res"),implementCustomWidget(config.algolia_ranking_index,rankingsHits,"li.rankings_search_res"),implementCustomWidget(config.algolia_program_index,programsHits,"li.programs_search_res"),implementCustomWidget(config.algolia_event_index,eventsHits,"li.events_search_res"),implementCustomWidget(config.algolia_video_index,videosHits,"li.videos_search_res")]);search.start();search.on("render",()=>{let resultsFound=false;const list=$("ul.search_region li a.search_link");let countResults=0;list.each((id,elem)=>{if(elem.innerHTML){resultsFound=true;countResults+=1;}});if(search.helper.state.query===""){suggestionsDisplay.innerHTML=`<ul class="search_region"><li><a href="/search/programs"><i class="fal fa-graduation-cap"></i> Programs</a></li><li><a href="/search/${uniOrCollegePath}"><i class="fal fa-university"></i> ${uniOrCollegeTitle}</a></li><li><a href="/search/events"><i class="fal fa-users-class"></i> Events</a></li><li><a href="/search/rankings"><i class="fal fa-trophy"></i> Rankings</a></li><li><a href="/search/articles"><i class="fal fa-pencil"></i> Articles</a></li><li><a href="/search/videos"><i class="fal fa-video"></i> Videos</a></li></ul><h3>Popular Searches</h3><ul class="popular_searches">${config.popular_searches}</ul>`;resultsDisplay.style.display="none";noResultsDisplay.innerHTML="";}else if(resultsFound===false){noResultsDisplay.innerHTML=`<img alt="no results img" class="uni_image" src="/themes/custom/tu_d8/images/no_result_university.jpg"><p class="sry">Sorry, we couldn't find any results for <b>'${search.helper.state.query}'</b>.</p><div class="suggest_for_no"><h3><i class="fad fa-lightbulb-on"></i> Suggestions</h3><ul><li><i class="far fa-scrubber"></i>Try different keywords</li><li><i class="far fa-scrubber"></i>Try more general keywords</li><li><i class="far fa-scrubber"></i>Try popular searches below</li>  </ul></div><div class="popular_for_no"><h3>Popular Searches</h3><ul class="popular_searches">${config.popular_searches}</ul></div>`;resultsDisplay.style.display="none";suggestionsDisplay.innerHTML="";}else{suggestionsDisplay.innerHTML="";noResultsDisplay.innerHTML="";resultsDisplay.style.display="";if(countResults===1){$("ul.search_region").addClass("single_record");}else{$("ul.search_region").removeClass("single_record");}}});});$(".open-search-overlay").on("click keydown",()=>{setTimeout(()=>{const v=$("input:text").val();setTimeout(()=>{$(".ais-SearchBox-form input").val(v);},800);$("a.top_search_toggle:visible")[0].click();},100);setTimeout(()=>{$(".ais-SearchBox-input").focus();},800);});}};})(jQuery,Drupal);;/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed */!function(a){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],a):a(jQuery)}(function(a){function b(a){for(var b,c;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.regional.en=a.extend(!0,{},this.regional[""]),this.regional["en-US"]=a.extend(!0,{},this.regional.en),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.on("mouseout",c,function(){a(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",c,e)}function e(){a.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).addClass("ui-datepicker-next-hover"))}function f(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.12.1"}});var g;return a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.off("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),"focus"!==d&&"both"!==d||b.on("focus",this._showDatepicker),"button"!==d&&"both"!==d||(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.on("click",function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,g){var h,i,j,k,l,m=this._dialogInst;return m||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),a("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},a.data(this._dialogInput[0],"datepicker",m)),f(m.settings,e||{}),c=c&&c.constructor===Date?this._formatDate(m,c):c,this._dialogInput.val(c),this._pos=g?g.length?g:[g.pageX,g.pageY]:null,this._pos||(i=document.documentElement.clientWidth,j=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[i/2-100+k,j/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",m),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==c&&"span"!==c||d.removeClass(this.markerClassName).empty(),g===e&&(g=null))},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,g,h,i,j=this._getInst(b);return 2===arguments.length&&"string"==typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):j?"all"===c?a.extend({},j.settings):this._get(j,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),void(j&&(this._curInst===j&&this._hideDatepicker(),g=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(j,"min"),i=this._getMinMaxDate(j,"max"),f(j.settings,e),null!==h&&void 0!==e.dateFormat&&void 0===e.minDate&&(j.settings.minDate=this._formatDate(j,h)),null!==i&&void 0!==e.dateFormat&&void 0===e.maxDate&&(j.settings.maxDate=this._formatDate(j,i)),"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),j),this._autoSize(j),this._setDate(j,g),this._updateAlternate(j),this._updateDatepicker(j))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);if(a.datepicker._get(e,"constrainInput"))return c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||d<" "||!c||c.indexOf(d)>-1},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(c){if(c=c.target||c,"input"!==c.nodeName.toLowerCase()&&(c=a("input",c.parentNode)[0]),!a.datepicker._isDisabledDatepicker(c)&&a.datepicker._lastInput!==c){var d,e,g,h,i,j,k;d=a.datepicker._getInst(c),a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),e=a.datepicker._get(d,"beforeShow"),g=e?e.apply(c,[c,d]):{},g!==!1&&(f(d.settings,g),d.lastVal=null,a.datepicker._lastInput=c,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(c.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(c),a.datepicker._pos[1]+=c.offsetHeight),h=!1,a(c).parents().each(function(){return h|="fixed"===a(this).css("position"),!h}),i={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),i=a.datepicker._checkOffset(d,i,h),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":h?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),d.inline||(j=a.datepicker._get(d,"showAnim"),k=a.datepicker._get(d,"duration"),d.dpDiv.css("z-index",b(a(c))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[j]?d.dpDiv.show(j,a.datepicker._get(d,"showOptions"),k):d.dpDiv[j||"show"](j?k:null),a.datepicker._shouldFocusInput(d)&&d.input.trigger("focus"),a.datepicker._curInst=d))}},_updateDatepicker:function(b){this.maxRows=4,g=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),f=d[1],h=17,i=b.dpDiv.find("."+this._dayOverClass+" a");i.length>0&&e.apply(i.get(0)),b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&b.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",h*f+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.trigger("focus"),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id===a.datepicker._mainDivId||0!==c.parents("#"+a.datepicker._mainDivId).length||c.hasClass(a.datepicker.markerClassName)||c.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)&&(!c.hasClass(a.datepicker.markerClassName)||a.datepicker._curInst===d)||a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).val(e))},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e="y"===a?d:1,f=new RegExp("^\\d{"+e+","+d+"}"),g=c.substring(i).match(f);if(!g)throw"Missing number at position "+i;return i+=g[0].length,parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];if(c.substr(i,d.length).toLowerCase()===d.toLowerCase())return f=b[0],i+=d.length,!1}),f!==-1)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(p===-1?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=k?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),r<=f)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getFullYear()%100<10?"0":"")+b.getFullYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).on(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(_<0&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&b<Z?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,_<0&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;v<7;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;J<H;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;v<7;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&I<Z||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;k<12;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";o<=p;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.selectedYear+("Y"===c?b:0),e=a.selectedMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).on("mousedown",a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.12.1",a.datepicker});;(function($,Drupal){Drupal.behaviors.qs_user_dashboard={attach:function(context,settings){$("._remove-uploads_js").on("click",function(){$("#edit-cv-path").val("");$("input[name='is_cv_deleted']").val("true");$(".cv-file-link").find(".upload-icon-list-first").find("img").addClass("d-none");$(".cv-file-link").find(".upload-icon-list").find("a").text("");$(this).addClass("d-none");});$("._countrycodepadding").on("click",function(){var codeinputw=$("._countrycodepadding").outerWidth();var mobileinputw=$("#edit-telephone").outerWidth();var finalwidth=codeinputw+mobileinputw;$(this).find(".jcf-select-drop").css("width",finalwidth+"px");$(this).find(".jcf-list-content").css("width",finalwidth+"px");$(this).find(".jcf-scrollable-wrapper").css("width",finalwidth+"px");});if(window.location.pathname=="/user/account-details"&&$("#change-pwd-form").length>0){setTimeout(function(){$("._activeInactivestate").find("a").removeClass("active");$("._qs_accountsetting").addClass("active");$(".account-password-list").find("a").removeClass("active");$(".account-password-list").find("a").attr("href","javascript:void(0);");$(".account-password-list").find("a").removeAttr("data-hash");$(".account-password-list").find("a").removeAttr("data-toggle");$("._gotourlscroll_opt_js").removeClass("active");if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")=="optins"){$("._gotourlscroll_pass_js").removeClass("active");$("._gotourlscroll_opt_js").addClass("active");}
$("._gotourlscroll_pass_js").addClass("_gotourlscroll_pass");$("._gotourlscroll_opt_js").addClass("_gotourlscroll_opt");$("._gotourlscroll_pass").on("click",function(){Drupal.behaviors.tu_d8.gotourldivunivQS("accountSettings");$(".account-password-list").find("a").removeClass("active");$(this).addClass("active");return false;});$("._gotourlscroll_opt").on("click",function(){Drupal.behaviors.tu_d8.gotourldivunivQS("optins-form");$(".account-password-list").find("a").removeClass("active");$(this).addClass("active");return false;});if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")!==null&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")=="password"){$("html, body").animate({scrollTop:$(`body`).offset().top},1000);}else{Drupal.behaviors.tu_d8.gotourldivunivQS("optins-form");}},1000);}else{if(Drupal.behaviors.qs_sso!=undefined){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-gotourl");}}
$("._gotourlscroll_opt_js").on("click",function(){Drupal.behaviors.qs_sso.createCookie("STYXKEY-gotourl","optins");});$("._gotourlscroll_pass_js").on("click",function(){Drupal.behaviors.qs_sso.createCookie("STYXKEY-gotourl","password");});$("#edit-cv-path").on("change",function(){var fileExtension=$(this).val().split('.').pop().toLowerCase();if(fileExtension===undefined||fileExtension==null||fileExtension===""){return false;}
let fi=document.getElementById('edit-cv-path');if(fi.files.length>0){for(let i=0;i<=fi.files.length-1;i++){let fsize=fi.files.item(i).size;let file=Math.round((fsize/1024));if(file>5120){$(".doc_error").remove();$(".cv-path-section.error_after").after(`<small class="text-danger doc_error"><i class="fa fa-exclamation-triangle"></i> Max. File Size allowed is 5MB.</small>`);$("#edit-cv-path").val("");return false;}}}
$(".cv-file-link").find(".upload-icon-list-first").find("img").removeClass("d-none");if(fileExtension=="doc"||fileExtension=="docx"){$(".upload-icon").attr("src","/themes/custom/tu_d8/images/filetypes/doc.png");}else if(fileExtension=="pdf"){$(".upload-icon").attr("src","/themes/custom/tu_d8/images/filetypes/pdf.png");}else{$("#edit-cv-path").val("");$(".doc_error").remove();$(".cv-path-section.error_after").after(`<small class="text-danger doc_error"><i class="fa fa-exclamation-triangle"></i> Allowed file format:"pdf, doc, docx'</small>`);}
$(".cv-profile-url").addClass("pointer-events-none");});$.each($("#quicktabs-aricle_tab").find("li"),(i,dis)=>{$(dis).on("click",(e)=>{const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$(".list-group.ui-tabs-nav.ui-widget-header").find("li").removeClass("active");window.location.hash=targethrefLI;$(dis).addClass("active");$(dis).removeClass("disabled-li");$('html, body').scrollTop(0);return false;});});$.each($("#block-menulinktabs").find("li"),(i,dis)=>{$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#block-menulinktabs").find("li").removeClass("active");$("#block-menulinktabs").find("li").addClass("disabled-li");if(targethrefLI=="#Shortlisted"){tabidvalue="profile=[true]&myshortlist=[true]";window.location.hash="Shortlisted";}else if(targethrefLI=="#Recommended"){tabidvalue="profile=[true]&recommended=[true]";window.location.hash="Recommended";}else if(targethrefLI=="#Contacted"){tabidvalue="profile=[true]&contacted=[true]";window.location.hash="Contacted";}
$(dis).addClass("active");Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue);$(dis).removeClass("disabled-li");});});$.each($("#block-menulinktabs-2").find("li"),(i,dis)=>{$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#block-menulinktabs-2").find("li").removeClass("active");$("#block-menulinktabs-2").find("li").addClass("disabled-li");if(targethrefLI=="#Shortlisted"){tabidvalue="profile=[true]&myshortlist=[true]&pagerlimit=[1]";$("._update_js_prog_HASH").attr("href","/user/dashboard/programs#Shortlisted");window.location.hash="Shortlisted";}else if(targethrefLI=="#Recommended"){tabidvalue="profile=[true]&recommended=[true]&pagerlimit=[1]";$("._update_js_prog_HASH").attr("href","/user/dashboard/programs#Recommended");window.location.hash="Recommended";}else if(targethrefLI=="#Contacted"){tabidvalue="profile=[true]&contacted=[true]&pagerlimit=[1]";$("._update_js_prog_HASH").attr("href","/user/dashboard/programs#Contacted");window.location.hash="Contacted";}
$(dis).addClass("active");Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyprogams");$(dis).removeClass("disabled-li");return false;});});$.each($("#block-menulinktabs-3").find("li"),(i,dis)=>{$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#block-menulinktabs-3").find("li").removeClass("active");$("#block-menulinktabs-3").find("li").addClass("disabled-li");if(targethrefLI=="#Shortlisted"){tabidvalue="profile=[true]&myshortlist=[true]&pagerlimit=[1]";$("._update_js_univ_HASH").attr("href","/user/dashboard/universities#Shortlisted");window.location.hash="Shortlisted";}else if(targethrefLI=="#Recommended"){tabidvalue="profile=[true]&recommended=[true]&pagerlimit=[1]";$("._update_js_univ_HASH").attr("href","/user/dashboard/universities#Recommended");window.location.hash="Recommended";}else if(targethrefLI=="#Contacted"){tabidvalue="profile=[true]&contacted=[true]&pagerlimit=[1]";$("._update_js_univ_HASH").attr("href","/user/dashboard/universities#Contacted");window.location.hash="Contacted";}
$(dis).addClass("active");Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyuniv");$(dis).removeClass("disabled-li");return false;});});$.each($("#block-menulinktabs-4").find("li"),(i,dis)=>{$('#block-views-block-applied-program-block-4').addClass('d-none');$('#progListingCards').removeClass('d-none');$('.no_resultss_js').removeClass('d-none');$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#resultstextpage").addClass("d-none");$("#block-menulinktabs-4").find("li").removeClass("active");if($(dis).find("a").attr("id")!=="Readytoapply-tab"){$("#block-menulinktabs-4").find("li").addClass("disabled-li");}
if(targethrefLI=="#Recommended"||targethrefLI=="#RECOMMENDED"){tabidvalue="application=[recommended]";window.location.hash="Recommended";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue);}else if(targethrefLI=="#Applied"||targethrefLI=="#APPLIED"){tabidvalue="application=[applied]";window.location.hash="Applied";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue);$('#block-views-block-applied-program-block-4').addClass('d-none');}else if(targethrefLI=="#Readytoapply"||targethrefLI=="#Readytoapply"){window.location.hash="Readytoapply";$('#block-views-block-applied-program-block-4').removeClass('d-none');$('#progListingCards').addClass('d-none');$('.no_resultss_js').addClass('d-none');}
$(dis).addClass("active");$(dis).removeClass("disabled-li");return false;});});$(document).ready(function(){$(".no-result-link, .view-saved-article p a").on("click",function(){var reCommendLink=$(this).attr("href");var reCommendLink=reCommendLink.substring(reCommendLink.indexOf("#"));if(window.location.pathname=="/user/dashboard/programs"||window.location.pathname=="/user/dashboard/programs/"||window.location.pathname=="/user/dashboard/universities"||window.location.pathname=="/user/dashboard/universities/"||window.location.pathname=="/user/dashboard/articles/"||window.location.pathname=="/user/dashboard/articles/"){$.each($("#block-quicktabsaricletab, #block-quicktabsuserdashboard, #quicktabs-aricle_tab, .UserDataForms, #block-menulinktabs").find("li").find("a"),(index,value)=>{if(reCommendLink==$(value).attr("href")){$(value).trigger("click",event=>{event.preventDefault();});}});}});var reCommendLink=window.location.href;var reCommendLink=reCommendLink.substring(reCommendLink.indexOf("#"));let tempindex_linkingactive=0;$.each($("#quicktabs-aricle_tab, .UserDataForms, #block-menulinktabs, #quicktabs-applications").find("li").find("a"),(index,value)=>{if(window.location.pathname=="/user/dashboard/programs"||window.location.pathname=="/user/dashboard/programs/"||window.location.pathname=="/user/dashboard/universities"||window.location.pathname=="/user/dashboard/universities/"||window.location.pathname=="/user/dashboard/applicaions/"){if(reCommendLink==$(value).attr("href")){tempindex_linkingactive++;$("#block-menulinktabs").find("li").removeClass("active");$(value).parent().addClass("active");}else{$(value).parent().removeClass("active");if(tempindex_linkingactive===0){$("#block-menulinktabs").find("li").removeClass("active");$("#block-menulinktabs").find("li:first-child").addClass("active");}}}else if(reCommendLink==$(value).attr("href")){$(value).trigger("click",event=>{event.preventDefault();});$("html, body").animate({scrollTop:$(reCommendLink).offset().top-200},"2500");}});$('input[type="file"]#edit-cv-path').change(e=>{const geekss=e.target.files[0].name;$(".cv-profile-url").text(geekss);});function showProfileImg(input){if(input.files&&input.files[0]){const reader=new FileReader();reader.onload=function(e){$(".userPictureWrapper img").attr("src",e.target.result);};reader.readAsDataURL(input.files[0]);}}
$(".userPictureWrapper .userPicture").change(function(){showProfileImg(this);});if(window.location.pathname.indexOf("/user/account-details")!==-1){const hash=Drupal.behaviors.qs_sso.readCookie("STYXKEY-fragment_hash")==null?window.location.hash:Drupal.behaviors.qs_sso.readCookie("STYXKEY-fragment_hash");window.location.hash=hash;$(".UserDataForms .nav").find("li a").each((key,val)=>{if(hash==$(val).data("hash")){Drupal.behaviors.qs_sso.createCookie("STYXKEY-fragment_hash",hash);if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")==null){$(val).click();}
$(".UserDataForms .tab-content .tab-pane").removeClass("active");$(hash).addClass("active");}
$(val).click(function(k,v){const reCommendLink=$(this).data("hash");Drupal.behaviors.qs_sso.createCookie("STYXKEY-fragment_hash",reCommendLink);window.location.hash=reCommendLink;if(!$(this).hasClass("_gotourlscroll_opt")&&!$(this).hasClass("_gotourlscroll_pass")){window.location.reload();}});});if(hash!=null&&$(`${hash}:visible`).length>0&&$(`${hash}:visible`).find("form:visible").length==0){window.location.reload();}}else{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-fragment_hash");}
$(".myAccount .to-account-details").on("click",function(){const frag_hash=$(this).data("hash");if(frag_hash!=""||frag_hash!=null){Drupal.behaviors.qs_sso.createCookie("STYXKEY-fragment_hash",frag_hash);}});if($("#edit-telephone-country-code").length>0){let countrycodedash=$("#edit-telephone-country-code").parent().find(".text").text();if(countrycodedash.split("(")[1]!==undefined){countrycodedash=countrycodedash.split("(")[1];}
if(countrycodedash.split(")")[0]!==undefined){countrycodedash=countrycodedash.split(")")[0];}
let finaltext=`(${countrycodedash})`;$("#edit-telephone-country-code").parent().find(".text").text(finaltext);}
let zeroarticlesdiv=`<div class="no_resultss  row">
                                  <div class="left_img_search_zero"></div>
                                  <h3 class="noresult_head"> No Saved Articles!</h3>
                                  <div class="noresult_con">
                                    <a class="no-result-link onclickshowrecommended" href="/user/dashboard/articles#qt-aricle_tab-ui-tabs2">
                                      Here's a list of our best articles to get you started.
                                    </a>
                                  </div>
                                </div>`;if(window.location.pathname=="/user/dashboard"&&$.trim($("#qt-user_dashboard-ui-tabs1").find("div[role=tabpanel]").text())==""){$("#qt-user_dashboard-ui-tabs1").find("div[role=tabpanel]").append(zeroarticlesdiv);}
if(window.location.pathname=="/user/dashboard/articles"&&$.trim($("#qt-aricle_tab-ui-tabs1").find("div[role=tabpanel]").text())==""){$("#qt-aricle_tab-ui-tabs1").find("div[role=tabpanel]").append(zeroarticlesdiv);$(".onclickshowrecommended").on("click",function(){$("#ui-id-2").trigger("click");return false;});}
let zeroreaadytoapply=`<div class="no_resultss no_resultss_js_prog row">
                                  <div class="left_img_search "></div>
                                  <h3 class="noresult_head"> No Results Found!</h3>
                                  <div class="noresult_con_prog_dash">You have not applied for any Program. Please view our recommendations <a class="no-result-link" href="/user/dashboard/applications#Recommended">here</a></div>
                                </div>`;if(window.location.pathname=="/user/dashboard"&&$.trim($("#qt-applications-ui-tabs1").find("div[role=tabpanel]").text())==""){$("#qt-applications-ui-tabs1").find("div[role=tabpanel]").append(zeroreaadytoapply);}});$.each($("#quicktabs-applications").find("li"),(i,dis)=>{$(dis).on("click",(e)=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#quicktabs-applications").find("li").removeClass("active");if($(dis).attr("aria-labelledby")!=="ui-id-1"||$(dis).find("a").attr("id")!=="ui-id-1"){$("#quicktabs-applications").find("li").addClass("disabled-li");}
if(targethrefLI=="#qt-applications-ui-tabs2"){tabidvalue="application=[recommended]&pagerlimit=[1]";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyappliedprograms");$('#appliedProgramsDashboardDiv').removeClass('d-none');$('._update_js_prog_HASH_dashboard').attr('href','/user/dashboard/applications#Recommended');}else if(targethrefLI=="#qt-applications-ui-tabs3"){tabidvalue="application=[applied]&pagerlimit=[1]";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyappliedprograms");$('#appliedProgramsDashboardDiv').removeClass('d-none');$('._update_js_prog_HASH_dashboard').attr('href','/user/dashboard/applications#Applied');}else if(targethrefLI=="#qt-applications-ui-tabs1"){$('#appliedProgramsDashboardDiv').addClass('d-none');$('._update_js_prog_HASH_dashboard').attr('href','/user/dashboard/applications#Readytoapply');}
$(dis).addClass("active");$(dis).removeClass("disabled-li");return false;});});$("#Readytoapply-tab").on("click",function(){$("#block-menulinktabs-4").find("li").removeClass("disabled-li");});$("#ui-id-1").on("click",function(){$("#quicktabs-applications").find("li").removeClass("disabled-li");});$("#quicktabs-applications").first("li").on("click",function(){$("#quicktabs-applications").find("li").removeClass("disabled-li");});$.each($("._listof_values"),(i,dis)=>{let reprtutationvalue=$(dis).find("._setvalue").data("value");if(reprtutationvalue!==undefined||reprtutationvalue!==""){reprtutationvalue=parseInt(reprtutationvalue);const percentage=reprtutationvalue;let posleft="0%";let textinfo="";if(percentage>=0&&percentage<12.5){posleft="0%";textinfo="Not important";}else if(percentage>=12.5&&percentage<25){posleft="calc(25% - 2px)";textinfo="Slightly important";}else if(percentage>=25&&percentage<37.5){posleft="calc(25% - 2px)";textinfo="Slightly important";}else if(percentage>=37.5&&percentage<50){posleft="calc(50% - 2px)";textinfo="Important";}else if(percentage>=50&&percentage<62.5){posleft="calc(50% - 2px)";textinfo="Important";}else if(percentage>=62.5&&percentage<75){posleft="calc(75% - 2px)";textinfo="Very Important";}else if(percentage>=75&&percentage<87.5){posleft="calc(75% - 2px)";textinfo="Very Important";}else if(percentage>=87.5){posleft="calc(100% - 10px)";textinfo="Extremely Important";}
if(reprtutationvalue>0){$(dis).find("._travelling_ball").css("left",posleft);$(dis).find("._travelling_ball").append(`<span class="opacity-reverse" style="left:${posleft};display: block;
                                                    font-weight: 400;
                                                    position: absolute;
                                                    margin-left: -25px;
                                                    top: 12px;
                                                    opacity: 1;
                                                    width: 100px;
                                                    color: #1D1D1B;
                                                    font-size: 12px;
                                                    letter-spacing: 0;
                                                    line-height: 16px;
                                                    top: 18px;">${textinfo}</span>`);$(dis).find("._travelling_ball_track").css("width",posleft);$(dis).find("._hovertext_slider").addClass("opacityForced");$(dis).find("._hovertext_slider").css("left",posleft);$(dis).find("._notefor_sliderselct_js").css("opacity",0);$(dis).find("._notefor_sliderselct_js").addClass("d-none");}else{$(dis).find("._notefor_sliderselct_js").removeClass("d-none");$(dis).find("._travelling_ball").removeClass("d-none");}
if(isNaN(reprtutationvalue)){$(dis).find("._travelling_ball").addClass("d-none");}}else{$(dis).find("._travelling_ball").addClass("d-none");}});$("._listof_values").on("click",function(e){$(this).find("._notefor_sliderselct_js").addClass("d-none");$(this).find("._travelling_ball").removeClass("d-none");if($(e.target).hasClass("_travelling_ball")&&$(this).find("._setvalue").attr("data-value")==0){$(this).find("._travelling_ball").addClass("d-none");$(this).find("._setvalue").val("");return false;}
const offset=$(this).offset();const fromleft=e.clientX-offset.left;const widhtoftrack=$(this).width();const percentage=(fromleft/widhtoftrack)*100;let posleft="0%";let percentagevalue=0;if(percentage>=0&&percentage<12.5){posleft="0%";textinfo="Not important";percentagevalue=0;}else if(percentage>=12.5&&percentage<25){posleft="calc(25% - 2px)";textinfo="Slightly important";percentagevalue=25;}else if(percentage>=25&&percentage<37.5){posleft="calc(25% - 2px)";textinfo="Slightly important";percentagevalue=25;}else if(percentage>=37.5&&percentage<50){posleft="calc(50% - 2px)";textinfo="Important";percentagevalue=50;}else if(percentage>=50&&percentage<62.5){posleft="calc(50% - 2px)";textinfo="Important";percentagevalue=50;}else if(percentage>=62.5&&percentage<75){posleft="calc(75% - 2px)";textinfo="Very Important";percentagevalue=75;}else if(percentage>=75&&percentage<87.5){posleft="calc(75% - 2px)";textinfo="Very Important";percentagevalue=75;}else if(percentage>=87.5){posleft="calc(100% - 10px)";textinfo="Extremely Important";percentagevalue=100;}
$(this).find("._travelling_ball").css("left",posleft);$(this).find("._travelling_ball_track").css("width",posleft);$(this).find(".opacity-reverse").css("opacity",0);$(this).find(".opacity-reverse").text(textinfo);$(this).find("._hovertext_slider").addClass("opacityForced");$(this).find("._hovertext_slider").css("left",posleft);$(this).find("._setvalue").attr("data-value",percentagevalue);$(this).find("._setvalue").val(percentagevalue/25+1);});$("._listof_values").mouseout(function(e){$(this).find("._hovertext_slider").css("opacity",0);$(this).find("._notefor_sliderselct_js").css("opacity",1);$(this).find(".opacity-reverse").css("opacity",1);}).mouseover(function(e){$(this).find(".opacity-reverse").css("opacity",0);$(this).find("._notefor_sliderselct_js").css("opacity",0);const offset=$(this).offset();const fromleft=e.clientX-offset.left;const widhtoftrack=$(this).width();const percentage=(fromleft/widhtoftrack)*100;let posleft="0%";let importanttext="Not important";if(percentage>=0&&percentage<12.5){posleft="0%";importanttext="Not important";}else if(percentage>=12.5&&percentage<25){posleft="calc(25% - 2px)";importanttext="Slightly important";}else if(percentage>=25&&percentage<37.5){posleft="calc(25% - 2px)";importanttext="Slightly important";}else if(percentage>=37.5&&percentage<50){posleft="calc(50% - 2px)";importanttext="Important";}else if(percentage>=50&&percentage<62.5){posleft="calc(50% - 2px)";importanttext="Important";}else if(percentage>=62.5&&percentage<75){posleft="calc(75% - 2px)";importanttext="Very important";}else if(percentage>=75&&percentage<87.5){posleft="calc(75% - 2px)";importanttext="Very important";}else if(percentage>=87.5){posleft="calc(100% - 76px)";importanttext="Extremely important";}
$(this).find("._hovertext_slider").css("opacity",1);$(this).find("._hovertext_slider").css("left",posleft);$(this).find("._hovertext_slider").text(importanttext);});}};})(jQuery,Drupal);;/*!js-cookie v3.0.0-rc.0 | MIT*/!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var r=e.Cookies,n=e.Cookies=t();n.noConflict=function(){return e.Cookies=r,n}}())}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var t={read:function(e){return e.replace(/%3B/g,";")},write:function(e){return e.replace(/;/g,"%3B")}};return function r(n,i){function o(r,o,u){if("undefined"!=typeof document){"number"==typeof(u=e({},i,u)).expires&&(u.expires=new Date(Date.now()+864e5*u.expires)),u.expires&&(u.expires=u.expires.toUTCString()),r=t.write(r).replace(/=/g,"%3D"),o=n.write(String(o),r);var c="";for(var f in u)u[f]&&(c+="; "+f,!0!==u[f]&&(c+="="+u[f].split(";")[0]));return document.cookie=r+"="+o+c}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],i={},o=0;o<r.length;o++){var u=r[o].split("="),c=u.slice(1).join("="),f=t.read(u[0]).replace(/%3D/g,"=");if(i[f]=n.read(c,f),e===f)break}return e?i[e]:i}},remove:function(t,r){o(t,"",e({},r,{expires:-1}))},withAttributes:function(t){return r(this.converter,e({},this.attributes,t))},withConverter:function(t){return r(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}(t,{path:"/"})});;(function($,Drupal,cookies){var isFunction=function isFunction(obj){return Object.prototype.toString.call(obj)==='[object Function]';};var parseCookieValue=function parseCookieValue(value,parseJson){if(value.indexOf('"')===0){value=value.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}
try{value=decodeURIComponent(value.replace(/\+/g,' '));return parseJson?JSON.parse(value):value;}catch(e){}};var reader=function reader(cookieValue,cookieName,converter,readUnsanitized,parseJson){var value=readUnsanitized?cookieValue:parseCookieValue(cookieValue,parseJson);if(converter!==undefined&&isFunction(converter)){return converter(value,cookieName);}
return value;};$.cookie=function(key){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;key=key&&!$.cookie.raw?encodeURIComponent(key):key;if(value!==undefined&&!isFunction(value)){var attributes=Object.assign({},$.cookie.defaults,options);if(typeof attributes.expires==='string'&&attributes.expires!==''){attributes.expires=new Date(attributes.expires);}
var cookieSetter=cookies.withConverter({write:function write(cookieValue){return encodeURIComponent(cookieValue);}});value=$.cookie.json&&!$.cookie.raw?JSON.stringify(value):String(value);return cookieSetter.set(key,value,attributes);}
var userProvidedConverter=value;var cookiesShim=cookies.withConverter({read:function read(cookieValue,cookieName){return reader(cookieValue,cookieName,userProvidedConverter,$.cookie.raw,$.cookie.json);}});if(key!==undefined){return cookiesShim.get(key);}
var results=cookiesShim.get();Object.keys(results).forEach(function(resultKey){if(results[resultKey]===undefined){delete results[resultKey];}});return results;};$.cookie.defaults=Object.assign({path:''},cookies.defaults);$.cookie.json=false;$.cookie.raw=false;$.removeCookie=function(key,options){cookies.remove(key,Object.assign({},$.cookie.defaults,options));return!cookies.get(key);};})(jQuery,Drupal,window.Cookies);;(function($,Drupal){Drupal.behaviors.qs_china_redirect={attach(context,settings){if(!Drupal.behaviors.tu_d8.readCookie('STYXKEY_first_visit')){$.getJSON('/api/user/geo-code',function(response){switch(response.code){case 'CN':window.location.replace('https://www.qschina.cn');break;}});}
Drupal.behaviors.tu_d8.createCookie("STYXKEY_first_visit",'yes',365);}};})(jQuery,Drupal);;
const tables="";const indicator_tables="";const qs_stars_tables="";const height=jQuery("._semantic_select").height();let bulbforSettingformSubmission="off";let loadmoreBulb=true;let firstselectedvalue="";let selectedfirst=false;let _prevSelectedRegions=[];let _prevSelectedCountry=[];let _prevSelectedCity=[];let _prevSelectedStudyeLevel=[];let _prevSelectedSubjects=[];let _prevSelectedRegions_NoRes=false;let _prevSelectedCountry_NoRes=false;let _prevSelectedCity_NoRes=false;let _prevSelectedStudyeLevel_NoRes=[];let _prevSelectedSubjects_NoRes=false;let urlarrayQSPASS=["","","",""];let urlarrayQSPASS_selected=[false,false,false,false];const count_show=false;(function($,Drupal){Drupal.behaviors.behavior={attach(context,settings){}};$(document).ready(()=>{$("select._semantic_select").each(function(){const _select_id=$(this).attr("id");semantic_select(`#${_select_id}`);jQuery("."+_select_id+"-fakediv").addClass("d-none");jQuery("."+_select_id+"-realdiv").removeClass("d-none");jQuery("."+_select_id+"-fakediv").addClass("hidden");jQuery("."+_select_id+"-realdiv").removeClass("hidden");});$("._semantic_select").on("click",function(e){let clsssfind=$(this).find("select").attr("id");if($(this).hasClass("multiple")){$(this).dropdown("show");}});setTimeout(()=>{bulbforSettingformSubmission="on";},5000);createOptgroup();});})(jQuery,Drupal);let dropdown_count=0;function semantic_select(select){dropdown_count++;const dropdown_counts=dropdown_count;const allow_tab=jQuery(select).data("allowTab");const clearable=jQuery(select).data("clearable");const autocomplete=jQuery(select).data("autocomplete");const show_on_focus=jQuery(select).data("show-on-focus");const max_selections=jQuery(select).data("max-selections");const min_characters=jQuery(select).data("min-charactores");const class_to_differentiate=jQuery(select).attr("id");let sort_select=true;if(jQuery(select).attr("sort")=="false"){sort_select=false;}
if(autocomplete==true){jQuery(select).addClass("search");}
const parent=jQuery(select).parent();jQuery(select).dropdown({allowTab:allow_tab,clearable,maxSelections:max_selections,minCharacters:min_characters,sortSelect:sort_select,showOnFocus:true,fullTextSearch:"exact",match:"text",onShow(){if(autocomplete==true){jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");if(jQuery(parent).find(".counts").length>0){jQuery(parent).find(".clear_all").removeClass("hide-this");}}
float_label_select(select,"float");jQuery(parent).focus();if(select=="#region-select-ind"){_prevSelectedRegions=jQuery("#region-select-ind").val();}
if(select=="#country-select-ind"){_prevSelectedCountry=jQuery("#country-select-ind").val();}
if(select=="#city-select-ind"){_prevSelectedCity=jQuery("#city-select-ind").val();}
if(select=="#study_level"){_prevSelectedStudyeLevel=jQuery("#study_level").val();}
if(select=="#subject_byqs"){_prevSelectedSubjects=jQuery("#subject_byqs").val();}
if(select=="#morefilters_byqs"){jQuery(".morefilters_byqs").find(".menu").css("opacity","0");}
jQuery(select).parent().find(".default.text").addClass("filtered");jQuery(select).parent().find(".menu").animate({scrollTop:0},100);if(select=="#nationality"){jQuery(".nationality").addClass("zindex999");}
if(select=="#address_country"){jQuery(".address_country").addClass("zindex999");}
if(select=="#ethnicity"){jQuery(".ethnicity").addClass("zindex999");}
jQuery(select).parent().addClass("zindex999");if(select=="#edit-telephone-country-code"){const widthinput=jQuery(".form-item-telephone-country-code").outerWidth();const widthnumber=jQuery(".js-form-item-telephone").outerWidth();const finalwidth=widthinput+widthnumber+16;jQuery("#edit-telephone-country-code").parent().find(".menu").css("width",`${finalwidth}px`);}},onHide(value,text,$selectedItem){if(autocomplete==true){setTimeout(function(){var w=0;var a=jQuery(select).parent().find("a.ui.label");var widthmaxcheck=jQuery(select).parent().outerWidth()-120;jQuery.each(a,function(index,labelhtml){w+=jQuery(labelhtml).outerWidth();if(w<widthmaxcheck){jQuery(this).removeClass("counts");jQuery(this).removeClass("hide-this");}else{jQuery(this).addClass("counts hide-this");}
jQuery(this).removeClass("transition visible");});if(jQuery(select).parent().find(".menu .item").length==jQuery(select).parent().find(".ui.label").length){jQuery(select).parent().find("input").trigger("focusin");}
jQuery("select").removeClass("count_show");var len=jQuery(parent).find(".counts").length;jQuery(parent).find(`._plus_more_${dropdown_counts} ._show_more_click`).text(`+${len} More`);if(jQuery(select).height()>height){if(len!=0){jQuery(parent).find(`._plus_more_${dropdown_counts}`).removeClass("hide-this");}else{jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}}else if(len!=0){jQuery(parent).find(`._plus_more_${dropdown_counts}`).removeClass("hide-this");}else{jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}
jQuery(parent).find(".dropdown.icon").next().css("cssText","display: inline-block !important;");jQuery(parent).find(".clear_all").addClass("hide-this");if(autocomplete==true||loadmoreBulb==true){var w=0;var a=jQuery(select).parent().find("a.ui.label");var widthmaxcheck=jQuery(select).parent().outerWidth()-120;jQuery.each(a,function(index,labelhtml){w+=jQuery(labelhtml).outerWidth();if(w<widthmaxcheck){jQuery(this).removeClass("counts");jQuery(this).removeClass("hide-this");}else{jQuery(this).addClass("counts hide-this");}
jQuery(this).removeClass("transition visible");});if(jQuery(select).parent().find(".menu .item").length==jQuery(select).parent().find(".ui.label").length){jQuery(select).parent().find("input").trigger("focusin");}
jQuery("select").removeClass("count_show");var len=jQuery(parent).find(".counts").length;jQuery(parent).find(`._plus_more_${dropdown_counts} ._show_more_click`).text(`+${len} More`);if(jQuery(select).height()>height){if(len!=0){jQuery(parent).find(`._plus_more_${dropdown_counts}`).removeClass("hide-this");}else{jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}}else if(len!=0){jQuery(parent).find(`._plus_more_${dropdown_counts}`).removeClass("hide-this");}else{jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}
jQuery(parent).find(".dropdown.icon").next().css("cssText","display: inline-block !important;");jQuery(parent).find(".clear_all").addClass("hide-this");}
loadmoreBulb=false;if(autocomplete==true){if(!jQuery(select).val().length>0){float_label_select(select,"dont_float");}}else if(jQuery(select).val()==""){float_label_select(select,"dont_float");}
value=jQuery(select).val();onHideDropdown(value,text,$selectedItem,select,this,class_to_differentiate,dropdown_counts,parent,autocomplete);},500);}
if(autocomplete==true){if(!jQuery(this).val().length>0){float_label_select(select,"dont_float");}}else if(jQuery(this).val()==""){float_label_select(select,"dont_float");}
onCloseDropdown(class_to_differentiate);jQuery(select).parent().find(".default.text").removeClass("filtered");if(select=="#nationality"){jQuery(".nationality").removeClass("zindex999");}
if(select=="#address_country"){jQuery(".address_country").removeClass("zindex999");}
if(select=="#ethnicity"){jQuery(".ethnicity").removeClass("zindex999");}
jQuery(select).parent().removeClass("zindex999");},onChange(value,text,$selectedItem){if(autocomplete==true||loadmoreBulb==true){let w=0;const a=jQuery(select).parent().find("a.ui.label");const selectclass=select.replace("#","");const widthmaxcheck=jQuery(select).outerWidth()-120;jQuery.each(a,function(index,labelhtml){w+=jQuery(labelhtml).outerWidth();if(w<widthmaxcheck){jQuery(this).removeClass("counts");jQuery(this).removeClass("hide-this");}else{jQuery(this).addClass("counts hide-this");}
jQuery(this).removeClass("transition visible");});if(jQuery(select).parent().find(".menu .item").length==jQuery(select).parent().find(".ui.label").length){jQuery(select).parent().find("input").trigger("focusin");}
jQuery("select").removeClass("count_show");const len=jQuery(parent).find(".counts").length;jQuery(parent).find(`._plus_more_${dropdown_counts} ._show_more_click`).text(`+${len} More`);if(jQuery(select).height()>height){if(len!=0){jQuery(parent).find(`._plus_more_${dropdown_counts}`).removeClass("hide-this");}else{jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}}else if(len!=0){jQuery(parent).find(`._plus_more_${dropdown_counts}`).removeClass("hide-this");}else{jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}
jQuery(parent).find(".dropdown.icon").next().css("cssText","display: inline-block !important;");jQuery(parent).find(".clear_all").addClass("hide-this");}
loadmoreBulb=false;if(autocomplete==true){if(!jQuery(this).val().length>0){float_label_select(select,"dont_float");}}else if(jQuery(this).val()==""){float_label_select(select,"dont_float");}
setTimeout(()=>{const len=jQuery(select).parent().find(".counts").length;if(len>0){jQuery(parent).find(`._plus_more_${dropdown_counts} ._show_more_click`).text(`+${len} More`).parent().removeClass("hide-this");}},1000);onCloseDropdown(class_to_differentiate);on_change_semantic_ui(value,text,$selectedItem,select,this,class_to_differentiate,dropdown_counts,parent,autocomplete);},onLabelRemove(value,text,$selectedItem){if(autocomplete==true){const check_first=jQuery(this).next();if(!jQuery(this).parent("._semantic_select").hasClass("active")){jQuery(check_first).removeClass("counts");const len=jQuery(parent).find(".counts").length;jQuery(parent).find(`._plus_more_${dropdown_counts} ._show_more_click`).text(`+${len} More`);if(jQuery(parent).height()>height){jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}
if(jQuery(parent).find(".counts").length==0){jQuery(parent).find(".clear_all").addClass("hide-this");}else{jQuery(parent).find(".clear_all").removeClass("hide-this");}
if(len>0){jQuery(parent).find(`._plus_more_${dropdown_counts}`).removeClass("hide-this");}else{jQuery(parent).find(`._plus_more_${dropdown_counts}`).addClass("hide-this");}}
jQuery(parent).find(".clear_all").addClass("hide-this");if(jQuery(select).val().length>0){float_label_select(select,"float");}else{float_label_select(select,"dont_float");}}},onNoResults(){const class_to_differentiate=select.replace("#","");if(class_to_differentiate=="region-select-ind"&&_prevSelectedRegions.toString()!==jQuery("#region-select-ind").val().toString()&&_prevSelectedRegions_NoRes===true&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedRegions.length==0&&jQuery("#region-select-ind").val().length===0){return false;}
Drupal.behaviors.univ_prog_filters.settingFormSubmission("","");jQuery(`.${class_to_differentiate}`).dropdown("hide");_prevSelectedRegions=jQuery("#region-select-ind").val();_prevSelectedRegions_NoRes=false;return false;}
if(class_to_differentiate=="country-select-ind"&&_prevSelectedCountry.toString()!==jQuery("#region-select-ind").val().toString()&&_prevSelectedCountry_NoRes===true&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedCountry.length==0&&jQuery("#region-select-ind").val().length===0){return false;}
jQuery(`.${class_to_differentiate}`).dropdown("hide");Drupal.behaviors.univ_prog_filters.settingFormSubmission("","");_prevSelectedCountry=jQuery("#region-select-ind").val();_prevSelectedCountry_NoRes=false;return false;}
if(class_to_differentiate=="city-select-ind"&&_prevSelectedCity.toString()!==jQuery("#region-select-ind").val().toString()&&_prevSelectedCity_NoRes===true&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedCity.length==0&&jQuery("#region-select-ind").val().length===0){return false;}
jQuery(`.${class_to_differentiate}`).dropdown("hide");Drupal.behaviors.univ_prog_filters.settingFormSubmission("","");_prevSelectedCity=jQuery("#region-select-ind").val();_prevSelectedCity_NoRes=false;return false;}
if(class_to_differentiate=="study_level"&&_prevSelectedStudyeLevel.toString()!==jQuery("#study_level").val().toString()&&_prevSelectedStudyeLevel_NoRes===true&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedStudyeLevel.length==0&&jQuery("#study_level").val().length===0){return false;}
jQuery(`.${class_to_differentiate}`).dropdown("hide");Drupal.behaviors.univ_prog_filters.settingFormSubmission("","");_prevSelectedStudyeLevel=jQuery("#study_level").val();_prevSelectedStudyeLevel_NoRes=false;return false;}
if(class_to_differentiate=="subject_byqs"&&_prevSelectedSubjects.toString()!==jQuery("#subject_byqs").val().toString()&&_prevSelectedSubjects_NoRes===true&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedSubjects.length==0&&jQuery("#subject_byqs").val().length===0){return false;}
jQuery(`.${class_to_differentiate}`).dropdown("hide");Drupal.behaviors.univ_prog_filters.settingFormSubmission("","");_prevSelectedSubjects=jQuery("#subject_byqs").val();_prevSelectedSubjects_NoRes=false;return false;}
return true;},onAdd(addedValue,addedText,$addedChoice){if(autocomplete==true){let temp=jQuery(select).parent().find(`a[data-value='${addedValue}']`).html();temp=temp.substring(0,temp.indexOf("<"));const htmltoadd=`<span class="">${temp}</span>`+
`<i class="delete icon" classname="${select}"  onclick="updateDropdownCallBack(this)"></i>`;jQuery(select).parent().find(`a[data-value='${addedValue}']`).html(htmltoadd);if(jQuery(select).parent().find(`a[data-value='${addedValue}']`).width()>65){jQuery(select).parent().find(`a[data-value='${addedValue}']`).find("span").addClass("_semantic_select_option");}
if(jQuery(select).parent().height()>height){jQuery(select).parent().find(`a[data-value='${addedValue}']`).addClass("counts hide-this");}
if(jQuery(select).parent().hasClass("active")){if(jQuery(parent).find(".counts").length>0){jQuery(parent).find(".clear_all").removeClass("hide-this");}}}
jQuery(select).parent().find("input").trigger("focusin");float_label_select(select,"float");}});let append_html="";if(autocomplete!=true){}else{append_html=`<span class="clear_all hide-this clear_all_'${dropdown_counts}'">
        <a class="_clear_all_click"
            onclick='clear_all_values("${select}", this)' selctorid="${select}">
          Clear All
        </a>
      </span>
      <span class="_plus_more hide-this _plus_more_'${dropdown_counts}'">
        <a class="_show_more_click" onclick=\'show_all_values( "'${select}'", this, "autocomplete" )\'></a>
      </span>`;}
jQuery(select).parent().append(append_html);float_label_select(select,"dont_float");if(autocomplete==true){jQuery(select).parent().addClass("_semantic_autocomplete");}
let clearfilter_=false;jQuery("._clear_all_click").bind("touchstart click",function(){if(!clearfilter_){clearfilter_=true;setTimeout(()=>{clearfilter_=false;},100);let idtoclear=jQuery(this).attr("selctorid");jQuery(idtoclear).parent().dropdown("clear");if(jQuery(idtoclear).length==1){jQuery(idtoclear).removeClass("dropdown_fixed_height");jQuery(this).parent().addClass("hide-this");float_label_select(idtoclear,"dont_float");}
jQuery(idtoclear).val("");if(idtoclear=="#country-select"&&jQuery(idtoclear).attr("page")!==undefined&&jQuery(idtoclear).attr("page")=="ranking-table"){Drupal.behaviors.qs_rankings_datatables.qsRankMasterfilters();}
if(idtoclear=="#city-select"&&jQuery(idtoclear).attr("page")!==undefined&&jQuery(idtoclear).attr("page")=="ranking-table"){jQuery(idtoclear).val("");Drupal.behaviors.qs_rankings_datatables.qsRankMasterfilters();}
return false;}
return false;});}
function on_change_semantic_ui(value,text,$selectedItem,select,dis,class_to_differentiate,dropdown_counts,parent,autocomplete){if(class_to_differentiate=="region-select-ind"||class_to_differentiate=="country-select-ind"||class_to_differentiate=="city-select-ind"||class_to_differentiate=="study_level"||class_to_differentiate=="subject_byqs"){if(selectedfirst==false&&value.length!==0){firstselectedvalue=convertToSlug($selectedItem);jQuery("#firstselectedvalue").val(firstselectedvalue);selectedfirst=true;}}
if(class_to_differentiate=="region-select-ind"||class_to_differentiate=="country-select-ind"||class_to_differentiate=="city-select-ind"){if(urlarrayQSPASS[0]==""&&urlarrayQSPASS_selected[0]===false){const x0=convertToSlug($selectedItem);urlarrayQSPASS[0]=x0;urlarrayQSPASS_selected[0]=true;}}else if(class_to_differentiate=="study_level"){if(urlarrayQSPASS[1]==""&&urlarrayQSPASS_selected[1]===false){const x1=convertToSlug($selectedItem);urlarrayQSPASS[1]=x1;urlarrayQSPASS_selected[1]=true;}
if(urlarrayQSPASS_selected[0]===false){}}else if(class_to_differentiate=="subject_byqs"){if(urlarrayQSPASS[2]==""&&urlarrayQSPASS_selected[2]===false){const x2=convertToSlug($selectedItem);urlarrayQSPASS[2]=x2;urlarrayQSPASS_selected[2]=true;}
if(urlarrayQSPASS_selected[0]===false){}
if(urlarrayQSPASS_selected[1]===false){}}
if(class_to_differentiate=="article-city-select"){Drupal.behaviors.tu_d8_articleRanking.getArticleUniversities(jQuery("#country-code").val(),value);}
if(class_to_differentiate=="region-select-ind"){_prevSelectedRegions_NoRes=true;}
if(class_to_differentiate=="country-select-ind"){_prevSelectedCountry_NoRes=true;}
if(class_to_differentiate=="city-select-ind"){_prevSelectedCity_NoRes=true;}
if(class_to_differentiate=="study_level"){_prevSelectedStudyeLevel_NoRes=true;}
if(class_to_differentiate=="subject_byqs"){_prevSelectedSubjects_NoRes=true;}
if(value.length>0){float_label_select(`.${class_to_differentiate}`,"float");}else{float_label_select(`.${class_to_differentiate}`,"dont_float");}
if(class_to_differentiate=="subject_byqs"){subject_values=value;subject_valuess=subject_values.toString();}
if(class_to_differentiate=="morefilters_byqs"){}
if(value!==undefined&&value!==null&&value!==""&&value.length>1&&jQuery(select).parent().hasClass("active")){jQuery(select).parent().find(".clear_all").removeClass("hide-this");}
if(class_to_differentiate=="edit-telephone-country-code"){if(text!==undefined&&text!==""){text=text.split("(")[1];text=text.split(")")[0];const finaltext=`(${text})`;jQuery("#edit-telephone-country-code").parent().find(".text").text(finaltext);}}
setTimeout(()=>{if(jQuery(select).parent().hasClass("active")){jQuery(select).parent().find("label").addClass("float_label_selectpicker");}
if(jQuery("#edit-telephone-country-code").length>0){let countrycodedash=jQuery("#edit-telephone-country-code").parent().find(".text").text();if(countrycodedash.split("(")[1]!==undefined){countrycodedash=countrycodedash.split("(")[1];}
if(countrycodedash.split(")")[0]!==undefined){countrycodedash=countrycodedash.split(")")[0];}
const finaltext=`(${countrycodedash})`;jQuery("#edit-telephone-country-code").parent().find(".text").text(finaltext);}},100);}
function clear_all_values(select,dis){jQuery(select).parent().dropdown("clear");if(jQuery(select).length==1){jQuery(select).removeClass("dropdown_fixed_height");jQuery(dis).parent().addClass("hide-this");float_label_select(select,"dont_float");}
jQuery(select).val("");if(select=="#country-select"&&jQuery(select).attr("page")!==undefined&&jQuery(select).attr("page")=="ranking-table"){Drupal.behaviors.qs_rankings_datatables.qsRankMasterfilters();}
if(select=="#city-select"&&jQuery(select).attr("page")!==undefined&&jQuery(select).attr("page")=="ranking-table"){jQuery(select).val("");Drupal.behaviors.qs_rankings_datatables.qsRankMasterfilters();}
if(select=="#morefilters_byqs"){Drupal.behaviors.univ_prog_filters.clearAllMorefilters();}}
function show_all_values(select,dis,select_type){if(select_type=="select"){jQuery(select).addClass("scrollable_dropdown_content");jQuery(select).removeClass("dropdown_fixed_height");jQuery(dis).addClass("hide-this");}else{jQuery(select).parent().find("input.search").focus();}}
function clear_this_autosearch(select,dis){const this_value=jQuery(dis).data("value");jQuery(select).dropdown("remove selected",this_value);jQuery(dis).remove();}
function float_label_select(select,float_or_not_float){if(jQuery(select).parent().prev("label").length>0){const sellect1=jQuery(select).parent().prev("label");jQuery(select).parent().prev("label").remove();jQuery(select).parent().prepend(sellect1);}
if(float_or_not_float!="dont_float"){jQuery(select).parent().find("label").addClass("float_label_selectpicker");}else{jQuery(select).parent().find("label").removeClass("float_label_selectpicker");}
let clsassname=select.trim().replace("#","");clsassname=clsassname.trim().replace(".","");const values=jQuery(`#${clsassname}`).val();const selectattr=jQuery(`#${clsassname}`).attr("multiple");if(values!==undefined&&values!==null&&values!==""&&values[0]!==null&&values[0]!==undefined&&values[0]==""){jQuery(select).parent().find("label").removeClass("float_label_selectpicker");}
setTimeout(()=>{if(jQuery("#region-select").val()!==undefined&&jQuery("#region-select").val()!=""){jQuery(".region-select").find("label").addClass("float_label_selectpicker");}else{jQuery(".region-select").find("label").removeClass("float_label_selectpicker");}
if(jQuery("#qs-ranking-year").val()!==undefined&&jQuery("#qs-ranking-year").val()!=""){jQuery(".qs-ranking-year").find("label").addClass("float_label_selectpicker");}else{jQuery(".qs-ranking-year").find("label").removeClass("float_label_selectpicker");}
if(jQuery("#grading_val_n_app_qs").val()!==undefined&&jQuery("#grading_val_n_app_qs").val()!=""){jQuery(".grading_val_n_app_qs").find("label").addClass("float_label_selectpicker");}else{jQuery(".grading_val_n_app_qs").find("label").removeClass("float_label_selectpicker");}
if(jQuery("#grading_val").val()!==undefined&&jQuery("#grading_val").val()!=""){jQuery(".grading_val").find("label").addClass("float_label_selectpicker");}else{jQuery(".grading_val").find("label").removeClass("float_label_selectpicker");}
if(jQuery("#qs-ranking-region2").val()!==undefined&&jQuery("#qs-ranking-region2").val()!=""){jQuery(".qs-ranking-region2").find("label").addClass("float_label_selectpicker");}else{jQuery(".qs-ranking-region2").find("label").removeClass("float_label_selectpicker");}},300);}
function _on_select_ranking_filters(select,values){if(values!=""||values.length>0){const _select_id=jQuery(select).attr("id");if(_select_id=="region-select"||_select_id=="region-select-ind"){values=values.replace("^","");}
if(jQuery(window).width()>991){jQuery("select").addClass("count_show");}
jQuery(select).parent().dropdown("set selected",values);if(_select_id=="region-select"||_select_id=="region-select-ind"){setTimeout(()=>{jQuery(`div[data-value = '${values}' ]`).addClass("active selected");},2000);}
const input=jQuery(select).parent().find("input");input.focus();jQuery(select).parent().dropdown("hide");float_label_select(select,"float");jQuery(".quicktabs-tabs").find(".active").focus();}}
function createOptgroup(){jQuery(".ui.dropdown").has("optgroup").each(function(){let $menu;$menu=jQuery("<div/>").addClass("menu");jQuery(this).find("optgroup").each(function(){$menu.append(`<div class="header">${this.label}</div>`);return jQuery(this).children().each(function(){return $menu.append(`<div class="item" data-value="${this.value}">${this.innerHTML}</div>`);});});return jQuery(this).find(".menu").html($menu.html());});}
function convertToSlug(text){if(text!==""&&text!==undefined&&text!==null){return text.toString().toLowerCase().replace('&amp;','&').replace('/','-').replace(/\s+/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");}}
function onCloseDropdown(class_to_differentiate){let w=0;const temptext="";const selectDropdwon=jQuery(`.${class_to_differentiate}`);jQuery(`.${class_to_differentiate} .ui.label`).removeClass("counts");jQuery(`.${class_to_differentiate} .ui.label`).removeClass("hide-this");jQuery(`.${class_to_differentiate} .ui.label`).each(function(index,labelhtml){let widthmaxcheck=jQuery(`.${class_to_differentiate}`).outerWidth()-120;if(widthmaxcheck<0){widthmaxcheck=120;}
w+=jQuery(labelhtml).outerWidth();if(w<widthmaxcheck){jQuery(this).removeClass("counts");jQuery(this).removeClass("hide-this");}else{jQuery(this).addClass("counts hide-this");}
jQuery(this).removeClass("transition visible");});selectDropdwon.find("._plus_more").text(`+${selectDropdwon.find(".counts").length} More`);setTimeout(()=>{const visiblelabels=jQuery(`.${class_to_differentiate}`).find("a.label:visible").length;let valuelength=0;if(jQuery(`#${class_to_differentiate}`).val()!==undefined&&jQuery(`#${class_to_differentiate}`).val()!==null){valuelength=jQuery(`#${class_to_differentiate}`).val().length;}
if(valuelength==0||visiblelabels==0){jQuery(`.${class_to_differentiate}`).find("label").removeClass("float_label_selectpicker");}
const showmorlength=valuelength-visiblelabels;jQuery(`#${class_to_differentiate}`).parent().find("._plus_more").removeClass("hide-this");if(showmorlength==0||visiblelabels==0){jQuery(`#${class_to_differentiate}`).parent().find("._plus_more").addClass("hide-this");}
selectDropdwon.find("._plus_more").text(`+${showmorlength} More`);},100);jQuery(`.${class_to_differentiate}`).find(".clear_all").addClass("hide-this");setTimeout(()=>{if(jQuery(`#${class_to_differentiate}`).val()!==undefined&&jQuery(`#${class_to_differentiate}`).val()!=""){jQuery(`.${class_to_differentiate}`).find("label").addClass("float_label_selectpicker");}else{jQuery(`.${class_to_differentiate}`).find("label").removeClass("float_label_selectpicker");}},100);}
function onHideDropdown(value,text,$selectedItem,select,dis,class_to_differentiate,dropdown_counts,parent,autocomplete){if(class_to_differentiate=="region-select-ind"||class_to_differentiate=="country-select-ind"||class_to_differentiate=="city-select-ind"||class_to_differentiate=="study_level"||class_to_differentiate=="subject_byqs"){if(selectedfirst==false&&value.length!==0){firstselectedvalue=convertToSlug($selectedItem);jQuery("#firstselectedvalue").val(firstselectedvalue);selectedfirst=true;}}
if(value.length>0){float_label_select(`.${class_to_differentiate}`,"float");}else{float_label_select(`.${class_to_differentiate}`,"dont_float");}
if(class_to_differentiate=="subject_byqs"){subject_values=value;subject_valuess=subject_values.toString();}
if(class_to_differentiate=="region-select-ind"&&_prevSelectedRegions.toString()!==value.toString()&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedRegions.length==0&&value.length===0){return false;}
jQuery("#pagenumberid").val(1);Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");Drupal.behaviors.univ_prog_filters.update_dropdown(class_to_differentiate,value);_prevSelectedRegions=jQuery("#region-select-ind").val();}
if(class_to_differentiate=="country-select-ind"&&_prevSelectedCountry.toString()!==value.toString()&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedCountry.length==0&&value.length===0){return false;}
jQuery("#pagenumberid").val(1);Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");Drupal.behaviors.univ_prog_filters.update_dropdown(class_to_differentiate,value);_prevSelectedCountry=jQuery("#region-select-ind").val();}
if(class_to_differentiate=="city-select-ind"&&_prevSelectedCity.toString()!==value.toString()&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedCity.length==0&&value.length===0){return false;}
jQuery("#pagenumberid").val(1);Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");_prevSelectedCity=jQuery("#city-select-ind").val();}
if(class_to_differentiate=="study_level"&&_prevSelectedStudyeLevel.toString()!==value.toString()&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedStudyeLevel.length==0&&value.length===0){return false;}
jQuery("#pagenumberid").val(1);Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");_prevSelectedStudyeLevel=jQuery("#study_level").val();}
if(class_to_differentiate=="subject_byqs"&&_prevSelectedSubjects.toString()!==value.toString()&&jQuery("#_filtersforListingQS").length>0){if(_prevSelectedSubjects.length==0&&value.length===0){return false;}
jQuery("#pagenumberid").val(1);Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");_prevSelectedSubjects=jQuery("#subject_byqs").val();}
if(class_to_differentiate=="morefilters_byqs"){if(jQuery("._universitymore_js").hasClass("d-none")===false){}}
setTimeout(()=>{if(jQuery("#region-select").val()!==undefined&&jQuery("#region-select").val()!=""){jQuery(".region-select").find("label").addClass("float_label_selectpicker");}else{jQuery(".region-select").find("label").removeClass("float_label_selectpicker");}
if(jQuery("#qs-ranking-year").val()!==undefined&&jQuery("#qs-ranking-year").val()!=""){jQuery(".qs-ranking-year").find("label").addClass("float_label_selectpicker");}else{jQuery(".qs-ranking-year").find("label").removeClass("float_label_selectpicker");}
if(jQuery("#qs-ranking-region2").val()!==undefined&&jQuery("#qs-ranking-region2").val()!=""){jQuery(".qs-ranking-region2").find("label").addClass("float_label_selectpicker");}else{jQuery(".qs-ranking-region2").find("label").removeClass("float_label_selectpicker");}},300);jQuery("._type_searchjs").focus();}
function updateDropdownCallBack(dis){const clsassname=jQuery(dis).attr("classname").trim().replace("#","");const values=jQuery(`#${clsassname}`).val();jQuery(`.${clsassname}`).dropdown("show");}
function filtersOnchange(dis){const values=jQuery(dis).val();const idofelement=jQuery(dis).attr("id");jQuery(".country-select-ind").removeClass("disable-dropdown");jQuery(".region-select-ind").removeClass("disable-dropdown");if(values.length>0&&idofelement=="city-select-ind"){jQuery(".country-select-ind").addClass("disable-dropdown");jQuery(".region-select-ind").addClass("disable-dropdown");}
if(jQuery("#country-select-ind").val().length>0){jQuery(".region-select-ind").addClass("disable-dropdown");}
if(values.length>0&&idofelement=="country-select-ind"){jQuery(".region-select-ind").addClass("disable-dropdown");}};(function($,Drupal){let header_height="";let header_top="";let calculated_top="";const wdth=$(window).width();const wholeDocument=document.documentElement;let isFullScreen=false;let globalCompreUniversities=[];let globalComprePrograms=[];const compareUniversityurl="compare-universities";const compareProgramurl="compare-programs";let comparecookieLimit=4;let _updatedShortlist_js_univ=0;let _updatedShortlist_js_prog=0;let _updatedShortlist_js=0;let _updatedApplyprog_js=0;const cookieDays=30;let pageleft=false;let qslogoreglogin="/themes/custom/tu_d8/images/reg_form/logo.png";let qsintrotexteglogin="";let qsbulletsreglogin="";if($(window).width()<768){comparecookieLimit=3;}
let _applyprogramurlDashboardURL="/apply/program";if(drupalSettings.path.currentLanguage==="cn"){_applyprogramurlDashboardURL="/cn/apply/program";}
let currentRequestGetUniv=null;let currentRequestGetshortlist=null;const fontDatandTitlesuniv={courses:["Total Courses","far fa-graduation-cap"],profile_data_status:["Status","fal fa-building"],research:["Research Output","fal fa-folder-open"],degree_type:["Degree Type","far fa-graduation-cap"],fees:["Fees","fal fa-usd-circle"],learning_type:["Learning Type","fal fa-book"],duration:["Duration","fal fa-clock"],subject:["Subject","fal fa-book-open"],study_level:["Study Level","fal fa-books"]};const fontdatandtitlesuniv_prog={courses:["Total Courses","far fa-graduation-cap"],profile_data_status:["Status","fal fa-building"],research:["Research Output","fal fa-folder-open"],degree_type:["Degree Type","far fa-graduation-cap"],fees:["Fees","fal fa-usd-circle"],learning_type:["Learning Type","fal fa-book"],duration:["Duration","fal fa-clock"],subject:["Subject","fal fa-book-open"],study_level:["Study Level","fal fa-books"]};let allapiDatauniv="";Drupal.behaviors.tu_d8={attach(context){const modalopenedtab=Drupal.behaviors.tu_d8.readCookie("STYXKEY-openContentModals");const modalopenedtabwindow=Drupal.behaviors.tu_d8.readCookie("STYXKEY-openContentModals-window");let modalopeneddis=$(".activeonclick_apply");if(modalopenedtab!==undefined&&modalopenedtab!==null&&modalopenedtab!==""&&modalopenedtabwindow==window.location.href){if(modalopenedtab=="apply"){modalopeneddis=$(".activeonclick_apply");}
if(modalopenedtab=="shortlist"){modalopeneddis=$(".partial_active_js_shortlist");}
if(parseInt($("#programAppliedCountGlobal").val())>0&&modalopenedtab=="apply"){Drupal.behaviors.tu_d8.getCompareContentShowmodal(modalopeneddis,'',modalopenedtab);}
if((parseInt($("#universityShortlistCountGlobal").val())+parseInt($("#programShortlistCountGlobal").val()))>0&&modalopenedtab=="shortlist"){Drupal.behaviors.tu_d8.getCompareContentShowmodal(modalopeneddis,'',modalopenedtab);}}
$("._arrowClick_js").on("click",function(){if($(window).width()<768){var scrollamount=318;}else{var scrollamount=$(this).attr('scrollamount');}
const classname=$(this).attr("slider");const direction=$(this).attr("dir");if(direction=='prev'){$('.'+classname).animate({scrollLeft:'-='+scrollamount},500);}
if(direction=='next'){$('.'+classname).animate({scrollLeft:'+='+scrollamount},500);}});$(".formlogo-step1").on("click",function(){if($(this).attr("formlogo")!="unknown"&&$(this).attr("formlogo")!==""){qslogoreglogin=$(this).attr("formlogo");}
$(".logo-top-pop").find("img").attr("src",qslogoreglogin);});$("._gallerycloseicon").on("click",function(){$("._createHTMLDOM_galleryjs").empty();$(".body_resize_modal").addClass("d-none");$("body").css("overflow","auto");});$("#footer-subscribe-form").submit(e=>{e.preventDefault();Drupal.behaviors.tu_d8.footerSubscriptionForm();});if($("body").hasClass("not-logged-in")){$(".vud-widget.vud-widget-upanddown").find("a").attr("href","javascript:void(0)");}
$(".vud-widget a").on("click",function(e){if($("body").hasClass("not-logged-in")){$("#user_register").trigger("click");if(drupalSettings.qs_global_site_search.site_arg=="TopMBA.com"){Drupal.behaviors.qs_sso.crmsource('TOPMBA-QnA');}else{Drupal.behaviors.qs_sso.crmsource('TOPUNI-QnA');}
e.stoppropagation();}
let upinitialscore=$(this).parent().parent().find(".up-current-score").text();upinitialscore=parseInt(upinitialscore);let downinitialscore=$(this).parent().parent().find(".down-current-score").text();downinitialscore=parseInt(downinitialscore);const resetbtn=$(this).parent().parent().find(".reset");if($(this).hasClass("up")&&$(this).hasClass("active")){setTimeout(()=>{resetbtn.trigger("click");return false;},1000);}
if($(this).hasClass("down")&&$(this).hasClass("active")){setTimeout(()=>{resetbtn.trigger("click");return false;},1000);}
if($(this).hasClass("up")&&$(this).hasClass("inactive")&&$(this).parent().parent().find(".down-score").find("a").hasClass("down")&&$(this).parent().parent().find(".down-score").find("a").hasClass("inactive")){$(this).parent().parent().find(".up-current-score").text(upinitialscore+1);}
if($(this).hasClass("down")&&$(this).hasClass("inactive")&&$(this).parent().parent().find(".up-score").find("a").hasClass("up")&&$(this).parent().parent().find(".up-score").find("a").hasClass("inactive")){$(this).parent().parent().find(".down-current-score").text(downinitialscore+1);}
if($(this).hasClass("up")&&$(this).hasClass("active")&&$(this).parent().parent().find(".down-score").find("a").hasClass("down")&&$(this).parent().parent().find(".down-score").find("a").hasClass("inactive")){$(this).parent().parent().find(".up-current-score").text(upinitialscore-1);}
if($(this).hasClass("down")&&$(this).hasClass("active")&&$(this).parent().parent().find(".up-score").find("a").hasClass("up")&&$(this).parent().parent().find(".up-score").find("a").hasClass("inactive")){$(this).parent().parent().find(".down-current-score").text(downinitialscore-1);}
if($(this).hasClass("down")&&$(this).hasClass("inactive")&&$(this).parent().parent().find(".up-score").find("a").hasClass("up")&&$(this).parent().parent().find(".up-score").find("a").hasClass("active")){$(this).parent().parent().find(".up-current-score").text(upinitialscore-1);$(this).parent().parent().find(".down-current-score").text(downinitialscore+1);}
if($(this).hasClass("up")&&$(this).hasClass("inactive")&&$(this).parent().parent().find(".down-score").find("a").hasClass("down")&&$(this).parent().parent().find(".down-score").find("a").hasClass("active")){$(this).parent().parent().find(".up-current-score").text(upinitialscore+1);$(this).parent().parent().find(".down-current-score").text(downinitialscore-1);}});$("#bottomApplyfooterdiv").parents("#main-wrapper").siblings(".footer.gsack-on").css("margin-bottom","66px");$.each($(".qna-main-question-js"),(index,value)=>{if($(value).find(".hide-after-first").text().trim().toLowerCase()!="(no subject)"){$(value).addClass("question-starts-here");}});$("#bottomApplyfooterdiv").parents("#main-wrapper").siblings(".footer.gsack-on").css("margin-bottom","66px");$("body").mouseenter(()=>{if(pageleft===true&&window.location.pathname!=="/university-finder/student/congratulations"){Drupal.behaviors.tu_d8.footerTrayDisplayConditions("noupdatefooter");}});$("._phonenumbercountrycode").on("click",function(){const codeinputw=$("._phonenumbercountrycode").outerWidth();const mobileinputw=$("#edit-telephone").outerWidth();const finalwidth=codeinputw+mobileinputw;$(this).find(".jcf-select-drop").css("width",`${finalwidth}px`);$(this).find(".jcf-list-content").css("width",`${finalwidth}px`);$(this).find(".jcf-scrollable-wrapper").css("width",`${finalwidth}px`);return false;});$("body").mouseleave(()=>{pageleft=true;});qslogoreglogin=$(".logo-top-pop").find("img").attr("src");qsintrotexteglogin=$(".intro-txt-pop").text();qsbulletsreglogin=$("#multiCollapseExample1").find("ul").html();$(".reg-log-popup").on("click",()=>{$("#compareprogramPopup").modal("hide");Drupal.behaviors.tu_d8._resetfromInmodal();});$(".article_nid_save-non-logged, .shortListornotjs").on("click",function(){const articlenid=$(this).attr("article_nid")||$(this).attr("nid");Drupal.behaviors.tu_d8.createCookie("STYXKEY-save_article_nid",articlenid,1);});$(".click-me").once("tu_d8").click(()=>{$(".view-featured-university").triggerHandler("RefreshView");$(".click-me").remove();});if($(".path-user-login form#user-form").length>0){$('.path-user-login form#user-form input[name="op"] ').prop("disabled",true);$(".path-user-login form#user-form").on("keyup click",()=>{if($(".js-password-confirm-message > span").hasClass("error")){$('.path-user-login form#user-form input[name="op"] ').prop("disabled",true);}else if($(".js-password-confirm-message > span").hasClass("ok")&&$('input[name="pass[pass2]"]').val().length>5){$('.path-user-login form#user-form input[name="op"] ').prop("disabled",false);}else{$('.path-user-login form#user-form input[name="op"] ').prop("disabled",true);}});}
const os=navigator.platform.split(" ");switch(os[0]){default:$(".sumo-sl",context).each(function(index,el){let $sumo=el.name.replace("[]",""),$ss=el.name.replace("[]",""),$elm=$(`#${el.id}`,context),$labl=$(`label[for="${el.id}"]`).text();$sumo=$(this).SumoSelect({search:true,csvDispCount:0,searchText:$labl,floatWidth:150,placeholder:$labl,okCancelInMulti:false,showTitle:false,nativeOnDevice:["IEMobile"]});$elm.on("sumo:closed",el,sumo=>{$elm.parent().closest(".form-type-select").addClass("closed").removeClass("opened");});$elm.on("sumo:opened",el,sumo=>{$elm.siblings(".optWrapper",context).addClass("jcf-scrollable");jcf.destroy(`.sumo_${$ss} .optWrapper`);jcf.replace(`.sumo_${$ss} .optWrapper`);$elm.parent().closest(".form-type-select").addClass("opened").removeClass("closed");$(`.sumo_${$ss} > .optWrapper > .options li.group > label`).show();$(`.sumo_${$ss} .search-txt`,context).once("search-txt").keyup(function(){jcf.destroy(`.sumo_${$ss} .optWrapper`);jcf.replace(`.sumo_${$ss} .optWrapper`);if($(this).val()){$(`.sumo_${$ss} > .optWrapper > .options li.group > label`).hide();}else{$(`.sumo_${$ss} > .optWrapper > .options li.group > label`).show();}}).focusin(()=>{$(`.sumo_${$ss}.open > .search > span`).addClass("invisible");}).focusout(()=>{$(`.sumo_${$ss}.open > .search > span`).removeClass("invisible");}).click(()=>{$(`.sumo_${$ss}.open > .search > span`).removeClass("invisible");$("html").click();});});});}
$(context).find("body").once("tu_d8").each(()=>{if(wdth<1100){$(".info_each_menu").remove();}});const heightHeader=$("header.header").height();$("#main-wrapper",context).css({});jcf.setOptions("Select",{wrapNative:false,wrapNativeOnMobile:false,maxVisibleItems:8,fakeDropInBody:false,useCustomScroll:true});jcf.replaceAll();jcf.destroy(".no-jcf");jcf.destroy(".no-jcf :input");jcf.destroy("form.layout-builder-add-block :input, form.layout-builder-update-block :input");$(".form-item-country-code select",context).change(function(){switch($(this).val()){case "br":$('[name="mobile_number"]').mask("00 00 000 000000000");break;case "cn":$('[name="mobile_number"]').mask("000 0000 0000000000");break;case "mx":$('[name="mobile_number"]').mask("00 0000 000000000");break;case "gr":$('[name="mobile_number"]').mask("0000 00000000000");break;case "ru":$('[name="mobile_number"]').mask("000 000 00 0000000");break;case "fr":$('[name="mobile_number"]').mask("0 00 00 00 000000");break;case "tr":$('[name="mobile_number"]').mask("0000 000 00 00000000");break;case "de":$('[name="mobile_number"]').mask("0000 000000000000");break;case "ng":$('[name="mobile_number"]').mask("0000 000 000000000");break;case "my":$('[name="mobile_number"]').mask("00 000 000000000");break;case "pk":$('[name="mobile_number"]').mask("0000 0000000000");break;default:$('[name="mobile_number"]').mask("000 000 00000000");}
if($(this).val()){Drupal.behaviors.tu_d8.cname_to_ccode($(".form-item-country-code .jcf-select-text > span").text());}}).attr("jcf",'{"wrapNative": false, "fakeDropInBody": false, "wrapNativeOnMobile": false, "maxVisibleItems": 5}').trigger("change");$('input[type="text"], input[type="email"], input[type="password"]',context).each(function(){if($(this).val()){$(this).addClass("y");}else{$(this).removeClass("y");}
$(this).on("blur input keypress",function(){if($(this).val()){$(this).addClass("y");}else{$(this).removeClass("y");}});});$(".ms-tags",context).each((index,el)=>{$("select",el).change(function(){$(".ms-tagsc",el).empty();const v=$(this).val()||[];v.forEach((vl,i)=>{if(i<6){$(".ms-tagsc",el).append(`<div class="s-tag"><span class="cross" data-vl="${vl}"></span> ${vl}</div>`);}});$(".ms-tagsc .cross",el).click(function(){$("select",el).find(`option[value="${$(this).attr("data-vl")}"]`).prop("selected",false);$(this).parent(".s-tag").remove();$("select",el).trigger("change");});});});$("select",context).each(function(index,el){if(el.multiple){if($(this).val().length>0){$(this).parent().closest(".form-type-select").addClass("selected");}}else if($(this).val()){$(this).parent().closest(".form-type-select").addClass("selected");}
let last=[];$(this).change(function(){if(el.multiple){if($(this).val().length>0){$(this).parent().closest(".form-type-select").addClass("selected");if($(this).data("max")){let mxs=$(this).data("max");let mt=0;if($("body").is(".page-university-finder-student-congratulations")){mxs=9;mt=1;}
if($(this).val().length>mxs){$(this).val(last).trigger("change").parent().closest(".form-type-select").find(".description").text("You can select up to 6 options").addClass("text-danger").removeClass("text-muted");if($(this).hasClass("sumo-sl")){alert("You can select upto 6 options");$(this)[0].sumo.reload();}else{$("body > .jcf-select-drop").remove();jcf.refresh($(this));}}else{last=$(this).val();if(mt==1&&$(this).val().length>6){$(this).parent().closest(".form-type-select").find(".description").text("Please select up to 6 options").addClass("text-danger").removeClass("text-muted");}else{$(this).parent().closest(".form-type-select").find(".description").text("Please select up to 6 options").addClass("text-muted").removeClass("text-danger");}}}}else{$(this).parent().closest(".form-type-select").removeClass("selected");}}else if($(this).val()){$(this).parent().closest(".form-type-select").addClass("selected");}else{$(this).parent().closest(".form-type-select").removeClass("selected");}});});$(".form-item-cor select").change(function(){$(`.form-item-country-code select option:contains(${$(this).val()})`).prop("selected","selected");$(".form-item-country-code select").trigger("change");});$(document).ready(()=>{var lazyloadImages=document.querySelectorAll("img.lazy-image");var lazyloadThrottleTimeout;function lazyload(){if(lazyloadThrottleTimeout){clearTimeout(lazyloadThrottleTimeout);}
lazyloadThrottleTimeout=setTimeout(function(){var scrollTop=window.pageYOffset;lazyloadImages.forEach(function(img){if(img.offsetTop<(window.innerHeight+scrollTop)){img.src=img.dataset.src;img.classList.remove('lazy-image');}});if(lazyloadImages.length==0){document.removeEventListener("scroll",lazyload);window.removeEventListener("resize",lazyload);window.removeEventListener("orientationChange",lazyload);}},20);}
lazyload();$("a").on("click",function(){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-openContentModals");});$(document).ajaxComplete((event,xhr,settings)=>{setTimeout(function(){$("a").on("click",function(){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-openContentModals");});},1000);});const nidbeforelogin=Drupal.behaviors.tu_d8.readCookie("STYXKEY-save_article_nid");if(nidbeforelogin!==undefined&&nidbeforelogin!==null&&nidbeforelogin!==""){Drupal.behaviors.tu_d8.shortlistunshortlistcontent(nidbeforelogin);}
if(window.location.href.indexOf("user-score")>-1){$(this).scrollTop(0);}
$(".personal_information ._semantic_select").find(".dropdown").removeClass("clear");$(".preloader").remove();$(".related-contents-categories .owl-carousel",context).each(function(){function changeslider(event){return true;const direction=event.relatedTarget._drag.direction;if(direction!==undefined&&direction!==null&&direction=="left"){}else if(direction!==undefined&&direction!==null&&direction=="right"){{}}}
$(this).owlCarousel({loop:true,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],onDragged:changeslider,responsive:{0:{margin:16,items:1,nav:false,autoWidth:true},480:{margin:16,items:1,nav:false,autoWidth:true},768:{margin:20,loop:false,items:2,autoWidth:true},992:{margin:30,loop:false,items:3}}});});$(".related-contents.article-view-carousel .owl-carousel",context).each(function(){$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:15,items:1,autoWidth:true,nav:false},768:{margin:20,loop:false,items:2},992:{loop:false,items:3}}});});$(".node--type-study-in .owl-carousel",context).each(function(){$(this).owlCarousel({loop:true,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{items:1},600:{margin:20,items:2},1000:{items:3}}});});$(".pgm_similar .similar-programs").addClass("owl-carousel");$(".pgm_similar .similar-programs.owl-carousel",context).each(function(){$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:15,items:2,autoWidth:true,nav:false},768:{margin:32,loop:false,items:3}}});});$(".related-contents .owl-carousel",context).each(function(){$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:15,items:1,autoWidth:true,nav:false},768:{margin:20,loop:false,items:2},992:{margin:30,loop:false,items:3}}});});$(".qs-article-gudie-js .owl-carousel",context).each(function(){function counter(event){var element=event.target;var items=event.item.count;var item=event.item.index+1;if(item>items){item=item-items}
setTimeout(function(){if(items===1&&$(window).width()<768){$(".related_blog_item").css('width',"calc(100% - 15px)");$(".related_blog_item").parent().parent().css('width',"calc(100%)");$(".related_blog_item").parent().css('width',"calc(100%)");}},1000);}
$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,onInitialized:counter,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:16,items:1,nav:false,autoWidth:true},480:{margin:16,items:1,nav:false,autoWidth:true},768:{margin:20,loop:false,items:2},992:{margin:30,loop:false,items:3}}});});$(".node--type-article .owl-carousel",context).each(function(){$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:15,center:true,stagePadding:50,items:1,autoWidth:true,nav:false},768:{loop:false,items:3}}});});$(".similar_universities .owl-carousel",context).each(function(){const owl=$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:15,center:true,items:1,stagePadding:50,autoWidth:true,nav:false},768:{loop:false,items:3}}});$(".similar_universities .owl-carousel .owl-stage-outer").addClass("first");owl.on("changed.owl.carousel",e=>{const $ind=e.item.index;if($ind===0){$(".similar_universities .owl-carousel .owl-stage-outer").addClass("first");}else{$(".similar_universities .owl-carousel .owl-stage-outer").removeClass("first");}});});$(".block-related-guide .content .owl-carousel",context).each(function(){$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:15,items:1,nav:false,autoWidth:true},480:{margin:15,items:1,nav:false,autoWidth:true},768:{margin:20,loop:false,items:2},992:{margin:30,loop:false,items:3}}});});$(".blog_section .pgm_similar .similar_container").addClass("owl-carousel");$(".blog_section .pgm_similar .similar_container.owl-carousel",context).each(function(){const owl=$(this).owlCarousel({loop:false,margin:30,dots:false,nav:true,navText:['<i class="far fa-chevron-left"></i>','<i class="far fa-chevron-right"></i>'],responsive:{0:{margin:16,center:true,items:1,stagePadding:50,autoWidth:true,nav:false},768:{loop:false,items:3}}});$(".blog_section .pgm_similar .similar_container.owl-carousel .owl-stage-outer").addClass("first");owl.on("changed.owl.carousel",e=>{const $ind=e.item.index;if($ind===0){$(".blog_section .pgm_similar .similar_container.owl-carousel .owl-stage-outer").addClass("first");}else{$(".blog_section .pgm_similar .similar_container.owl-carousel .owl-stage-outer").removeClass("first");}});});});$(window).on("load",e=>{$(".preloader").remove();header_height=$(".header").height();header_top=$(".header").position().top;calculated_top=header_height+header_top;const avprg=window.location.href;if(avprg.indexOf("#profile-avail-program")!=-1){e.preventDefault();$(".profile_program a").trigger("click");}
if($("body").is(".node--type-panopoly-page")){if($(".block-field-blocknodepanopoly-pagebody .field--name-body > p").text().length>0){$(".block-field-blocknodepanopoly-pagebody .ckeditor-accordion-container .styled dt:first").removeClass("active");$(".block-field-blocknodepanopoly-pagebody .ckeditor-accordion-container .styled dd:first").removeClass("active").css({display:"none"});}}});const elems=$(".layout--threecol-section .layout__region .featured-university .card .card-body, .block-similar-universities .similar_universities .card .card-body");let max_height=0;elems.each((idx,elem)=>{max_height=Math.max(max_height,$(elem).height());});elems.height(max_height);if($(".view-featured-university")[0]){$(".click-me").trigger("click");}
const avprg=window.location.href;if(avprg.indexOf("#profile-avail-program")!==-1){$(".profile_program a").trigger("click");setTimeout(()=>{$("html, body").animate({scrollTop:$("#profile-avail-program").offset().top-calculated_top},600);});}
const locSize=$(".campus-locations-wrap .mobile-view").length;let limit=3;$(`.campus-locations-wrap .mobile-view:lt(${limit})`).show();$(".campus-locations-wrap .show-more-loc").click(function(){limit=locSize;$(`.campus-locations-wrap .mobile-view:lt(${limit})`).show();$(this).hide();});if($(".article_node_template>.qs-layout--twocol-section--25-75 .col-lg-8 > .carousel-data").length>1){$(".article_node_template>.qs-layout--twocol-section--25-75 .col-lg-8 > .carousel-data").wrapAll('<div class="article_top_lead_carousel"></div>');}
$(".article_top_lead_carousel,.article_lead_carousel").slick({slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:2000,dots:true,infinite:false,fade:true,cssEase:"linear"});if(wdth<767&&$("body").is(".path-frontpage")){$(".view-articles .view-content.owl-carousel").owlCarousel({loop:false,margin:9,dots:false,nav:true,autoWidth:true,responsive:{0:{margin:15,items:1,autoWidth:true,nav:false},768:{loop:false,items:2},992:{loop:false,items:3}}});}
$(document).ready(()=>{function isScrolledIntoView(elem){const docViewTop=$(window).scrollTop();const docViewBottom=docViewTop+$(window).height();const elemTop=$(elem).offset().top;const elemBottom=elemTop+$(elem).height();return elemBottom<=docViewBottom&&elemTop>=docViewTop;}
$(window,"body").scroll(()=>{let topcss=$(".header").offset().top;topcss+=60;if($(".check_when_hidden_js").length>0&&!isScrolledIntoView(".check_when_hidden_js")&&$(".number_uni_pgmHTML_js").html()!==""){$("._fixwhenscroll_js").removeClass("d-none");$("._fixwhenscroll_js").css("top",`${topcss}px`);}else{$("._fixwhenscroll_js").addClass("d-none");}
const scroll=$(window).scrollTop();if(scroll>=300){$("body.section-search").addClass("f_search");}else{$("body.section-search").removeClass("f_search");}
if($(window).scrollTop()>300){$(".back_top").find(".arrow-to-top-wrap").removeClass("d-none");}else{$(".back_top").find(".arrow-to-top-wrap").addClass("d-none");}});$(".arrow-to-top-wrap span").hide();$("body").scroll(()=>{$(".back_top .arrow-to-top-wrap span").hide();if($("body").scrollTop()>100){}else{$(".back_top").find(".arrow-to-top-wrap").addClass("d-none");}});$(".arrow-to-top-wrap span").click(()=>{$("body,html").animate({scrollTop:0},800);return false;});});$(()=>{$(".node--type-article .readl").click(()=>{$(".node--type-article #readmore").removeClass("show");$("body,html").animate({scrollTop:0},800);return false;});});$(window).off("scroll touchstart").on("scroll touchstart",function(){const y=$(this).scrollTop();if(wdth<1100){if(y>150){if(!$("body").hasClass("f-nav")){$("body").addClass("f-nav");}}else{$("body").removeClass("f-nav");}}});if(typeof Drupal.lazy!=="undefined"){$('a[data-toggle="tab"]',context).on("shown.bs.tab",()=>{Drupal.lazy.revalidate();});}
const scrol_width=$("body").prop("clientWidth");$("#user-global-reg").on("show.bs.modal",function(event){const button=$(event.relatedTarget);const recipient=button.data("stab");const modal=$(this);modal.find(`[href="${recipient}"]`).tab("show");if($("form#qs-site-step-two-form").length>0){const def_cor=$("#qs-site-step-two-form .def-cor").text();$(".qs-site-step-two-form .CaptionCont.SelectBox.search > span").html(`${def_cor} <small>(change if incorrect)</small>`);}
const page_url=`${window.location.pathname}${window.location.search}`;$("#qs-site-step-two-form").attr("action",page_url);let step2nid=Drupal.behaviors.tu_d8.readCookie("STYXKEY-step2nid");let step2universityorprogram=Drupal.behaviors.tu_d8.readCookie("STYXKEY-step2universityorprogram");if(step2nid!==undefined&&step2nid!==null&&step2nid!==""&&step2universityorprogram!==undefined&&step2universityorprogram!==null&&step2universityorprogram!==""){Drupal.behaviors.tu_d8._g8formpreprocess(step2universityorprogram,step2nid);}
if($("body").hasClass("topmba")){$("#user-global-reg .form-item-what-study-level.vl-MBA").trigger("click");$("#user-global-reg .js-form-item.js-form-type-radio.radio.js-form-item-what-study-level.vl-MBA").addClass("jcf-label-active");$("#user-global-reg .js-form-item.js-form-type-radio.radio.js-form-item-what-study-level").find(".jcf-radio").removeClass("jcf-unchecked").addClass("jcf-checked");}}).on("shown.bs.modal",()=>{const sd=$("body").prop("clientWidth")-scrol_width;$("header.header").css("padding-right",`${sd}px`);$("#edit-field-first-name-0-value").trigger("focus");let nid=Drupal.behaviors.tu_d8.readCookie('STYXKEY-valuenidnew');$('#user_registers_nid').val(nid);if($("body").is(".not-logged-in")){Drupal.behaviors.tu_d8.createCookie("STYXKEY-formtrigger","Top-Nav",1,"/");}
setTimeout(function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs_next")=='shortlistClicked_attemptJoinUs_success'){dataLayer.push({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_JoinUs_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortClickJoin_nextG8",'shortClickJoin_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign_next")=='shortlistClicked_attemptSignIn_success'){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_attemptSign_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortClickSign_nextG8",'shortClickSign_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_next")=='knowmoreAttempt_attemptSign_next'){dataLayer.push({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmoreAttempt_attemptSign_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowmoreAttempt_attemptSign_nextG8",'knowmoreAttempt_attemptSign_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next")=='knowmorAttempt_joinUs_next'){dataLayer.push({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmorAttempt_joinUs_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowmorAttempt_joinUs_next_G8",'knowmorAttempt_joinUs_next_G8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next")=='getInTouchAttempt_attemptSignIn_next'){dataLayer.push({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_attemptSign_nextG8",'getInTouchAttempt_attemptSign_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next")=='getInTouchAttempt_joinUs_next'){dataLayer.push({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_joinUs_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_joinUs_next_G8",'getInTouchAttempt_joinUs_next_G8',1);}},3000);}).on("hidden.bs.modal",()=>{Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-atsPopF1");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-save_article_nid");Drupal.behaviors.tu_d8.eraseAllCookiesDatalayer();$("header.header").css("padding-right","");if($("body").is(".user-logged-in")){Drupal.behaviors.tu_d8.createCookie("STYXKEY-user-global-reg-shown",1);Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-show-step2");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-user-global-reg");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-step2nid");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-step2universityorprogram");}
Drupal.behaviors.qs_sso.attach();$(".modal-backdrop").remove();});if(Drupal.behaviors.tu_d8.readCookie("d8logout")===null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-user-global-reg-shown")===null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-user-global-reg")!==null&&!$("body").is(".page-university-finder-student-congratulations")&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-valuekey")!="apply"&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-popup_to_show")===null&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-applynowAttempt_joinUs")!="applynowAttempt_joinUs"&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-applynowAttempt_attemptSignIn")!="applynowAttempt_attemptSignIn"&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-applyBtnClicked")!="applyLater"){$("#user-global-reg").modal("show");}
$(".comingsoon-alert .close").click(()=>{Drupal.behaviors.tu_d8.createCookie("STYXKEY_comingsoon",1,1);$(".block-qscomingsoon").remove();});$("#rt_vid").on("shown.bs.modal",event=>{const targ=$(event.relatedTarget);const vid=targ.data("vid");$("div#rt_vid").attr("data-src",vid);setTimeout(()=>{Drupal.behaviors.tu_d8._youku_players(vid);},1);});$(".rm-rl-wp",context).each(function(){const elm=$(this);elm.find("a.rm",context).click(function(){elm.find(".rm-rl-bd").removeClass("rm-rl-h");$(this).addClass("d-none");elm.find("a.rl").removeClass("d-none");return false;});elm.find("a.rl",context).click(function(){elm.find(".rm-rl-bd").addClass("rm-rl-h");$(this).addClass("d-none");elm.find("a.rm").removeClass("d-none");return false;});});$("#qs-site-step-two-form").on("keyup click change",()=>{let std_lvl,spezs,subjs,dests,cof_res,ccode,pnum;std_lvl=$('input[name="what_study_level"]:checked').length!==0?$('input[name="what_study_level"]:checked').val():0;subjs=$('.qs-site-step-two-form select[name="what_subjects_interest[]"]').val()!==null?$('.qs-site-step-two-form select[name="what_subjects_interest[]"]').val().length:0;spezs=$('.qs-site-step-two-form select[name="specialization"]').val()!==null?$('.qs-site-step-two-form select[name="specialization"]').val().length:0;dests=$('.qs-site-step-two-form select[name="where_study_reg[]"] ').val()!==null?$('.qs-site-step-two-form select[name="where_study_reg[]"] ').val().length:0;cof_res=$('.qs-site-step-two-form input[name="cor"]').val();ccode=$('.qs-site-step-two-form select[name="country_code"]').val();pnum=$('.qs-site-step-two-form input[name="mobile_number"]').val();if(std_lvl=="MBA"){if(std_lvl!==0&&spezs!==0&&subjs<7&&dests!==0&&dests<7&&cof_res!==""&&ccode!==""&&pnum!==""){$(".qs-site-step-two-form .form-submit").removeClass("disabled").prop("disabled",false);}else{$(".qs-site-step-two-form .form-submit").addClass("disabled").prop("disabled",true);}
$(".form-item-what-subjects-interest + .ms-tagsc .s-tag .cross").each(function(){$(this).trigger("click");});}else if(std_lvl!==0&&subjs!==0&&subjs<7&&dests!==0&&dests<7&&cof_res!==""&&ccode!==""&&pnum!==""){$(".qs-site-step-two-form .form-submit").removeClass("disabled").prop("disabled",false);}else{$(".qs-site-step-two-form .form-submit").addClass("disabled").prop("disabled",true);}});$(document).on("click",e=>{if($(e.target).closest(".compareuniversityid_pos").length===0&&$(e.target).closest(".compareprogramsid_pos").length===0){$(".common_display_js._universitybtn").addClass("d-none");$(".common_display_js._programbtn").addClass("d-none");}});$("#update-profile-image-form, #user-register-form, #qs-site-step-two-form, #user-details-apply-form, #personal-information-form, #academic-background-form, #work-experience-form, #study-preferences-form, #college-preferences-form, #change-pwd-form, #optins-form, #close-account-form").on("submit",()=>{Drupal.behaviors.tu_d8.showloaderfullscreen(10000);});$("#user-login-form").on("submit",()=>{Drupal.behaviors.tu_d8.showloaderfullscreen(3000);});},eraseAllCookiesDatalayer(){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-Datalayerpath_shortlist");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-Datalayerpath_apply");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-Datalayerpath_apply_form");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_attemptSign_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_JoinUs_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortClickSign_nextG8");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortClickJoin_nextG8");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-g8complete_shortlist");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applynowAttempt");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowMoreAttempt");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmoreAttempt_attemptSign_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmorAttempt_joinUs_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmorAttempt_joinUs_next_G8");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmoreAttempt_attemptSign_nextG8");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-KnowmoreDirectLoggedin");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_joinUs_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_joinUs_next_G8");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_attemptSign_nextG8");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchDirectLoggedin");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistDirect");},menutoggle(dis){$(window).scrollTop(0);$(dis).toggleClass("swith_icon");if($(dis).hasClass("swith_icon")){$("header").addClass("active");}else{$("header").removeClass("active");}
if($(dis).hasClass("swith_icon")){$("#top_menu").show();}else{$("#top_menu").hide();}},menutogglelilist(dis){$(".mobile-menu-js").find(".content").hide();$(".mobile-menu-js").find(".header").removeClass("active");if($(dis).hasClass("active")){$(dis).find(".content").hide();$(dis).find(".header").removeClass("active");$(dis).removeClass("active");}else{$(dis).addClass("active");$(dis).find(".content").show();$(dis).find(".header").addClass("active");}},_setApplyCookie(dis,nid){Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuenid",nid);Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuekey",'apply');Drupal.behaviors.tu_d8._g8formpreprocess('program',nid);},showloaderfullscreen(time){$("body").append(`<div class="qs-loader-reg">
                            <div class="loaderforuniv"></div>
                        </div>`);setTimeout(()=>{},time);},createCookie(name,value,days){let expires="";if(days){const date=new Date();date.setTime(date.getTime()+days*24*60*60*1000);expires=`; expires=${date.toGMTString()}`;}
document.cookie=`${name}=${value}${expires}; path=/`;},readCookie(name){const nameEQ=`${name}=`;const ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;},eraseCookie(name){Drupal.behaviors.tu_d8.createCookie(name,"",-1);},showtab(name){$(`[href="${name}"]`).tab("show");},cname_to_ccode(cname){const c=cname.match(/\((.*?)\)/);setTimeout(()=>{$(".form-item-country-code .jcf-select-text > span").text(c[0]);},1);},_g8FormValueSet(dis,nid,datapass){let allapiData_new="";allapiData_new=datapass;Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuenid",allapiData_new.data[0].nid);Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuenidnew",allapiData_new.data[0].nid);Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuekey",allapiData_new.data[0].subscription_btn_type);Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuestudy",allapiData_new.data[0].study_destination);Drupal.behaviors.qs_sso.createCookie("STYXKEY-studylevelApply",allapiData_new.data[0].apply_study_level);if(allapiData_new.data[0].apply_study_level){$(".intended_study_level_app_qs").dropdown("clear");$(".intended_study_level_app_qs").dropdown("set selected",allapiData_new.data[0].apply_study_level);$("input[value='"+allapiData_new.data[0].apply_study_level+"']").trigger("click");}
if(allapiData_new.data[0].study_destination){$(".intended_region_app_qs").dropdown("clear");$(".intended_region_app_qs").dropdown("set selected",allapiData_new.data[0].study_destination);setTimeout(function(){if($("#intended_region_app_qs").length>0){const tempvalue=$("#intended_region_app_qs").attr("valueof").split(",");const classname=$("#intended_region_app_qs").attr("id");$(`.${classname}`).dropdown("clear");$(`.${classname}`).dropdown("set selected",tempvalue);setTimeout(()=>{const visiblelabels=$(`.${classname}`).find("a.label:visible").length;const valuelength=$("#intended_region_app_qs").val().length;const showmorlength=valuelength-visiblelabels;if(showmorlength==0){$("#intended_region_app_qs").parent().find("._plus_more").addClass("hide-this");}},100);}},300);}
if($(dis).parent().hasClass("apply")){Drupal.behaviors.qs_user_profile._fillProgInfo();}
$(".qs-site-step-two-form").find("#qs_currentpath").val(`${location.pathname}${location.search}`);$("#user_registers_nid").val(allapiData_new.data[0].nid);$("#user_registers_key").val(allapiData_new.data[0].subscription_btn_type);if(allapiData_new.data[0].logo!==null&&allapiData_new.data[0].logo!==undefined){$(".logo-top-pop").find("img").attr("src",allapiData_new.data[0].logo);}else{$(".logo-top-pop").find("img").attr("src",qslogoreglogin);}
$("#multiCollapseExample1").find("ul").empty();if(allapiData_new.data[0].popup_contents.bullets!==null&&allapiData_new.data[0].popup_contents.bullets!==undefined&&Object.keys(allapiData_new.data[0].popup_contents.bullets).length>0){$("#multiCollapseExample1").removeClass("d-none");$.each(allapiData_new.data[0].popup_contents.bullets,(index,value)=>{$("#multiCollapseExample1").find("ul").append(`<li>${value}</li>`);});}else{$("#multiCollapseExample1").removeClass("d-none");$("#multiCollapseExample1").find("ul").empty();$("#multiCollapseExample1").find("ul").append(qsbulletsreglogin);}
if(allapiData_new.data[0].popup_contents.user_popup_heading!==null&&allapiData_new.data[0].popup_contents.user_popup_heading!==undefined&&Object.keys(allapiData_new.data[0].popup_contents.user_popup_heading).length>0){$(".intro-txt-pop").text(allapiData_new.data[0].popup_contents.user_popup_heading);}else{$(".intro-txt-pop").text(qsintrotexteglogin);}
let existingstudydest=$("#edit-where-study-reg").attr("valueof")||"";if(existingstudydest!==undefined&&existingstudydest!==''){existingstudydest=existingstudydest.split(',');}else{existingstudydest=[];}
let study_dest=Drupal.behaviors.tu_d8.readCookie("STYXKEY-valuestudy")||allapiData_new.data[0].study_destination;if(study_dest=="United States"){study_dest="USA";}
if(existingstudydest.length<6&&existingstudydest.indexOf(study_dest)===-1){existingstudydest.push(study_dest);}else{setTimeout(function(){$("#edit-where-study-reg--description").removeClass("text-muted");$("#edit-where-study-reg--description").addClass("text-danger");},500);}
$("#edit-where-study-reg").val("");$("#edit-where-study-reg").trigger("change");if(existingstudydest&&existingstudydest.length>0){$("#edit-where-study-reg").val(existingstudydest);$("#edit-where-study-reg").trigger("change");$(".intended_region_app_qs").dropdown("clear");$(".intended_region_app_qs").dropdown("set selected",existingstudydest);setTimeout(function(){if($("#intended_region_app_qs").length>0){const tempvalue=$("#intended_region_app_qs").attr("valueof").split(",");const classname=$("#intended_region_app_qs").attr("id");$(`.${classname}`).dropdown("clear");$(`.${classname}`).dropdown("set selected",tempvalue);setTimeout(()=>{const visiblelabels=$(`.${classname}`).find("a.label:visible").length;const valuelength=$("#intended_region_app_qs").val().length;const showmorlength=valuelength-visiblelabels;if(showmorlength==0){$("#intended_region_app_qs").parent().find("._plus_more").addClass("hide-this");}},100);}},300);}
const studylevelApply=Drupal.behaviors.tu_d8.readCookie("STYXKEY-studylevelApply")||allapiData_new.data[0].apply_study_level;$(".intended_study_level_app_qs").dropdown("clear");$(".intended_study_level_app_qs").dropdown("set selected",studylevelApply);if(allapiData_new.data[0].subscription_btn_type!==undefined&&allapiData_new.data[0].subscription_btn_type!==null){if(allapiData_new.data[0].subscription_btn_type=="know_more"){$("#qs-site-step-two-form #edit-submit").val("Know More");}else if(allapiData_new.data[0].subscription_btn_type=="get_in_touch"){$("#qs-site-step-two-form #edit-submit").val("Get In Touch");}}
if($("#edit-specialization").length>0&&allapiData_new.data[0]!==undefined&&allapiData_new.data[0].program_attributes!==undefined&&allapiData_new.data[0].program_attributes.Specialization!==undefined){$("#edit-specialization").val(allapiData_new.data[0].program_attributes.Specialization);$("#edit-specialization").trigger("change");}
let prev=document.referrer;let current=window.location.href;let progURL=allapiData_new.data[0].program_url;Drupal.behaviors.tu_d8.createCookie("STYXKEY-prog_url",progURL,1);},_g8FormValueSetProgramsDir(dis,nid,datapass){endpointurl=`/program/endpoint?programs=[${nid}]`
$.ajax({type:"GET",url:endpointurl,dataType:"json",success(data){let allapiDatanew=data;const btntype=$(dis).attr("btntype");if(btntype=="know_more"){$("#qs-site-step-two-form #edit-submit").val("Know More");}
if(btntype=="get_in_touch"){$("#qs-site-step-two-form #edit-submit").val("Get In Touch");}
const apidatatype=$(dis).attr("apidatatype");Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuenid",allapiDatanew.data[0].nid);Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuekey",allapiDatanew.data[0].subscription_btn_type);Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuestudy",allapiDatanew.data[0].study_destination);if($(dis).parent().hasClass("apply")){Drupal.behaviors.qs_user_profile._fillProgInfo();}
$(".qs-site-step-two-form").find("#qs_currentpath").val(`${window.location.pathname}${window.location.search}`);$("#user_registers_nid").val(allapiDatanew.data[0].nid);$("#user_registers_key").val(allapiDatanew.data[0].subscription_btn_type);$(".logo-top-pop").find("img").attr("src",allapiDatanew.data[0].logo);$("#multiCollapseExample1").find("ul").empty();if(allapiDatanew.data[0].popup_contents.bullets!==null&&allapiDatanew.data[0].popup_contents.bullets!==undefined&&Object.keys(allapiDatanew.data[0].popup_contents.bullets).length>0){$("#multiCollapseExample1").removeClass("d-none");$.each(allapiDatanew.data[0].popup_contents.bullets,(index,value)=>{$("#multiCollapseExample1").find("ul").append(`<li>${value}</li>`);});}else{$("#multiCollapseExample1").addClass("d-none");}
if(allapiDatanew.data[0].popup_contents.user_popup_heading!==null&&allapiDatanew.data[0].popup_contents.user_popup_heading!==undefined&&Object.keys(allapiDatanew.data[0].popup_contents.user_popup_heading).length>0){$(".intro-txt-pop").text(allapiDatanew.data[0].popup_contents.user_popup_heading);}else{$(".intro-txt-pop").text("");}
let studydest=allapiDatanew.data[0].study_destination||Drupal.behaviors.tu_d8.readCookie("STYXKEY-valuestudy");if(studydest=="United States"){studydest="USA";}
let specialization=$.trim(allapiDatanew.data[0].program_attributes.Specialization);if(studydest){$("#edit-where-study-reg").val(studydest);$("#edit-where-study-reg").trigger("change");}
if(specialization){$("#edit-specialization").val(specialization);$("#edit-specialization").trigger("change");}
Drupal.behaviors.tu_d8._g8formpreprocess('program',allapiDatanew.data[0].nid);}});},_resetfromInmodal(){$(".logo-top-pop").find("img").attr("src",qslogoreglogin);$(".intro-txt-pop").text(qsintrotexteglogin);$("#multiCollapseExample1").find("ul").empty();$("#multiCollapseExample1").find("ul").append(qsbulletsreglogin);},_g8formpreprocess(univorprog,nid,applyredirect){$("#compareprogramPopup").modal("hide");$('#user_registers_nid').val(nid);if(applyredirect==="applyredirect"){$.get(`/university/endpoint?university=[${nid}]`).done(data=>{const g8subjectARR=[];if(data.g8_subject!==""&&data.g8_subject!==undefined&&data.g8_subject!==null){$.each(data.g8_subject,(index,valueg8tmp)=>{if(valueg8tmp!==null&&valueg8tmp!==undefined&&valueg8tmp!==""){g8subjectARR.push(valueg8tmp);}});}
const g8studylevelARR=[];if(data.g8_study_level!==""&&data.g8_study_level!==undefined&&data.g8_study_level!==null){$.each(data.g8_study_level,(index,valueg8tmplvl)=>{if(valueg8tmplvl!==null&&valueg8tmplvl!==undefined&&valueg8tmplvl!==""){g8studylevelARR.push(valueg8tmplvl);}});}
window.location.href=`/programs?subjects=[${g8subjectARR}]&study_level=[${g8studylevelARR}]`;});return false;}
Drupal.behaviors.tu_d8._resetfromInmodal();if(univorprog=="university"||univorprog=="universities"){$.get(`/university/endpoint?university=[${nid}]`).done(function(data){Drupal.behaviors.tu_d8._g8FormValueSet(this,0,data);});}
if(univorprog=="program"||univorprog=="programs"){$.get(`/program/endpoint?programs=[${nid}]`).done(function(data){let prev=document.referrer;let current=window.location.href;let progURL=data.data[0].program_url;Drupal.behaviors.tu_d8.createCookie("STYXKEY-prog_url",progURL,1);Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuenid",nid);Drupal.behaviors.tu_d8.Apply_Popup_Main(prev,current,progURL);Drupal.behaviors.tu_d8._g8FormValueSet(this,0,data);});}},gotourldivunivQS(getidname,offset){let offsetSet=300;if(offset!==undefined&&offsetSet!==""){offsetSet=offset;}
if($(`#${getidname}`).length===0&&$(`.${getidname}`).length>0){$("html, body").animate({scrollTop:$(`.${getidname}:visible`).offset().top-offsetSet},1000);}else if($(`#${getidname}`).length>0){$("html, body").animate({scrollTop:$(`#${getidname}`).offset().top-offsetSet},1000);}},footerTrayDisplayConditions(noupdatefooter){if($("#universityShortlistCountGlobal").val()!==""&&$("#universityShortlistCountGlobal").val()!==undefined){_updatedShortlist_js_univ=parseInt($("#universityShortlistCountGlobal").val());}else{_updatedShortlist_js_univ=0;}
if($("#programShortlistCountGlobal").val()!==""&&$("#programShortlistCountGlobal").val()!==undefined){_updatedShortlist_js_prog=parseInt($("#programShortlistCountGlobal").val());}else{_updatedShortlist_js_prog=0;}
globalCompreUniversities=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsUniversity");globalComprePrograms=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsPrograms");if(globalCompreUniversities!==null&&globalCompreUniversities!==""){globalCompreUniversities=globalCompreUniversities.split(",");$("._updated_CompareURJS").attr("data-redirection",`/${compareUniversityurl}?nids=[${globalCompreUniversities.toString()}]`);$("._compareCountersjs_univ").text(globalCompreUniversities.length);}else{globalCompreUniversities="";}
if(globalComprePrograms!==null&&globalComprePrograms!==""){globalComprePrograms=globalComprePrograms.split(",");$("._updated_CompareURJS_prog").attr("data-redirection",`/${compareProgramurl}?nids=[${globalComprePrograms.toString()}]`);$("._compareCountersjs_prog").text(globalComprePrograms.length);}else{globalComprePrograms="";}
if($(window).width()<992){comparecookieLimit=3;$(".comparecookieLimit").text(comparecookieLimit);$(".comparecookieLimit").text(comparecookieLimit);}
_updatedShortlist_js=_updatedShortlist_js_univ+_updatedShortlist_js_prog;if(globalCompreUniversities.length+
globalComprePrograms.length+
_updatedShortlist_js+
_updatedApplyprog_js>0){if(_updatedShortlist_js===0){if(globalCompreUniversities.length>1||globalComprePrograms.length>1){$(".bottomApplyfooterdivData").removeClass("d-none");$("#bottomApplyfooterdiv").removeClass("d-none");}else{$(".bottomApplyfooterdivData").addClass("d-none");$("#bottomApplyfooterdiv").addClass("d-none");}}else{$(".bottomApplyfooterdivData").removeClass("d-none");$("#bottomApplyfooterdiv").removeClass("d-none");}}else{$(".bottomApplyfooterdivData").addClass("d-none");$("#bottomApplyfooterdiv").addClass("d-none");}
if(globalCompreUniversities.length<2){$("._updated_CompareURJS").addClass("disable-link");$("._updated_CompareURJS").removeClass("partialactive");}else{$("._updated_CompareURJS").removeClass("disable-link");$("._updated_CompareURJS").addClass("partialactive");}
if(globalComprePrograms.length<2){$("._updated_CompareURJS_prog").addClass("disable-link");$("._updated_CompareURJS_prog").removeClass("partialactive");}else{$("._updated_CompareURJS_prog").removeClass("disable-link");$("._updated_CompareURJS_prog").addClass("partialactive");}
if(_updatedShortlist_js<1){$(".partial_active_js").addClass("disable-link");}else{$(".partial_active_js").removeClass("disable-link");}
if(_updatedShortlist_js>0){$(".bottomApplyfooterdivData").removeClass("d-none");$("#bottomApplyfooterdiv").removeClass("d-none");}
if(_updatedApplyprog_js>0){$(".bottomApplyfooterdivData").removeClass("d-none");$("#bottomApplyfooterdiv").removeClass("d-none");}
if(typeof globalCompreUniversities==="string"&&globalCompreUniversities!==""){const tempCompareuniv=globalCompreUniversities.split(",");if(tempCompareuniv){$("._globCompUniv_js").removeClass("active");$.each(tempCompareuniv,(i,nid)=>{$(`._globcompare_universityCookie_js_${nid}`).addClass("active");});}}else if(globalCompreUniversities){$("._globCompUniv_js").removeClass("active");$.each(globalCompreUniversities,(i,nid)=>{$(`._globcompare_universityCookie_js_${nid}`).addClass("active");});}
if(typeof globalComprePrograms==="string"&&globalComprePrograms!==""){const tempCompareprog=globalComprePrograms.split(",");if(tempCompareprog){$("._globCompProg_js").removeClass("active");$.each(tempCompareprog,(i,nid)=>{$(`._globcompare_programCookie_js_${nid}`).addClass("active");});}}else if(globalComprePrograms){$("._globCompProg_js").removeClass("active");$.each(globalComprePrograms,(i,nid)=>{$(`._globcompare_programCookie_js_${nid}`).addClass("active");});}
$("._compareCountersjs_prog").text(globalComprePrograms.length);$("._compareCountersjs_univ").text(globalCompreUniversities.length);Drupal.behaviors.tu_d8.updateShortlistCounter(_updatedShortlist_js,_updatedShortlist_js_univ,_updatedShortlist_js_prog,noupdatefooter);},compareUnivAddRemove(uniprog,id,addremove,redirect,dis,key){globalCompreUniversities=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsUniversity");if(typeof globalCompreUniversities==="string"&&globalCompreUniversities!==""){globalCompreUniversities=globalCompreUniversities.split(",");}
if(globalCompreUniversities===null||globalCompreUniversities===undefined){globalCompreUniversities=[];}
const tempCookieArr=[];$.each(globalCompreUniversities,(i,value)=>{if(value!=id&&value!==""){tempCookieArr.push(value);}});globalCompreUniversities=tempCookieArr;Drupal.behaviors.tu_d8.createCookie("STYXKEY_comparidsUniversity",globalCompreUniversities.toString(),cookieDays);if(globalCompreUniversities===""&&globalCompreUniversities===null){globalCompreUniversities=[];}
globalComprePrograms=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsPrograms");if(typeof globalComprePrograms==="string"&&globalComprePrograms!==""){globalComprePrograms=globalComprePrograms.split(",");}
if(globalComprePrograms===null||globalComprePrograms===undefined){globalComprePrograms=[];}
const tempCookieArr2=[];$.each(globalComprePrograms,(ii,value2)=>{if(value2!=id){tempCookieArr2.push(value2);}});globalComprePrograms=tempCookieArr2;Drupal.behaviors.tu_d8.createCookie("STYXKEY_comparidsPrograms",globalComprePrograms.toString(),cookieDays);if(globalComprePrograms===""&&globalComprePrograms===null){globalComprePrograms=[];}
$("._updated_CompareURJS").attr("data-redirection",`/${compareUniversityurl}?nids=[${globalCompreUniversities.toString()}]`);$("._updated_CompareURJS_prog").attr("data-redirection",`/${compareProgramurl}?nids=[${globalComprePrograms.toString()}]`);$(dis).parent().parent().parent().remove();$("._datakeyjs_"+key).remove();Drupal.behaviors.tu_d8.footerTrayDisplayConditions();},setRedirectionFixed(dis,newTab){if($(dis).hasClass("disable-link")){if($(dis).attr("univorprog")=="universities"&&parseInt($(dis).find("._compareCountersjs_univ.only").text())<2){$("#_errordivCompare").find("span").html(`<b>Minimum 2 universities required to compare</b>`);Drupal.behaviors.tu_d8.hidediv("show");setTimeout(()=>{Drupal.behaviors.tu_d8.hidediv("hide");},2000);return false;}
if($(dis).attr("univorprog")=="programs"&&parseInt($(dis).find("._compareCountersjs_prog.only").text())<2){$("#_errordivCompare").find("span").html(`<b>Minimum 2 programs required to compare</b>`);Drupal.behaviors.tu_d8.hidediv("show");setTimeout(()=>{Drupal.behaviors.tu_d8.hidediv("hide");},2000);return false;}
return false;}
const redirecturl=$(dis).attr("data-redirection");if(newTab){window.open(redirecturl,'_blank');}else{window.location.href=redirecturl;}},hidediv(hideshow){if(hideshow==="show"){$("#_errordivCompare").addClass("active");}else{$("#_errordivCompare").removeClass("active");}},_adduniversityCompare(dis,nid){globalCompreUniversities=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsUniversity");if(typeof globalCompreUniversities==="string"&&globalCompreUniversities!==""){globalCompreUniversities=globalCompreUniversities.split(",");}
if(globalCompreUniversities===null||globalCompreUniversities===undefined){globalCompreUniversities=[];}
if($(dis).hasClass("active")){const tempCookieArr=[];$.each(globalCompreUniversities,(i,value)=>{if(value!=nid&&$.inArray(value,tempCookieArr)===-1&&value!==""){tempCookieArr.push(value);}});$(dis).removeClass("active");globalCompreUniversities=tempCookieArr;Drupal.behaviors.tu_d8.createCookie("STYXKEY_comparidsUniversity",globalCompreUniversities.toString(),cookieDays);}else{if(globalCompreUniversities.length===0){globalCompreUniversities=[];}
if(globalCompreUniversities.length>=comparecookieLimit){$("#_errordivCompare").find("span").html(`<b>${comparecookieLimit}/${comparecookieLimit}</b> universities have already added`);Drupal.behaviors.tu_d8.hidediv("show");setTimeout(()=>{Drupal.behaviors.tu_d8.hidediv("hide");},2000);return false;}
globalCompreUniversities.push(nid);Drupal.behaviors.tu_d8.createCookie("STYXKEY_comparidsUniversity",globalCompreUniversities.toString(),cookieDays);if(globalCompreUniversities.length+
globalComprePrograms.length+
_updatedShortlist_js>0){$("body").find(".pro_share_kit").addClass("pos-change");}else{$("body").find(".pro_share_kit").removeClass("pos-change");}
$(dis).addClass("active");setTimeout(()=>{Drupal.behaviors.tu_d8.openshorthandpop("university");},50);}
$("._updated_CompareURJS").attr("data-redirection",`/${compareUniversityurl}?nids=[${globalCompreUniversities.toString()}]`);$("._compareCountersjs_univ").text(globalCompreUniversities.length);$("body").find(".pro_share_kit").removeClass("pos-change");Drupal.behaviors.tu_d8.footerTrayDisplayConditions();},_addprogramCompare(dis,nid){globalComprePrograms=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsPrograms");if(typeof globalComprePrograms==="string"&&globalComprePrograms!==""){globalComprePrograms=globalComprePrograms.split(",");}
if(globalComprePrograms===null||globalComprePrograms===undefined){globalComprePrograms=[];}
if($(dis).hasClass("active")){const tempCookieArr=[];$.each(globalComprePrograms,(i,value)=>{if(value!=nid&&$.inArray(value,tempCookieArr)===-1&&value!==""){tempCookieArr.push(value);}});$(dis).removeClass("active");globalComprePrograms=tempCookieArr;Drupal.behaviors.tu_d8.createCookie("STYXKEY_comparidsPrograms",globalComprePrograms.toString(),cookieDays);}else{if(globalComprePrograms.length===0){globalComprePrograms=[];}
if(globalComprePrograms.length>=comparecookieLimit){$("#_errordivCompare").find("span").html(`<b>${comparecookieLimit}/${comparecookieLimit}</b> programs have already added`);Drupal.behaviors.tu_d8.hidediv("show");setTimeout(()=>{Drupal.behaviors.tu_d8.hidediv("hide");},2000);return false;}
globalComprePrograms.push(nid);Drupal.behaviors.tu_d8.createCookie("STYXKEY_comparidsPrograms",globalComprePrograms.toString(),cookieDays);$("body").find(".pro_share_kit").removeClass("pos-change");if(globalCompreUniversities.length+
globalComprePrograms.length+
_updatedShortlist_js>0){$("body").find(".pro_share_kit").addClass("pos-change");}
$(dis).addClass("active");setTimeout(()=>{Drupal.behaviors.tu_d8.openshorthandpop("programs");},50);}
$("._updated_CompareURJS_prog").attr("data-redirection",`/${compareProgramurl}?nids=[${globalComprePrograms.toString()}]`);$("._compareCountersjs_prog").text(globalComprePrograms.length);Drupal.behaviors.tu_d8.footerTrayDisplayConditions();},updateShortlistCounter(totalcounter,universitycounter,programcounter,noupdatefooter){$("._updatedShortlist_js_univ_integer").text(universitycounter);$("._updatedShortlist_js_prog_integer").text(programcounter);if(totalcounter>0){$(".partial_active_js").addClass("partialactive");}else{$(".partial_active_js").removeClass("partialactive");}
if(totalcounter>99){totalcounter="99+";}
if(universitycounter>99){universitycounter="99+";}
if(programcounter>99){programcounter="99+";}
if(noupdatefooter!="noupdatefooter"){$("._updatedShortlist_js").text(totalcounter);}
$("._updatedShortlist_js_univ").text(universitycounter);$("._updatedShortlist_js_prog").text(programcounter);if(window.location.pathname=="/user/dashboard/universities"||window.location.pathname=="/user/dashboard/universities/"){$("#Shortlisted-tab").find("._counter").text(universitycounter);}
if(window.location.pathname=="/user/dashboard/programs"||window.location.pathname=="/user/dashboard/programs/"){$("#Shortlisted-tab").find("._counter").text(programcounter);}
if(universitycounter==1){$("._updatedShortlist_js_univ_text").text(Drupal.t("University"));}else{$("._updatedShortlist_js_univ_text").text(Drupal.t("Universities"));}
if(programcounter==1){$("._updatedShortlist_js_prog_text").text(Drupal.t("Program"));}else{$("._updatedShortlist_js_prog_text").text(Drupal.t("Programs"));}},_adduniversityShortlist(dis,nid,univorprog,button_type){if(univorprog=="program"){if(drupalSettings.qs_global_site_search.site_arg=="TopMBA.com"){Drupal.behaviors.qs_sso.crmsource('TOPMBA-add-to-shortlist-program');}else{Drupal.behaviors.qs_sso.crmsource('TOPUNI-add-to-shortlist-program');}}else{if(drupalSettings.qs_global_site_search.site_arg=="TopMBA.com"){Drupal.behaviors.qs_sso.crmsource('TOPMBA-add-to-shortlist-college');}else{Drupal.behaviors.qs_sso.crmsource('TOPUNI-add-to-shortlist-university');}}
if($("#g8statusGlobal").val()==0){$("#user-global-reg").modal();Drupal.behaviors.tu_d8.createCookie("STYXKEY-save_article_nid",nid,1);return false;}
if(button_type===""||button_type===undefined){button_type="";}
if(nid!="undefined"&&nid!="null"&&nid!=""){$.get(`/flag_unflag_entity/${nid}?button_type=${button_type}`,data=>{if(data.success===true){if($("input[name=rankingtype-check]").length&&$("input[name=rankingtype-check]").val()!="qs-stars"){Drupal.behaviors.qs_rankings_datatables.shortlistbeforeMakeInactive();}
if($("input[name=rankingtype-check]").length&&$("input[name=rankingtype-check]").val()=="qs-stars"){Drupal.behaviors.qs_rankings_stars.shortlistbeforeMakeInactive();}
if($("#univorprogpage").val()=='programs'){Drupal.behaviors.univ_program_card_template.shortlistbeforeMakeInactive();}
if($("#univorprogpage").val()=='university'){Drupal.behaviors.univ_university_card_template.shortlistbeforeMakeInactive();}
if($(dis).hasClass("active")){$(dis).removeClass("active");$(dis).find("._addShortText").text(Drupal.t("Shortlist"));$("._shortlist_nid_"+nid).removeClass("active");$("._shortlist_nid_"+nid).find("._addShortText").text(Drupal.t("Shortlist"));_updatedShortlist_js_prog=data.no_prog_shortlisted;_updatedShortlist_js_univ=data.no_uni_shortlisted;_updatedShortlist_js=_updatedShortlist_js_prog+_updatedShortlist_js_univ;$("#universityShortlistCountGlobal").val(_updatedShortlist_js_univ);$("#programShortlistCountGlobal").val(_updatedShortlist_js_prog);Drupal.behaviors.tu_d8.updateShortlistCounter(_updatedShortlist_js,_updatedShortlist_js_univ,_updatedShortlist_js_prog);$("#universityShortlistCountGlobal").val(_updatedShortlist_js_univ);$("#programShortlistCountGlobal").val(_updatedShortlist_js_prog);Drupal.behaviors.tu_d8.updateShortlistCounter(_updatedShortlist_js,_updatedShortlist_js_univ,_updatedShortlist_js_prog);}else{$(dis).addClass("active");$(dis).find("._addShortText").text(Drupal.t("Shortlisted"));$("._shortlist_nid_"+nid).addClass("active");$("._shortlist_nid_"+nid).find("._addShortText").text(Drupal.t("Shortlisted"));_updatedShortlist_js_prog=data.no_prog_shortlisted;_updatedShortlist_js_univ=data.no_uni_shortlisted;_updatedShortlist_js=_updatedShortlist_js_prog+_updatedShortlist_js_univ;$("#universityShortlistCountGlobal").val(_updatedShortlist_js_univ);$("#programShortlistCountGlobal").val(_updatedShortlist_js_prog);Drupal.behaviors.tu_d8.updateShortlistCounter(_updatedShortlist_js,_updatedShortlist_js_univ,_updatedShortlist_js_prog);$(".partial_active_js_shortlist").removeClass('pointer-events-none');if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickJoin_ShortlistBefore")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickJoin_ShortlistBefore")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickJoin_ShortlistBefore")=='shortClickJoin_ShortlistBefore'){dataLayer.push({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess_shortlistSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortClickJoin_ShortlistBefore");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickSign_ShortlistBefore")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickSign_ShortlistBefore")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickSign_ShortlistBefore")=='shortClickSign_ShortlistBefore'){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess_shortlistSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortClickSign_ShortlistBefore");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_ShortlistNow")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_ShortlistNow")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_ShortlistNow")=='shortlistClicked_ShortlistNow'){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess_shortlistSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_ShortlistNow");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-g8complete_shortlistBefore")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-g8complete_shortlistBefore")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-g8complete_shortlistBefore")=='g8complete_shortlistBefore'){dataLayer.push({'event':'shortlist','Parameter':'g8FormPopup_g8FormSuccess_shortlistSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-g8complete_shortlistBefore");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistDirect")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistDirect")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistDirect")=='shortlistDirect'){dataLayer.push({'event':'shortlist','Parameter':'shortlistSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistDirect");}
Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-save_article_nid");}
if(window.location.pathname=="/shortlist/programs"||window.location.pathname=="/shortlist/programs/"||window.location.pathname=="/shortlist/universities"||window.location.pathname=="/shortlist/universities/"){$("#pagenumberid").val(1);Drupal.behaviors.univ_program_js.gotourldivuniv("univListingCards_shortlist");Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");}
if((window.location.pathname=="/user/dashboard/programs"||window.location.pathname=="/user/dashboard/programs/")&&($("#Shortlisted-tab").hasClass("active")||$("#Shortlisted-tab").parent().hasClass("active"))){$("#pagenumberid").val(1);Drupal.behaviors.univ_program_js.gotourldivuniv("univListingCards_shortlist");Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");}
if((window.location.pathname=="/user/dashboard/universities"||window.location.pathname=="/user/dashboard/universities/")&&($("#Shortlisted-tab").hasClass("active")||$("#Shortlisted-tab").parent().hasClass("active"))){$("#pagenumberid").val(1);Drupal.behaviors.univ_program_js.gotourldivuniv("univListingCards_shortlist");Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");}
if($("#compare_universities_data:visible")!==undefined&&$("#compare_universities_data:visible")!==null&&$("#compare_universities_data:visible").length){$("#pagenumberidshortlist").val(1);Drupal.behaviors.tu_d8.getshortlistinModal();}
Drupal.behaviors.tu_d8.footerTrayDisplayConditions();}else{if(univorprog=="program"){Drupal.behaviors.tu_d8._g8formpreprocess("program",nid);}
if(univorprog=="university"){Drupal.behaviors.tu_d8._g8formpreprocess("university",nid);}
$("#user-global-reg").modal("show");}}).fail(()=>{$("#_errordivCompare").find("span").html("Something went wrong..");Drupal.behaviors.tu_d8.hidediv("show");setTimeout(()=>{Drupal.behaviors.tu_d8.hidediv("hide");},2000);});}},openshorthandpop(univorprog,dis){$(".common_display_js").addClass("d-none");if($(dis).hasClass("disable-link")){return false;}
if(univorprog==="university"){$(".common_display_js._universitybtn").removeClass("d-none");$(".common_display_js._universitybtn").css("left",`${$(".compareuniversityid_pos").offset().left}px`);}
if(univorprog==="programs"){$(".common_display_js._programbtn").removeClass("d-none");$(".common_display_js._programbtn").css("left",`${$(".compareprogramsid_pos").offset().left}px`);}},YouTubeGetID(url){let ID="";url=url.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);if(url[2]!==undefined){ID=url[2].split(/[^0-9a-z_\-]/i);ID=ID[0];}else{ID=url;}
return ID;},blockpageRegLogin(idofmodal){$(`#${idofmodal}`).modal({backdrop:"static",keyboard:false});},getmarkerposition(dis){if($(window).width()<767){let leftpos=$(dis).offset().left-205;let leftpos_slider=leftpos-350;if(leftpos<-100){leftpos_slider=leftpos+100;}
if(leftpos<0){leftpos=0;}
let iconleftpos=$(dis).offset().left-75;if(leftpos===0){iconleftpos=$(dis).offset().left-7;}
$(dis).find("._mobposjs").css("left",`${leftpos}px`);$(dis).find("._mobposjs_slider").css("left",`${leftpos_slider}px`);$(dis).find(".fas").css("left",`${iconleftpos}px`);}},generalvidemodal(dis){const scrollBarWidth=window.innerWidth-document.body.offsetWidth;$("body").css({marginRight:scrollBarWidth,overflow:"hidden"});$(".body_resize_modal").removeClass("d-none");const classtopass="videoclass";if($(`#html5gallery_js_${classtopass}`).length===0){const HTMLDOM=`${'<div style="display:none;margin:0 auto;" id="html5gallery_js_'}${classtopass}"`+
`class="html5gallery_js"`+
`data-onchange="onSlideChange"`+
`data-onthumbclick="onThumbClick"`+
`data-skin="gallery"`+
`data-responsive="true"`+
`data-resizemode="fill"`+
`data-html5player="true"`+
`data-autoslide="false"`+
`data-autoplayvideo="false"`+
`data-width="800"`+
`data-height="450"`+
`data-effect="fadeout"`+
`data-shownumbering="false"`+
`data-numberingformat="%NUM of %TOTAL - ">`+
`</div>`;$("._createHTMLDOM_galleryjs").append(HTMLDOM);const gallerytitlejsuniv=$(dis).attr("data-title");$("._gallery_title_jsuniv").text(gallerytitlejsuniv);const value=Drupal.behaviors.tu_d8.YouTubeGetID($(dis).attr("data-video"));$(`#html5gallery_js_${classtopass}`).append(`<a href="${value}" data-poster="https://i3.ytimg.com/vi/${value}/hqdefault.jpg">`+
`<img src="https://i3.ytimg.com/vi/${value}/hqdefault.jpg" alt="YouTube" data-description="Youtube gallery video">`+
`</a>`);}},generalGalleryVideoAndImage(sliderid){const scrollBarWidth=window.innerWidth-document.body.offsetWidth;$("body").css({marginRight:scrollBarWidth,overflow:"hidden"});$(".body_resize_modal").removeClass("d-none");const classtopass=`images_${sliderid}`;let galleryimages=$(`#recommended-slider-images-videos-${sliderid}`).val();if($(`#html5gallery_js_${classtopass}`).length===0){const HTMLDOM=`${'<div style="display:none;margin:0 auto;" id="html5gallery_js_'}${classtopass}"`+
`class="html5gallery_js"`+
`data-onchange="onSlideChange"`+
`data-onthumbclick="onThumbClick"`+
`data-skin="gallery"`+
`data-responsive="true"`+
`data-resizemode="fill"`+
`data-html5player="true"`+
`data-autoslide="false"`+
`data-autoplayvideo="false"`+
`data-width="800"`+
`data-height="450"`+
`data-effect="fadeout"`+
`data-shownumbering="false"`+
`data-numberingformat="%NUM of %TOTAL - ">`+
`</div>`;$("._createHTMLDOM_galleryjs").append(HTMLDOM);galleryimages=galleryimages.split(",");const gallerytitlejsuniv=$("#recommended-slider").val();$("._gallery_title_jsuniv").text(gallerytitlejsuniv);$.each(galleryimages,(index,value)=>{const youtubeimg=Drupal.behaviors.tu_d8.YouTubeGetID(value);if(youtubeimg!==undefined&&youtubeimg!==""&&typeof youtubeimg==="string"){$(`#html5gallery_js_${classtopass}`).append(`<a href="https://www.youtube.com/embed/${youtubeimg}" data-poster="https://img.youtube.com/vi/${youtubeimg}/sddefault.jpg">`+
`<img src="https://img.youtube.com/vi/${youtubeimg}/sddefault.jpg" alt="YouTube" data-description="Youtube gallery video">`+
`</a>`);}else{$(`#html5gallery_js_${classtopass}`).append(`<a href="${value}">`+
`<img src="${value}"  data-description="${value}">`+
`</a>`);}});}
HTML5GalleryStart();$(".html5gallery_js").addClass("d-none");$(`#html5gallery_js_${classtopass}`).removeClass("d-none");$(`#html5gallery_js_${classtopass}`).html5gallery();$(".html5gallery-right-0").trigger("click");$(".html5gallery-left-0").trigger("click");$(".html5gallery-right-0").removeClass("d-none");$(".html5gallery-left-0").removeClass("d-none");if(galleryimages.length===1){$(".html5gallery-right-0").addClass("d-none");$(".html5gallery-left-0").addClass("d-none");}},homewidgetstabs(dis,index){$(dis).parent().find("a").removeClass("active");$(dis).addClass("active");$(dis).parent().parent().parent().find(".qs-widget-tab-content").find(".field__item").addClass("d-none");$(dis).parent().parent().parent().find(".qs-widget-tab-content").find(".field__item");$(dis).parent().parent().parent().find(".qs-widget-tab-content").find(`.field__item:eq(${index})`).removeClass("d-none");$(dis).parent().parent().parent().find(".qs-widget-tab-content").find(`.field__item:eq(${index})`).css("display","block");},footerSubscriptionForm(){const formid=$("#footer-subscribe-form");const actionurl=formid.attr("action");const emailid=$("#footer-input-email-id").val();$.ajax({type:"GET",url:actionurl+emailid,dataType:"json",success(data){$(".subscriber-response").text("");if($("#footer-input-loggedin").val()||data.is_valid===false){$(".subscriber-response").text(data.message);}
if(data.is_valid){$("#user_register").trigger("click");$("#edit-mail").val(emailid);$("#edit-mail").addClass("y");$("#edit-name").val(emailid);$("#edit-name").addClass("y");$("#edit-field-newsletter-optin-1").trigger("click");$(".subscriber-response").text("");if(drupalSettings.qs_global_site_search.site_arg=="TopMBA.com"){Drupal.behaviors.qs_sso.crmsource('TOPMBA-newsletter');}else{Drupal.behaviors.qs_sso.crmsource('TOPUNI-newsletter');}}}});},shortlistunshortlistcontent(nid){$(`.flag.flag-save-content.js-flag-save-content-${nid}.action-flag`).find(".use-ajax").trigger("click");if(!($("._shortlist_nid_"+nid).hasClass("active"))){Drupal.behaviors.tu_d8._adduniversityShortlist($("._shortlist_nid_"+nid),nid,'','forceshortlist');}
if($(`.flag.flag-save-content.js-flag-save-content-${nid}.action-flag`).length===0&&$("._shortlist_nid_"+nid).length===0&&$("#g8statusGlobal").val()==1){Drupal.behaviors.tu_d8._adduniversityShortlist('',nid,'','forceshortlist');}},getCompareContentShowmodal(dis,close,tab,nid,universityname,urlcall,typeofdata){$("#univListingCards_shortlist").removeClass("margin-top-shortlist-90px");Drupal.behaviors.tu_d8.createCookie("STYXKEY-openContentModals",tab,1);Drupal.behaviors.tu_d8.createCookie("STYXKEY-openContentModals-window",window.location.href,1);$(".mob-serach-cont").removeClass("active");if(typeof(getCoreIdsfromNodeid)=="function"&&getCoreIdsfromNodeid!==undefined){getCoreIdsfromNodeid(Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsUniversity"),"master_profile");getCoreIdsfromNodeid(Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsPrograms"),"programs");}
if(close){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");$("#compare_universities_data").empty();$("._showin_iframes").addClass("d-none");$("body").css("overflow","auto");$("#compare_universities_data").addClass("d-none");$(".activeonclick").removeClass("active");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-openContentModals");return false;}
$(".activeonclick").removeClass("active");$(`.activeonclick_${tab}`).addClass("active");$("body").append(`<div id="loaderforcontent" class="qs-loader-reg">
                            <div class="loaderforuniv"></div>
                        </div>`);$("#compare_universities_data").empty();let headeroffset=$("header.header").offset().top;headeroffset+=40;$("._showin_iframes").css("top",`${headeroffset}px`);if($("body").hasClass("section-university-finder")){}
$("#modal-from-ajax").remove();$("body").append('<div id="modal-from-ajax"></div>');if(tab=="shortlist"){$("._inline_icons").removeClass("active");$(dis).addClass("active");$("#loaderforcontent").remove();$("._showin_iframes").removeClass("d-none");$("body").addClass("path-compare-universities");$("body").css("overflow","hidden");$("#compare_universities_data").removeClass("d-none");$("#modal-from-ajax").empty();$("#compare_universities_data").parent().removeClass("container");const headerforshortlist=$("#shortlistmodalheader").html();$("#compare_universities_data").append(headerforshortlist);$("#shortlisted_university").on("keyup",function(){const value=$(this).val().toLowerCase();$("#show-options-1 li").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(value)>-1);});});$("#shortlisted_university").focusout(()=>{setTimeout(()=>{if($("#shortlisted_university").val()===""&&$("#shortlisted_university_nid").val()!==""){Drupal.behaviors.univ_prog_filters.clearShortlistData();}},500);});$(".countiszerosearchidejs").on("click",function(){$(`#show-options-1`).removeClass("d-none");})
$("#shortlisted_university").focusin(function(){const id=$(this).attr("child-options-id");$(`#show-options-${id}`).removeClass("d-none");});$("#shortlisted_university").focusout(()=>{setTimeout(()=>{$(".list-of-options_js").addClass("d-none");},500);});Drupal.behaviors.tu_d8.getshortlistinModal("",nid,universityname,typeofdata);$(".perpage_dropdown_js_shortlist").dropdown({onChange(value){$("#perpageshortlist").val(value);$("#pagenumberidshortlist").val("1");Drupal.behaviors.tu_d8.gotourldivunivQS("univListingCards_shortlist");Drupal.behaviors.tu_d8.getshortlistinModal();}});$("._shortlistinput").on("blur input keypress",e=>{if($("._shortlistinput").val()&&$("._shortlistinput").val()!==""&&$("._shortlistinput").val().trim()!==""){$("._shortlistx").removeClass("d-none");$("._postion_Search_new_js_shortlist").addClass("activecursor");$("._postion_Search_new_js_shortlist").addClass("d-none");if(e.which==13){Drupal.behaviors.tu_d8.getshortlistinModal();}}else{$("._shortlistx").addClass("d-none");$("._postion_Search_new_js_shortlist").removeClass("activecursor");$("._postion_Search_new_js_shortlist").removeClass("d-none");}});return false;}
$.ajax({url:urlcall||$(dis).attr("data-redirection"),type:"GET",success(data){$("#loaderforcontent").remove();$("._showin_iframes").removeClass("d-none");$("body").addClass("path-compare-universities");$("body").css("overflow","hidden");$("#compare_universities_data").removeClass("d-none");$("#modal-from-ajax").empty();if(tab=="apply"){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");$("#compare_universities_data").html($(data).find("#block-userapplicationlist").html());Drupal.behaviors.qs_user_profile.attach();jcf.replace(jQuery('#selectAll'));jcf.replace(jQuery('.apply-now.selectApply'));setTimeout(function(){if(!$("#selectAll").is(":checked")){$("#selectAll").trigger("click");}},1000);}else{$("#compare_universities_data").html($(data).find("#block-tu-d8-content").html());$("._showin_iframes").scroll(function(){let scroll=$("._showin_iframes").scrollTop();if(scroll>20){$(".makeitfixd_when_scroll_js").addClass("makeitfixd_when_scroll_css");}else{$(".makeitfixd_when_scroll_js").removeClass("makeitfixd_when_scroll_css");}});$(".article_nid_save-non-logged, .shortListornotjs").on("click",function(){const articlenid=$(this).attr("article_nid")||$(this).attr("nid");Drupal.behaviors.tu_d8.createCookie("STYXKEY-save_article_nid",articlenid,1);});}
setTimeout(function(){Drupal.behaviors.qs_sso.attach();},500);$("a").on("click",function(){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-openContentModals");});Drupal.behaviors.tu_datalayer.attach();}});},removeURLParameter(url,parameter){const urlparts=url.split("?");let i=0;if(urlparts.length>=2){const prefix=`${encodeURIComponent(parameter)}=`;const pars=urlparts[1].split(/[&;]/g);for(i=pars.length;i-->0;){if(pars[i].lastIndexOf(prefix,0)!==-1){pars.splice(i,1);}}
const urlpartsfirst=urlparts[0];const urlpartssecond=pars.length>0?`?${pars.join("&")}`:"";return urlpartsfirst+urlpartssecond;}
return url;},youtube_parser(url){const regExp=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;const match=url.match(regExp);return match&&match[7].length===11?match[7]:false;},getParamvaluefromURL(name,url){if(!url){url=window.location.href;url=decodeURI(url);}
name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const regexS=`[\\?&]${name}=([^&#]*)`;const regex=new RegExp(regexS);let results=regex.exec(url);if(results!==null&&results!==""&&results.length>0){results=results[1];results=results.replace("]","");results=results.replace("%5B","");results=results.replace("%5D","");results=results.replace("[","");results=results.split(",");return results===null?null:results;}
return results===null?null:results[1];},preprocessdatauniversities(index,value,adsdisplay,ii,idtoappend,apidatatype1){const{gallery_images:galleryimages=[],gallery_videos:galleryvideos=[]}=value;const{city:city=[""]}=value;let recommendedclass="d-none";if(value.recommended===true){recommendedclass="";}
let programurlHTML="#";let viewprogramsDnone="d-none";let currenthref=window.location.search;currenthref=Drupal.behaviors.tu_d8.removeURLParameter(currenthref,"university");currenthref=Drupal.behaviors.tu_d8.removeURLParameter(currenthref,"coreid");currenthref=Drupal.behaviors.tu_d8.removeURLParameter(currenthref,"university-name");currenthref=Drupal.behaviors.tu_d8.removeURLParameter(currenthref,"globalsearch");currenthref=Drupal.behaviors.tu_d8.removeURLParameter(currenthref,"page");currenthref=Drupal.behaviors.tu_d8.removeURLParameter(currenthref,"pagerlimit");if(value.program_url!==null&&value.program_url!==""){programurlHTML=value.program_url;programurlHTML=programurlHTML.split("programs?");if(programurlHTML[1]!==undefined&&programurlHTML[1]!==""){programurlHTML=`programs?${currenthref}&${programurlHTML[1]}`;programurlHTML=programurlHTML.replace("?&","?");programurlHTML=programurlHTML.replace("??","?");}else{programurlHTML="";}
viewprogramsDnone="";}
const shortlisted_counterDnone="d-none";const shortlisted_counter="";let universityurlHTML="#";if(value.university_url!==null||value.university_url!==""){universityurlHTML=value.university_url;}
let qsStars="";let qsStarsDnone="";if(value.qs_stars===0||value.qs_stars===""||value.qs_stars===null){qsStars="-";qsStarsDnone="d-none";}else{qsStars=value.qs_stars;}
let rankdata="-";let rankdataDnone="";if(value.rankings_position.trim()===""||value.rankings_position.trim()===null){rankdata="-";rankdataDnone="d-none";}else{rankdata=value.rankings_position;}
let uniListDnone="";if((value.qs_stars===0||value.qs_stars===""||value.qs_stars===null)&&(value.rankings_position.trim()===""||value.rankings_position.trim()===null)){uniListDnone="d-none";}
let regionCounters="";let regionlocationsfull="";let regionlocations="";let citya="";if(value.city!==null&&value.city!==undefined&&typeof value.city==="object"&&value.city.length>0){citya=city[0];regionlocations=citya;regionlocationsfull=city;}else{regionlocations="";}
let countrya="";if(value.country!==null&&value.country!==undefined&&typeof value.country==="object"&&value.country.length>0){countrya=", "+value.country[0];}
regionlocations=regionlocations+countrya;let studydestination="";if(value.study_destination!==null&&value.study_destination!==undefined&&value.study_destination.length>0&&value.study_destination!==""){studydestination=value.study_destination;}
let regioncampusname="";if(value.campus_name!==null&&value.campus_name!==undefined&&value.campus_name!==""&&value.campus_name.length>0){if(value.campus_name.length>1){regioncampusname=`${value.campus_name[0]},`;}else{regioncampusname=value.campus_name;}}
let tmpnametitle="";let campusextra=0;if(value.city!==null&&value.city!==undefined&&typeof value.city==="object"&&value.city.length>1){$.each(city,(indexdes,valuedes)=>{if(value.campus_name[indexdes+1]!==null&&value.campus_name[indexdes+1]!==undefined&&valuedes!==""&&value.campus_name[indexdes+1]!==null&&value.campus_name[indexdes+1]!==undefined&&value.campus_name[indexdes+1]!==""){campusextra++;tmpnametitle+=`<li>${
value.campus_name[indexdes+1]
}, ${valuedes}, ${studydestination}</li>`;}});}
if(campusextra>0){regionCounters=`+${campusextra}`;}
regionlocationsfull=tmpnametitle;let DataElement="";let DataElementClasshideshow="d-none";const tempData=[];if(value.university_attributes.Scholarships!==undefined&&value.university_attributes.Scholarships.toLowerCase()=="no"){delete value.university_attributes.Scholarships;}
$.each(value.university_attributes,(indexnew,valuenew)=>{if(valuenew===""||valuenew===null){valuenew="-";}
let partElement="";if(fontDatandTitlesuniv.hasOwnProperty(indexnew)){partElement=`<li title="${fontDatandTitlesuniv[indexnew][0]}">`+
`<span class="light-text">${fontDatandTitlesuniv[indexnew][0]}</span>`+
`<span>${valuenew}</span>`+
`</li>`;DataElementClasshideshow="";}else{partElement=`<li title="${indexnew}">`+
`<span class="light-text">${indexnew}</span>`+
`<span tile="${valuenew}">${valuenew}</span>`+
`</li>`;DataElementClasshideshow="";}
tempData.push(partElement);});DataElement=tempData.join("");let buttontype="";let modalshow=`data-toggle="modal" data-target="#user-global-reg" data-stab="#user_join_us" apidatatype="${apidatatype1}"
      onclick="Drupal.behaviors.univ_university_card_template._g8FormValueSetUniversityDir(this, ${value.nid})"`;if(value.is_getintouched===true){modalshow="";}
const g8subjectARR=[];if(allapiDatauniv.g8_subject!==""&&allapiDatauniv.g8_subject!==undefined&&allapiDatauniv.g8_subject!==null){$.each(allapiDatauniv.g8_subject,(index,valueg8tmp)=>{if(valueg8tmp!==null&&valueg8tmp!==undefined&&valueg8tmp!==""){g8subjectARR.push(valueg8tmp);}});}
const g8studylevelARR=[];if(allapiDatauniv.g8_study_level!==""&&allapiDatauniv.g8_study_level!==undefined&&allapiDatauniv.g8_study_level!==null){$.each(allapiDatauniv.g8_study_level,(index,valueg8tmplvl)=>{if(valueg8tmplvl!==null&&valueg8tmplvl!==undefined&&valueg8tmplvl!==""){g8studylevelARR.push(valueg8tmplvl);}});}
if(value.subscription_btn_type==="apply"){if(value.is_applied!==true){if($("body").hasClass("not-logged-in")){buttontype=`<div class="apply">
              <a nid="${value.nid}" univorprog="university"  data-redirection="/programs" onclick="Drupal.behaviors.tu_d8.setRedirectionFixed(this)" >
              <i class="fal fa-paper-plane"></i>
              <span> Apply</span>
              </a>
              </div>`;}else if(value.apply_status!==undefined&&value.apply_status!==""&&(value.apply_status=="Ready to Apply"||value.apply_status=="ready_to_apply"||value.apply_status=="Ready to apply"||value.apply_status=="ready to apply")){buttontype=`<div class="_ready_to_apply">
                                <a class="padding-ready-apply"  href="/user/dashboard/applications">
                                    <i class="fal fa-times-circle"></i>
                                     Ready to apply
                                </a>
                              </div>`;}else if(value.apply_status!==undefined&&(value.apply_status=="Applied"||value.apply_status=="applied")){buttontype=`<div class="detailSent">
                                <a href="/user/dashboard/universities" ><i class="fal fa-check-circle"></i> Applied</a>
                              </div>`;}else{buttontype=`<div class="apply">
                                <a nid="${value.nid}" univorprog="university"  data-redirection="/programs?subjects=[${g8subjectARR}]&study_level=[${g8studylevelARR}]" onclick="Drupal.behaviors.tu_d8.setRedirectionFixed(this)" >
                                <i class="fal fa-paper-plane"></i>
                                  <span> Apply</span>
                                </a>
                              </div>`;}}else{buttontype=`<div class="applied">
                          <a href="/user/dashboard/universities">
                            <i class="fal fa-check-circle"></i>
                            <span> Applied</span>
                          </a>
                        </div>`;}}
if(value.subscription_btn_type==="get_in_touch"){if(value.is_getintouched!==true){if(value.uni_email!==""){buttontype=`<div class="getInTouch">
                            <a ${modalshow}>
                              <i class="fal fa-envelope"></i>
                              <span> Get in touch</span>
                            </a>
                          </div>`;}else if(value.uni_website!==""){buttontype=`<div class="getInTouch">
                              <a href="${value.uni_website}" target="_blank ext">
                                Visit Website <i class="fal fa-external-link"></i>
                              </a>
                            </div>`;}else{buttontype=`<div class="knowMore">
                            <a ${modalshow} ><i class="fal fa-comment-dots"></i>Know More</a>
                          </div>`;}}else{buttontype=`<div class="detailSent">
                          <a><i class="fal fa-check-circle"></i>Details sent</a>
                        </div>`;}}
if(value.subscription_btn_type==="know_more"){if(value.is_getintouched!==true){buttontype=`<div class="knowMore">
                          <a ${modalshow} >
                            <i class="fal fa-comment-dots"></i>
                            Know More
                          </a>
                        </div>`;}else{buttontype=`<div class="detailSent"><a><i class="fal fa-check-circle"></i>Details sent</a></div>`;}}
let isaddedCompare="";let tempunicookie=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsUniversity");if(tempunicookie!=null&&tempunicookie!==""){tempunicookie=tempunicookie.split(",");if($.inArray(value.nid,tempunicookie)!==-1){isaddedCompare="active";}}
let isaddedShortlist="";let isaddedShortlistText="Shortlist";if(value.is_shortlisted===true){isaddedShortlist="active";isaddedShortlistText="Shortlisted";}
let backgroundimg="/themes/custom/tu_d8/images/default_profile_pic.jpg";const[backimage]=galleryimages;const[backvideo]=galleryvideos;if(galleryvideos!==""&&galleryvideos.length>0){const youtbimg=Drupal.behaviors.tu_d8.youtube_parser(backvideo);backgroundimg=`https://img.youtube.com/vi/${youtbimg}/0.jpg`;}else if(galleryimages!==""&&galleryimages.length>0){backgroundimg=backimage;}
let galleryVisibleClassvideo="";if(value.subscription_name==undefined){value.subscription_name="";}
if(value.gallery_videos.length===0||value.subscription_name=="basic"||value.subscription_name=="basic_cmt"){galleryVisibleClassvideo="d-none";}
let galleryVisibleClassimage="";if(value.gallery_images.length===0){galleryVisibleClassimage="d-none";}
const universitylogo=value.logo;let hideifnolocation="";if(regioncampusname==""&&regionlocations==""&&studydestination==""){hideifnolocation="d-none";}
let qswurtext="QS World University Ranking"
if(drupalSettings.qs_global_site_search.site_arg!==undefined&&drupalSettings.qs_global_site_search.site_arg!==null&&drupalSettings.qs_global_site_search.site_arg=="TopMBA.com"){qswurtext="QS Global MBA Rankings"}
const universitytemplate=$("#_universityCardTemplate").html().replace(/::backgroundimg::/g,backgroundimg).replace(/::recommended_class::/g,recommendedclass).replace(/::index::/g,index).replace(/::galleryVisibleClass_image::/g,galleryVisibleClassimage).replace(/::galleryVisibleClass_video::/g,galleryVisibleClassvideo).replace(/::university_logo::/g,universitylogo).replace(/::university_name::/g,value.title).replace(/::university_urlHTML::/g,universityurlHTML).replace(/::region_campus_name::/g,regioncampusname).replace(/::study_destination::/g,studydestination).replace(/::regionlocations::/g,regionlocations).replace(/::regionlocations_full::/g,regionlocationsfull).replace(/::regionCounters::/g,regionCounters).replace(/::program_urlHTML::/g,programurlHTML).replace(/::rankdata::/g,rankdata).replace(/::qsStars::/g,qsStars).replace(/::qswurtext::/g,qswurtext).replace(/::button_type::/g,buttontype).replace(/::apidatatype::/g,apidatatype1).replace(/::unilistdnone::/g,uniListDnone).replace(/::shortlisted_program_count::/g,value.shortlisted_program_count).replace(/::is_addedShortlist::/g,isaddedShortlist).replace(/::isaddedShortlistText::/g,isaddedShortlistText).replace(/::nid::/g,value.nid).replace(/::is_addedCompare::/g,isaddedCompare).replace(/::DataElement::/g,DataElement).replace(/::rankdataDnone::/g,rankdataDnone).replace(/::qsStarsDnone::/g,qsStarsDnone).replace(/::viewprogramsDnone::/g,viewprogramsDnone).replace(/::DataElementClasshideshow::/g,DataElementClasshideshow).replace(/::hideifnolocation::/g,hideifnolocation);$(`#${idtoappend}`).append(universitytemplate);},preprocessdataprograms(index,value,adsdisplay,ii,idtoappend,apidatatype1){const{program_name:programname="-",uni_name:uniname="-",program_url:programurl="#",uni_url:uniurl="#",gallery_images:galleryimages=[],gallery_videos:galleryvideos=[],recommended}=value;let{qs_stars:qsstars="-",city:city=[""],rankings_position:rankingsposition="-"}=value;let qsStarsDnone="";if(qsstars===0){qsstars="-";qsStarsDnone="d-none";}
let rankdataDnone="";if(rankingsposition=="-"||rankingsposition==""){rankdataDnone="d-none";}
let uniListDnone="";if((qsstars===0&&rankingsposition=="-")||rankingsposition==""){uniListDnone="d-none";}
let recommendedclass="d-none";if(recommended===true){recommendedclass="";}
let regionCounters="";let regionlocationsfull="";let regionlocations="";let citya="";if(value.city!==null&&value.city!==undefined&&typeof value.city==="object"&&value.city.length>0){citya=city[0];regionlocations=citya;if(regionCounters<=0){}else{}
regionlocationsfull=city;}else{regionlocations="";}
let studydestination="";if(value.study_destination.length>0&&value.study_destination!==""){studydestination=value.study_destination;}
let regioncampusname="";if(value.campus_name!==undefined&&value.campus_name!==null&&value.campus_name!==""&&value.campus_name.length>0){if(value.campus_name.length>1){regioncampusname=`${value.campus_name[0]},`;}else{regioncampusname=value.campus_name;}}
let tmpnametitle=[];let campusextra=0;if(value.city!==null&&value.city!==undefined&&typeof value.city==="object"&&value.city.length>1){$.each(city,(indexdes,valuedes)=>{if(value.campus_name[indexdes+1]!==null&&value.campus_name[indexdes+1]!==undefined&&valuedes!==""&&value.campus_name[indexdes+1]!==null&&value.campus_name[indexdes+1]!==undefined&&value.campus_name[indexdes+1]!==""){campusextra++;tmpnametitle+=`<li>${
value.campus_name[indexdes+1]
}, ${valuedes}, ${studydestination}</li>`;}});}
if(campusextra>0){regionCounters=`+${campusextra}`;}
regionlocationsfull=tmpnametitle;let DataElement="";let DataElementClasshideshow="d-none";const tempData=[];if(value.program_attributes.Scholarships!==undefined&&value.program_attributes.Scholarships.toLowerCase()=="no"){delete value.program_attributes.Scholarships;}
$.each(value.program_attributes,(indexnew,valuenew)=>{if(valuenew===null||valuenew===""){valuenew="-";}
let partElement="";if(fontdatandtitlesuniv_prog.hasOwnProperty(indexnew)){partElement=`<li class="res-outp" title="${fontdatandtitlesuniv_prog[indexnew][0]}">
              <span class="light-text">${fontdatandtitlesuniv_prog[indexnew][0]}</span>
              <span>${valuenew}</span>
            </li>`;DataElementClasshideshow="";}else{partElement=`<li class="res-outp" title="${indexnew}"><span class="light-text">${indexnew}</span>
              <span tile="${valuenew}"> ${valuenew} </span>
            </li>`;DataElementClasshideshow="";}
tempData.push(partElement);});DataElement=tempData.join("");let backgroundimg="/themes/custom/tu_d8/images/default_profile_pic.jpg";const[backimage]=galleryimages;const[backvideo]=galleryvideos;if(galleryvideos!==""&&galleryvideos.length>0){const youtbimg=Drupal.behaviors.tu_d8.youtube_parser(backvideo);backgroundimg=`https://img.youtube.com/vi/${youtbimg}/0.jpg`;}else if(galleryimages!==""&&galleryimages.length>0){backgroundimg=backimage;}
let buttontype="";let modalshow="";if(drupalSettings.user.uid>0&&value.subscription_btn_type==="apply"){modalshow=`data-toggle="modal" data-target="#user-global-application-form" apidatatype="${apidatatype1}"
          onclick="Drupal.behaviors.tu_d8._g8FormValueSetProgramsDir(this, ${value.nid})"`;}else{modalshow=`data-toggle="modal" data-target="#user-global-reg" data-stab="#user_join_us" apidatatype="${apidatatype1}"
          onclick="Drupal.behaviors.tu_d8._g8FormValueSetProgramsDir(this, ${value.nid})"`;}
if(value.is_applied===true){modalshow="";}
if(value.subscription_btn_type==="apply"){if(value.is_applied===true){buttontype=`<div class="applied">
                            <a href="javascript:void(0)" data-redirection="/apply/program"
                onclick="Drupal.behaviors.tu_d8.getCompareContentShowmodal(this, '', 'apply')">
                              <i class="fal fa-check-circle"></i> Applied
                            </a>
                          </div>`;}else if(value.is_applylater===true){buttontype=`<div class="_ready_to_apply">
                          <a class="padding-ready-apply" href="javascript:void(0)" data-redirection="/apply/program"
                onclick="Drupal.behaviors.tu_d8.getCompareContentShowmodal(this, '', 'apply')">
                            <i class="fal fa-times-circle"></i> Ready to apply
                          </a>
                        </div>`;}else{buttontype=`<div class="apply apply_datalayerjs">
                            <a ${modalshow}>
                              <i class="fal fa-paper-plane"></i> Apply
                            </a>
                        </div>`;}}
if(value.subscription_btn_type==="get_in_touch"){if(value.is_getintouched!==true){buttontype=`<div class="getInTouch getintouch_datalayer_js">
                          <a ${modalshow}>
                            <i class="fal fa-envelope"></i> Get in touch
                          </a>
                        </div>`;}else{buttontype=`<div class="detailSent">
                          <a> <i class="fal fa-check-circle"></i>Details sent</a>
                        </div>`;}}
if(value.subscription_btn_type==="know_more"){if(value.is_getintouched!==true){buttontype=`<div class="knowMore knowmore_datalayer_js">
                          <a ${modalshow}> <i class="fal fa-comment-dots"></i> Know More</a>
                        </div>`;}else{buttontype=`<div class="detailSent">
                            <a>
                              <i class="fal fa-check-circle"></i>Details sent
                            </a>
                          </div>`;}}
let isaddedCompare="";let tempunicookie=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsPrograms");if(tempunicookie!=null&&tempunicookie!==""){tempunicookie=tempunicookie.split(",");if($.inArray(value.nid,tempunicookie)!==-1){isaddedCompare="active";}}
let isaddedshortlist="";let isaddedShortlistText="Shortlist";if(value.is_shortlisted===true){isaddedshortlist="active";isaddedShortlistText="Shortlisted";}
let galleryVisibleclassvideo="";if(value.subscription_name==undefined){value.subscription_name="";}
if(value.gallery_videos.length===0||value.subscription_name=="basic"||value.subscription_name=="basic_cmt"){galleryVisibleclassvideo="d-none";}
let galleryvisibleclassimage="";if(value.gallery_images.length===0){galleryvisibleclassimage="d-none";}
const universitylogo=value.logo;let hideifnolocation="";if(regioncampusname==""&&regionlocations==""&&studydestination==""){hideifnolocation="d-none";}
let qswurtext="QS World University Ranking"
if(drupalSettings.qs_global_site_search.site_arg!==undefined&&drupalSettings.qs_global_site_search.site_arg!==null&&drupalSettings.qs_global_site_search.site_arg=="TopMBA.com"){qswurtext="QS Global MBA Rankings"}
const programtemplate=$("#_programCardTemplate").html().replace(/::galleryVisibleClass_image::/g,galleryvisibleclassimage).replace(/::recommended_class::/g,recommendedclass).replace(/::backgroundimg::/g,backgroundimg).replace(/::university_logo::/g,universitylogo).replace(/::galleryVisibleClass_video::/g,galleryVisibleclassvideo).replace(/::index::/g,index).replace(/::program_name::/g,programname).replace(/::program_url::/g,programurl).replace(/::uni_name::/g,uniname).replace(/::uni_url::/g,uniurl).replace(/::region_campus_name::/g,regioncampusname).replace(/::study_destination::/g,studydestination).replace(/::regionlocations::/g,regionlocations).replace(/::regionlocations_full::/g,regionlocationsfull).replace(/::regionCounters::/g,regionCounters).replace(/::rankdata::/g,rankingsposition).replace(/::qsStars::/g,qsstars).replace(/::DataElement::/g,DataElement).replace(/::button_type::/g,buttontype).replace(/::is_addedShortlist::/g,isaddedshortlist).replace(/::isaddedShortlistText::/g,isaddedShortlistText).replace(/::is_addedCompare::/g,isaddedCompare).replace(/::nid::/g,value.nid).replace(/::unilistdnone::/g,uniListDnone).replace(/::qswurtext::/g,qswurtext).replace(/::rankdataDnone::/g,rankdataDnone).replace(/::apidatatype::/g,apidatatype1).replace(/::qsStarsDnone::/g,qsStarsDnone).replace(/::DataElementClasshideshow::/g,DataElementClasshideshow).replace(/::_applyprogramurlDashboardURL::/g,_applyprogramurlDashboardURL).replace(/::hideifnolocation::/g,hideifnolocation);$(`#${idtoappend}`).append(programtemplate);},_setPaginationforCardsShortlist(numberofitems,perpage,pageno,totalcounter){const pagesdependent=$(window).width();let displayedpagesvar=3;if(pagesdependent>990){displayedpagesvar=3;}else{displayedpagesvar=2;}
$("#alt-style-pagination-shortlist").pagination({items:numberofitems,itemOnPage:perpage,currentPage:pageno,href:false,ellipsePageSet:false,displayedPages:displayedpagesvar,cssStyle:"",prevText:'<span aria-hidden="true"><i class="fal fa-chevron-left"></i></span>',nextText:'<span aria-hidden="true"><i class="fal fa-chevron-right"></i></span>',onInit(){$("#alt-style-pagination-shortlist").removeClass("d-none");$("#alt-style-pagination-shortlist li").removeClass("d-none");if(pageno===1){$("#alt-style-pagination-shortlist li:first").addClass("d-none");}
if(pageno===numberofitems){$("#alt-style-pagination-shortlist li:last").addClass("d-none");}
if(totalcounter<=perpage){$("#alt-style-pagination-shortlist").addClass("d-none");}},onPageClick(page){$("#pagenumberidshortlist").val(page);Drupal.behaviors.tu_d8.gotourldivunivQS("univListingCards_shortlist");Drupal.behaviors.tu_d8.getshortlistinModal();$("#alt-style-pagination-shortlist li").removeClass("d-none");if(page===1){$("#alt-style-pagination-shortlist li:first").addClass("d-none");}
if(page===numberofitems){$("#alt-style-pagination-shortlist li:last").addClass("d-none");}}});},openGallerywithID(apitype,coreid,type){let allapiData="";let endpointurl="";if(apitype==="university"||apitype==="universities"||apitype==="university_dashboard"){endpointurl=`/university/endpoint?university=[${coreid}]`;}else if(apitype==="program"||apitype==="programs"||apitype==="program_dashboard"){endpointurl=`/program/endpoint?programs=[${coreid}]`}
$.ajax({type:"GET",url:endpointurl,dataType:"json",success(data){allapiData=data;const scrollBarWidth=window.innerWidth-document.body.offsetWidth;$("body").css({marginRight:scrollBarWidth,overflow:"hidden"});$(".body_resize_modal").removeClass("d-none");const classtopass=`${type}_${allapiData.data[0].nid}`;if($(`#html5gallery_js_${classtopass}`).length===0){const HTMLDOM=`${'<div style="display:none;margin:0 auto;" id="html5gallery_js_'}${classtopass}"`+
`class="html5gallery_js"`+
`data-onchange="onSlideChange"`+
`data-onthumbclick="onThumbClick"`+
`data-skin="gallery"`+
`data-responsive="true"`+
`data-resizemode="fill"`+
`data-html5player="true"`+
`data-autoslide="false"`+
`data-autoplayvideo="false"`+
`data-width="800"`+
`data-height="450"`+
`data-effect="fadeout"`+
`data-shownumbering="false"`+
`data-numberingformat="%NUM of %TOTAL - ">`+
`</div>`;$("._createHTMLDOM_galleryjs").append(HTMLDOM);const galleryimages=allapiData.data[0].gallery_images;const galleryvideos=allapiData.data[0].gallery_videos;let univtitle="";if(allapiData.data[0].title!==undefined&&allapiData.data[0].title!==null&&allapiData.data[0].title!==""){univtitle=allapiData.data[0].title;}
let Programname="";if(allapiData.data[0].program_name!==undefined&&allapiData.data[0].program_name!==null&&allapiData.data[0].program_name!==""){Programname=allapiData.data[0].program_name;}
const gallerytitlejsuniv=univtitle+Programname;$("._gallery_title_jsuniv").text(gallerytitlejsuniv);if(type==="video"){$.each(galleryvideos,(index,value)=>{value=Drupal.behaviors.tu_d8.youtube_parser(value);$(`#html5gallery_js_${classtopass}`).append(`<a href="https://www.youtube.com/embed/${value}" data-poster="https://i3.ytimg.com/vi/${value}/hqdefault.jpg">`+
`<img src="https://i3.ytimg.com/vi/${value}/hqdefault.jpg" alt="YouTube" data-description="Youtube gallery video">`+
`</a>`);});}
if(type==="image"){$.each(galleryimages,(index,value)=>{$(`#html5gallery_js_${classtopass}`).append(`<a href="${value}">`+
`<img src="${value}" alt="Waves" data-description="${value}">`+
`</a>`);});}}
HTML5GalleryStart();$(".html5gallery_js").addClass("d-none");$(`#html5gallery_js_${classtopass}`).removeClass("d-none");$(`#html5gallery_js_${classtopass}`).html5gallery();$(".html5gallery-right-0").trigger("click");$(".html5gallery-left-0").trigger("click");}});},PerPageSettingsShortlist(univorprog){allapiData=allapiDatauniv;$("#perpageshortlist").val(allapiData.pagerlimit);if($(window).width()>991){if(allapiData.total_count>10&&allapiData.total_count<=24){$(".perpage_dropdown_js_shortlist").dropdown("setup menu",{values:[{value:10,text:"10",name:"10"},{value:25,text:"25",name:"25"}]}).dropdown("set selected",$("#perpageshortlist").val());}else if(allapiData.total_count>24&&allapiData.total_count<=49){$(".perpage_dropdown_js_shortlist").dropdown("setup menu",{values:[{value:10,text:"10",name:"10"},{value:25,text:"25",name:"25"},{value:50,text:"50",name:"50"}]}).dropdown("set selected",$("#perpageshortlist").val());}else{$(".perpage_dropdown_js_shortlist").dropdown("setup menu",{values:[{value:10,text:"10",name:"10"},{value:25,text:"25",name:"25"},{value:50,text:"50",name:"50"},{value:100,text:"100",name:"100"}]}).dropdown("set selected",$("#perpageshortlist").val());}}else{$(".perpage_dropdown_js_shortlist").dropdown("setup menu",{values:[{value:10,text:"10",name:"10"},{value:25,text:"25",name:"25"}]}).dropdown("set selected",$("#perpageshortlist").val());}},universitySearchshortlist(dis,nid){const univ_name=$(dis).find(".shortlisted-university-name").text();$("#shortlisted_university").val(univ_name);$("#shortlisted_university_nid").val(nid);$("._clear-all-shortlist-icon_js").removeClass("d-none");$(".inputshort_pro_js").addClass("active");$(`#show-options-1`).addClass("d-none");Drupal.behaviors.tu_d8.getshortlistinModal();},clearShortlistData(){$(".inputshort_pro_js").removeClass("active");$("#shortlisted_university").val("");$("#shortlisted_university_nid").val("");$("._clear-all-shortlist-icon_js").addClass("d-none");Drupal.behaviors.tu_d8.getshortlistinModal();},noResultsMessage(keyword,datatype){if(keyword===""||keyword===null){$("._user_searchupdate_js").html(`<p>We are sorry but we cannot find any results from the selected filters.
              We recommend modifying the filters to get the best results.</p>`);}else{keyword=decodeURI(keyword);$("._user_searchupdate_js").html(`<p>We are sorry but we cannot find any results with the keyword <b>"${keyword}"</b> Try modifying filters.</p>`);}
if(keyword!==null&&keyword!==undefined&&keyword!==""){$("._user_searchupdate_js_shortlist_univ").html(`<p><i class="fal fa-info-circle"></i>We are sorry but we cannot find any results with the keyword <b>"${keyword}"</b> Try modifying filters.</p>`);}else{if(datatype=="university"){$("._user_searchupdate_js_shortlist_univ").html(`<p>No universities shortlisted!</p>`);}else{$("._user_searchupdate_js_shortlist_univ").html(`<p>No programs shortlisted!</p>`);}}},getAllShortlistedData(type,nid,name){if(type=="program"||type=="programs"||type=="mba-programs"){$("#_shortlistinput_search").attr("placeholder","Search shortlisted program");}else{$("#_shortlistinput_search").attr("placeholder","Search shortlisted university");}
$("#_shortlistinput_search").val("");$("#pagenumberidshortlist").val(1);$("#perpageshortlist").val(1);$("#shortlistdatatype").val(type);$(".link_shortlist_js").removeClass("active");$(`.link_shortlist_js_${type}`).addClass("active");$("._showin_iframes").scrollTop(0);Drupal.behaviors.tu_d8.getCompareContentShowmodal($(".partial_active_js_shortlist"),'','shortlist');Drupal.behaviors.tu_d8.getshortlistinModal("",nid,name);},getshortlistinModal(input,nid,universityname,type){if(input=="clearinput"){$("._shortlistinput").val("");$("._shortlistx").addClass("d-none");$("._postion_Search_new_js_shortlist").removeClass("activecursor");$("._postion_Search_new_js_shortlist").removeClass("d-none");}
$("._loadingforUniv_js_shortlist").removeClass("d-none");$(".no_resultss_js").addClass("d-none");let perpage=$("#perpageshortlist").val();let pagenumber=$("#pagenumberidshortlist").val();let globalsearch=$("._shortlistinput").val();const globalsearchpass=$("._shortlistinput").val();let datatype=type||$("#shortlistdatatype").val();let univnid=$("#shortlisted_university_nid").val();if(nid){univnid=nid;datatype="program";}
$(".link_shortlist_js").removeClass("active");$(`.link_shortlist_js_${datatype}`).addClass("active");if(datatype=="program"||datatype=="programs"){$("#_shortlistinput_search").attr("placeholder","Search shortlisted program");}else{$("#_shortlistinput_search").attr("placeholder","Search shortlisted university");}
if(universityname){$("#shortlisted_university").val(universityname);$("._clear-all-shortlist-icon_js").removeClass("d-none");$(".inputshort_pro_js").addClass("active");}
if(parseInt(perpage)>10){perpage=`&pagerlimit=[${perpage}]`;}else{perpage="";}
if(parseInt(pagenumber)>1){pagenumber=`&page=[${pagenumber}]`;}else{pagenumber="";}
if(globalsearch!==""){globalsearch=`&globalsearch=[${globalsearch}]`;}else{globalsearch="";}
$(".countiszerosearchidejs").addClass("d-none");if(datatype=="program"){$(".countiszerosearchidejs").removeClass("d-none");}
if(univnid){univnid=`&university=[${univnid}]`;}
if(datatype=="program"){$("#show-options-1").empty();$(".countiszerosearchidejs").addClass("d-none");$("#search-vary-sizes").addClass("col-lg-12");$("#search-vary-sizes").removeClass("col-lg-8");$(`#show-options-1`).addClass("d-none");currentRequestGetshortlist=$.ajax({url:"/get-shortlisted-proguni",beforeSend(xhr){if(currentRequestGetshortlist!=null){currentRequestGetshortlist.abort();}}}).done(response=>{if(response&&response.success&&response.data.length>1){$("#univListingCards_shortlist").addClass("margin-top-shortlist-90px");$(".countiszerosearchidejs").removeClass("d-none");$("#show-options-1").addClass("d-none");$("#search-vary-sizes").removeClass("col-lg-12");$("#search-vary-sizes").addClass("col-lg-8");let oneuni="";$.each(response.data,(index,value)=>{oneuni=`<li class="_university-name" onclick="Drupal.behaviors.tu_d8.universitySearchshortlist(this, ${value.nid});">
                            <span class="shortlisted-university-name">${value.title}</span>
                            <span class="shortlisted-counters">${value.programs} programs shortlisted</span>
                          </li>`;$("#show-options-1").append(oneuni);});$("a").on("click",function(){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-openContentModals");});}});}
const formAjaxurl=`/${datatype}/endpoint?myshortlist=[true]${perpage}${pagenumber}${globalsearch}${univnid}`;currentRequestGetUniv=$.ajax({url:formAjaxurl,dataType:"json",beforeSend(){if(currentRequestGetUniv!=null){currentRequestGetUniv.abort();}},success(data){function isScrolledIntoView(elem){const docViewTop=$(window).scrollTop();const docViewBottom=docViewTop+$(window).height();const elemTop=$(elem).offset().top;const elemBottom=elemTop+$(elem).height();return elemBottom<=docViewBottom&&elemTop>=docViewTop;}
let topcss=$(".header").offset().top;topcss+=60;$("._showin_iframes").scroll(()=>{if($(".checkwhenshortlisthidden_js").length>0&&!isScrolledIntoView(".checkwhenshortlisthidden_js")){$(".fixedonshortlist_js").removeClass("d-none");$(".fixedonshortlist_js").css("top",`${topcss}px`);}else{$(".fixedonshortlist_js").addClass("d-none");}});allapiDatauniv=data;if(datatype=="university"){$("._title_for_noresults_js").text("Explore Other Recommended Universities");}else{$("._title_for_noresults_js").text("Explore Other Recommended Programs");}
Drupal.behaviors.tu_d8.noResultsMessage(globalsearchpass,datatype);$("#univListingCards_shortlist").empty();$("._loadingforUniv_js_shortlist").addClass("d-none");setTimeout(()=>{let ii=0;$.each(data.data,(index,value)=>{ii++;if(datatype=="university"){Drupal.behaviors.tu_d8.preprocessdatauniversities(index,value,false,ii,"univListingCards_shortlist","university");}else if(datatype=="program"){Drupal.behaviors.tu_d8.preprocessdataprograms(index,value,false,ii,"univListingCards_shortlist","program");}});$("#_totalcountresults_shortlist").text(allapiDatauniv.total_count);let responseHTML="";let universityText="";let programText="";if(_updatedShortlist_js_univ===1){universityText="University";}else{universityText="Universities";}
if(_updatedShortlist_js_prog===1){programText="Program";}else{programText="Programs";}
if(_updatedShortlist_js_prog>0&&_updatedShortlist_js_univ>0){responseHTML=`<span class="_updatedShortlist_js_univ">${_updatedShortlist_js_univ}</span>
              <span class="_updatedShortlist_js_univ_text">${universityText}</span>
              &amp;
              <span class="_updatedShortlist_js_prog">${_updatedShortlist_js_prog}</span>
              <span class="_updatedShortlist_js_prog_text">${programText}</span>`;}
if(_updatedShortlist_js_univ===0&&_updatedShortlist_js_prog>0){responseHTML=`<span class="_updatedShortlist_js_prog">${_updatedShortlist_js_prog}</span>
                            <span class="_updatedShortlist_js_prog_text">${programText}</span>`;}
if(_updatedShortlist_js_prog===0&&_updatedShortlist_js_univ>0){responseHTML=`<span class="_updatedShortlist_js_univ">${_updatedShortlist_js_univ}</span>
                              <span class="_updatedShortlist_js_univ_text">${universityText}</span>`;}
if(_updatedShortlist_js_univ==0&&_updatedShortlist_js_prog==0){responseHTML=`<span class="_updatedShortlist_js_univ">0</span>
                      <span class="_updatedShortlist_js_univ_text">Universities</span>
                      &amp;
                      <span class="_updatedShortlist_js_prog">0</span>
                      <span class="_updatedShortlist_js_prog_text">Programs</span>`;}
$(".commonheaderdisplayshortlist").html(responseHTML);let pagenois=parseInt(allapiDatauniv.page,10);pagenois+=1;$("#pagenumberidshortlist").val(pagenois);const pagerlimit=parseInt(allapiDatauniv.pagerlimit,10);let uppperlimit=pagerlimit*pagenois;if(uppperlimit>=allapiDatauniv.total_count){uppperlimit=allapiDatauniv.total_count;}
const firstpage=`${[pagerlimit*(pagenois-1)+1]}-${uppperlimit}`;$("#_outoftotalcounts_shortlist").text(firstpage);let allcounters=allapiDatauniv.total_count/pagerlimit;allcounters=Math.ceil(allcounters);Drupal.behaviors.tu_d8._setPaginationforCardsShortlist(allcounters,pagerlimit,pagenois,allapiDatauniv.total_count);$("#resultstextpageshortlist").addClass("d-none");if(allapiDatauniv.total_count>10){$("#resultstextpageshortlist").removeClass("d-none");}
Drupal.behaviors.tu_d8.PerPageSettingsShortlist();$(".no_resultss_js_shortlist").addClass("d-none");if(allapiDatauniv.no_result!==false){$(".no_resultss_js_shortlist").removeClass("d-none");}
$("._updatedShortlist_js_prog_integer").text(allapiDatauniv.program_count);$("._updatedShortlist_js_univ_integer").text(allapiDatauniv.university_count);},20);setTimeout(()=>{Drupal.behaviors.tu_datalayer.attach();},500);}});},hidemodaldiv(modalid){$("body").removeClass("modal-open");$("#user-global-application-form").css("display","none");$(".ui.dimmer.modals.page.transition").css("display","none");$(".ui.dimmer.modals.page.transition").removeClass("visible active");$(".ui.dimmer.modals.page.transition").addClass("hidden");$("body").removeClass("dimmable dimmed scrolling");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuestudy");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-popup_to_show");$(document).ajaxComplete((event,xhr,settings)=>{if(!jQuery("#user-global-application-form").is(":visible")){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuestudy");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");}});},Apply_Popup_Main(prev,current,progURL){dataLayer.push({'event':'Apply_Popup_Main','previous_page_path':document.referrer,'Page_Path':current,'Program_Path':progURL})},Apply_Success_Main(prev,current,progURL){dataLayer.push({'event':'Apply_Success_Main','previous_page_path':document.referrer,'Page_Path':current,'Program_Path':progURL})}};$(".why_join").click(function(){const scrollBarWidth=window.innerWidth-document.body.offsetWidth;$("body").css({marginRight:scrollBarWidth,overflow:"hidden"});$(".body_resize_modal").removeClass("d-none");const classtopass="videoclass";if($(`#html5gallery_js_${classtopass}`).length===0){const HTMLDOM=`${'<div style="display:none;margin:0 auto;" id="html5gallery_js_'}${classtopass}"`+
`class="html5gallery_js"`+
`data-onchange="onSlideChange"`+
`data-onthumbclick="onThumbClick"`+
`data-skin="gallery"`+
`data-responsive="true"`+
`data-resizemode="fill"`+
`data-html5player="true"`+
`data-autoslide="false"`+
`data-autoplayvideo="false"`+
`data-width="800"`+
`data-height="450"`+
`data-effect="fadeout"`+
`data-shownumbering="false"`+
`data-numberingformat="%NUM of %TOTAL - ">`+
`</div>`;$("._createHTMLDOM_galleryjs").append(HTMLDOM);const gallerytitlejsuniv="Why Join";$("._gallery_title_jsuniv").text(gallerytitlejsuniv);const value=Drupal.behaviors.tu_d8.YouTubeGetID($(this).attr("data-video"));$(`#html5gallery_js_${classtopass}`).append(`<a href="https://www.youtube.com/embed/${value}" data-poster="https://i3.ytimg.com/vi/${value}/hqdefault.jpg">`+
`<img src="https://i3.ytimg.com/vi/${value}/hqdefault.jpg" alt="YouTube" data-description="Youtube gallery video">`+
`</a>`);}
HTML5GalleryStart();$(".html5gallery_js").addClass("d-none");$(`#html5gallery_js_${classtopass}`).removeClass("d-none");$(`#html5gallery_js_${classtopass}`).html5gallery();$(".html5gallery-right-0").trigger("click");$(".html5gallery-left-0").trigger("click");});$(".closeGalleryArticles").on("click",()=>{$(".body_resize_modal").addClass("d-none");$("body").css("overflow","");$("body").css("margin-right","");$("#html5gallery-elem-video-0").find("iframe").attr("src","");});$("#views-exposed-form-site-search-landing-page-page-2 .form-submit").hide();$("#views-exposed-form-site-search-landing-page-page-2 #edit-items-per-page").change(()=>{$("#views-exposed-form-site-search-landing-page-page-2 .form-submit").click();});if($("body").is(".node--type-university-profile-postgrad")){$(".block-qs-profile-tabs .nav-tabs").animate({scrollLeft:70},100);}else if($("body").is(".node--type-profile-more-page")){$(".block-qs-profile-tabs .nav-tabs").animate({scrollLeft:130},100);}
$(".mbscrol ul li a#rank").click(()=>{$(".mbscrol .nav-tabs").animate({scrollLeft:0},100);});$(".mbscrol ul li a#staff").click(()=>{$(".mbscrol .nav-tabs").animate({scrollLeft:30},100);});$(".mbscrol ul li a#stars").click(()=>{$(".mbscrol .nav-tabs").animate({scrollLeft:70},100);});$(".mbscrol ul li a#fees").click(()=>{$(".mbscrol .nav-tabs").animate({scrollLeft:150},100);});$(".readl").on("click",()=>{setTimeout(()=>{$([document.documentElement,document.body]).animate({scrollTop:$(".readm").offset().top-450},1000);},300);});$("#del_header_btn").click(()=>{$(".compare-univ").css("display","none");});$("#del_header_btn_mob").click(()=>{$(".compare-univ-mob").css("display","none");});globalCompreUniversities=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsUniversity");globalComprePrograms=Drupal.behaviors.tu_d8.readCookie("STYXKEY_comparidsPrograms");if(globalCompreUniversities!==null&&globalCompreUniversities!==""){globalCompreUniversities=globalCompreUniversities.split(",");$("._updated_CompareURJS").attr("data-redirection",`/${compareUniversityurl}?nids=[${globalCompreUniversities.toString()}]`);$("._compareCountersjs_univ").text(globalCompreUniversities.length);}else{globalCompreUniversities="";}
if(globalComprePrograms!==null&&globalComprePrograms!==""){globalComprePrograms=globalComprePrograms.split(",");$("._updated_CompareURJS_prog").attr("data-redirection",`/${compareProgramurl}?nids=[${globalComprePrograms.toString()}]`);$("._compareCountersjs_prog").text(globalComprePrograms.length);}else{globalComprePrograms="";}
if($(window).width()<992){comparecookieLimit=3;$(".comparecookieLimit").text(comparecookieLimit);$(".comparecookieLimit").text(comparecookieLimit);}
$("._entersubmit").on("keypress",e=>{$("#pagenumberid").val(1);let valueinurl=Drupal.behaviors.tu_d8.getParamvaluefromURL("globalsearch",window.location.href);if(valueinurl!==undefined&&valueinurl!==null&&valueinurl.length>0){valueinurl=true;}
let globarlsearch=$("#search_global").val();if(globarlsearch===undefined||globarlsearch===null){globarlsearch="";}
if((e.which==13&&globarlsearch.length>0)||valueinurl){Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");}
let globarlsearchshort=$("#globalsearchvalue").val();if(globarlsearchshort===undefined||globarlsearchshort===null){globarlsearchshort="";}
if((e.which==13&&globarlsearchshort.length>0)||valueinurl){Drupal.behaviors.univ_prog_filters.settingFormSubmission("","yes");}});$("body").find(".pro_share_kit").removeClass("pos-change");if(globalCompreUniversities.length+globalComprePrograms.length>0){$("body").find(".pro_share_kit").addClass("pos-change");}
if($("#programAppliedCountGlobal").val()!==""&&$("#programAppliedCountGlobal").val()!==undefined){_updatedApplyprog_js=parseInt($("#programAppliedCountGlobal").val());}else{_updatedApplyprog_js=0;}
if($("#universityShortlistCountGlobal").val()!==""&&$("#universityShortlistCountGlobal").val()!==undefined){_updatedShortlist_js_univ=parseInt($("#universityShortlistCountGlobal").val());}else{_updatedShortlist_js_univ=0;}
if($("#programShortlistCountGlobal").val()!==""&&$("#programShortlistCountGlobal").val()!==undefined){_updatedShortlist_js_prog=parseInt($("#programShortlistCountGlobal").val());}else{_updatedShortlist_js_prog=0;}
_updatedShortlist_js=_updatedShortlist_js_univ+_updatedShortlist_js_prog;Drupal.behaviors.tu_d8.footerTrayDisplayConditions();})(jQuery,Drupal);;(function($,Drupal){Drupal.behaviors.tud8_use={attach(){$("._read-moreclick").on("click",function(){const idattr=$(this).attr("myparent");if($(`._read-more-content-js-div-${idattr}`).find(".more-content-js").hasClass("d-none")){$(`._read-more-content-js-div-${idattr}`).find(".more-content-js").removeClass("d-none");$(`._read-more-content-js-div-${idattr}`).find(".less-content-js").addClass("d-none");$(this).text("Read less");}else{$(`._read-more-content-js-div-${idattr}`).find(".more-content-js").addClass("d-none");$(`._read-more-content-js-div-${idattr}`).find(".less-content-js").removeClass("d-none");$(this).text("Read more");}});$(".pgm-layout-one-col").find("div.layout").eq(1).addClass("qs_logos_txt bg_white");$(window).on("load",()=>{if($(".qs_logos_txt.bg_white .float-left").length===0&&$(".qs_logos_txt.bg_white .float-right").length===0){$(".qs_logos_txt.bg_white").remove();}});$(".heart i").click(function(){if($(this).hasClass("fal")){$(this).removeClass("fal");$(this).addClass("fas");}else{$(this).removeClass("fas");$(this).addClass("fal");}});$("body.section-location-guide .layout--onecol .region-guide-block:first-child").prepend("<div class='script-title'><h2>Destination Guides</h2></div>");const starsBlock=$(".univWrapDiv .uni_associates");if(starsBlock.length>0){$(".univWrapDiv").wrapAll("<div class='unvDetail-blocks-wraper'></div>");}else{$(".univWrapDiv").wrapAll("<div class='unvDetail-blocks-wraper no-stars'></div>");}
const assoBlock=$(".section-where-to-study .associate-blk.avail, .node--type-publications .associate-blk.avail");if(assoBlock.length>=1){$(".section-where-to-study .associate-blk.avail, .node--type-publications .associate-blk").wrapAll("<div class='asso-dfp-block-wrapper on'></div>");}else{$(".section-where-to-study .associate-blk.avail, .node--type-publications .associate-blk").wrapAll("<div class='asso-dfp-block-wrapper off'></div>");}
$(".share-icons.uni-header-share").each(function(){$(this).insertAfter(jQuery(this).parents().find(".share_icon"));});$(".card-for-dashboard").click(function(){window.location=$(this).find("a").attr("href");return false;});const similarElem=$(".related_blog_item .qs-article-content-area, .blog_section .pgm_similar .similar_container .card-body, .pgm_similar .similar-programs .similar_program_item .card-body, .pgm-layout-one-col .similar-programs .card, .blog_section .blog_content .related_blog_item .card-body, .blog_section .blog_content .guide_item .card-body, .blog_section .blog_content .similar_program_item .card-body");let maxHeight=0;similarElem.each((idx,elem)=>{maxHeight=Math.max(maxHeight,$(elem).height());});similarElem.height(maxHeight);const ucDetailsBox=$(".cd-products-table .features .top-info-empty, .cd-products-table .cd-products-wrapper ul.cd-products-columns li.product ul li.uc_details, .cd-products-table .cd-products-wrapper ul.cd-products-columns li.product ul li.add_u_compare");let ucHeight=0;ucDetailsBox.each((idx,elem)=>{ucHeight=Math.max(ucHeight,$(elem).height());});ucDetailsBox.height(ucHeight);const emptyStarsBlock=$(".pgm-layout-one-col .layout--qsstacked .similar-programs .views-element-container .view-similar-programs");if($.trim(emptyStarsBlock.text())===""){emptyStarsBlock.parents().find(".profile-menu-target").remove();}
const feedsColumn=$(".node--type-master-profile .node__content .layout--onecol .layout__region--content, .node--type-master-profile .node__content .layout--onecol .layout__region--content,.node--type-programs .node__content .layout--onecol .layout__region--content, .node--type-programs .node__conten .layout--onecol .layout__region--content, .node--type-university-profile-postgrad .node__content  .layout--onecol .layout__region--content");feedsColumn.removeClass('socialOn socialOff');let titleBulp=false;setTimeout(()=>{if($('.block-twitter-block').length>0){$('.block-twitter-block').parent().addClass('socialOn');}
if($('.block-facebook-block').length>0){$('.block-facebook-block').parent().addClass('socialOn');}
if($('.block-twitter-block').length==0&&$('.block-facebook-block').length==0){$('#program-ielts').parent().addClass('socialOff');}
if($('.block-twitter-block').length==1&&$('.block-facebook-block').length==1){$('.feeds-title:eq(1)').addClass('hideTitle');}},800);$('.mbscrol .nav a:first').tab('show');const ComparePopup=$("#compareprogramPopup");setTimeout(()=>{if($("body.path-compare-universities.user-logged-in").length){sessionStorage.removeItem("compare_programs");if(sessionStorage.getItem("compare_universities")===null){$(ComparePopup).modal("show");sessionStorage.setItem("compare_universities",true);}}else if($("body.path-compare-programs.user-logged-in").length){sessionStorage.removeItem("compare_universities");if(sessionStorage.getItem("compare_programs")===null){$(ComparePopup).modal("show");sessionStorage.setItem("compare_programs",true);}}},8000);if($("body.path-compare-universities.user-logged-in").length===0&&$("body.path-compare-programs.user-logged-in").length===0){sessionStorage.removeItem("compare_programs");sessionStorage.removeItem("compare_universities");}
$("#compareprogramPopup").on("hidden.bs.modal",e=>{setTimeout(()=>{if($(".modal").hasClass("show")){$("body").addClass("modal-open");}},100);});$(".shortlist_div ._addtocompareFAL").on("click",()=>{$("body").find(".pro_share_kit").toggleClass("pos-change");});$(document).ready(function(){$('.node--type-article .block-share-block-popup.block .share-icons i').on('click',function(){$(this).parents().eq(3).css('z-index','initial');});$(".share-icons .uni-header-share #myModal").on("hidden.bs.modal",()=>{$('.node.node--type-article .article_node_template>.qs-layout--twocol-section--25-75 .row .col-lg-8').css('z-index','3');});$('.tools._join_us .reg-log-popup, .tools._join_us .reg-log-popup a').on('click',function(e){$(this).find("a").attr("href","javascript:void(0)")
let emailValue=jQuery(this).siblings('.form-control').val();$('#user-global-reg .form-group.anim_lab').addClass('_prePopulate')
$('#user-global-reg .js-form-type-email input').val(emailValue).addClass("y").focus().trigger('change');});$(window).scroll(function(){var width=$('.block-dfp iframe').attr("width");if($(".block-dfp iframe").css('max-width')!=width){$('.block-dfp iframe').css("max-width",width+"px");}});setTimeout(function()
{$('.block-dfp iframe').each(function(){if($(this).attr('width')=='728'){$(this).addClass('_frame_728');}else{$(this).addClass('_frame_970');}})
$("iframe").css("visibility","visible");},3000);$('#aptabs li:first-child a').addClass('active');$('#aptabs li a').on("click",function(){$("#aptabs").find(".active").removeClass("active");$(this).addClass("active");});$('.avail_prog .tab-content .tab-pane:first-child').tab('show');$("#edit-preferred-program-type .js-form-type-checkbox .jcf-checkbox").change(function(){$("#edit-preferred-program-type .js-form-type-checkbox").find("label").removeClass("disabled");setTimeout(()=>{if($("#edit-preferred-program-type .js-form-type-checkbox .jcf-checked").length==3){$("#edit-preferred-program-type .js-form-type-checkbox").each(function(index,value){if($(value).find("label").hasClass("jcf-label-active")){$(value).find("label").removeClass("disabled");}else{$(value).find("label").addClass("disabled");}});}},100);});});$("#desktop-sticky-menu").hide();$(()=>{$(window).scroll(()=>{$("#desktop-sticky-menu").hide();let scrollPos;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Opera Mobile|Kindle|Windows Phone|PSP|AvantGo|Atomic Web Browser|Blazer|Chrome Mobile|Dolphin|Dolfin|Doris|GO Browser|Jasmine|MicroB|Mobile Firefox|Mobile Safari|Mobile Silk|Motorola Internet Browser|NetFront|NineSky|Nokia Web Browser|Obigo|Openwave Mobile Browser|Palm Pre web browser|Polaris|PS Vita browser|Puffin|QQbrowser|SEMC Browser|Skyfire|Tear|TeaShark|UC Browser|uZard Web|wOSBrowser|Yandex.Browser mobile/i.test(navigator.userAgent)){scrollPos=380;}else{scrollPos=260;}
if($(window).scrollTop()>scrollPos){$("#desktop-sticky-menu").show();}else{$("#desktop-sticky-menu").fadeOut("slow");}});$("#desktop-sticky-menu ul").each(function(){const max=1;if($(this).find("li").length>max){$(this).find(`li:gt(${max})`).hide().end().prepend('<li class="sub_accordian"><span class="show_more">(see more)</span></li>');$(".sub_accordian").click(function(){$(this).siblings(`:gt(${max})`).toggle();if($(".show_more").length){$(this).html('<span class="show_less">...</span>');}else{$(this).html('<span class="show_more">...</span>');}});}});});const dash_saved_count=$(".user-profile .view-saved-article.view-display-id-block_4 .view-header").text();const dash_rec_count=$(".user-profile .view-saved-article.view-display-id-block_6 .view-header").text();const dash_cont_count=$(".user-profile .view-saved-article.view-display-id-block_5 .view-header").text();const save_text=$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").text();const rec_text=$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").text();const cont_text=$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").text();const article_saved_count=$("#quicktabs-aricle_tab .view-saved-article.view-display-id-block_1 .view-header").text();const article_rec_count=$("#quicktabs-aricle_tab .view-saved-article.view-display-id-block_3 .view-header").text();const article_cont_count=$("#quicktabs-aricle_tab .view-saved-article.view-display-id-block_2 .view-header").text();const article_save_text=$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").text();const article_rec_text=$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").text();const article_cont_text=$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").text();$(()=>{$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li a").find("span").remove();$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li a").find("span").remove();if(save_text){if(dash_saved_count>99){$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").append('<span class="_counter" data-count="99">99</span>');}else{$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").append(`<span class="_counter" data-count="${dash_saved_count}">${dash_saved_count}</span>`);}}
if(rec_text){if(dash_rec_count>99){$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").append('<span class="_counter" data-count="99">99</span>');}else{$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").append(`<span class="_counter" data-count="${dash_rec_count}">${dash_rec_count}</span>`);}}
if(cont_text){if(dash_cont_count>99){$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").append('<span class="_counter" data-count="99">99</span>');}else{$(".articles-wrap .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").append(`<span class="_counter" data-count="${dash_cont_count}">${dash_cont_count}</span>`);}}
if(article_save_text){if(article_saved_count>99){$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").find("span").remove();$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").append('<span class="_counter" data-count="99">99</span>');}else{$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").find("span").remove();$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(1) a").append(`<span class="_counter" data-count="${article_saved_count}">${article_saved_count}</span>`);}}
if(article_rec_text){if(article_rec_count>99){$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").find("span").remove();$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").append('<span class="_counter" data-count="99">99</span>');}else{$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").find("span").remove();$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(2) a").append(`<span class="_counter" data-count="${article_rec_count}">${article_rec_count}</span>`);}}
if(article_cont_text){if(article_cont_count>99){$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").find("span").remove();$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").append('<span class="_counter" data-count="99">99</span>');}else{$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").find("span").remove();$("#block-quicktabsaricletab .quicktabs-ui-wrapper ul.list-group li:nth-child(3) a").append(`<span class="_counter" data-count="${article_cont_count}">${article_cont_count}</span>`);}}});$(()=>{$(".progress .progress-bar").each(function(){const finalWidth=parseInt($(this).attr("aria-valuenow"));$(this).css("width","0px").animate({width:`${finalWidth}%`},{duration:800,easing:"linear"});});$(".articles-wrap .article-menu li:first").addClass("active");$(".articles-wrap .article-menu").on("click","li",function(e){e.preventDefault();$(".articles-wrap .article-menu li.active").removeClass("active");$(this).addClass("active");});});$(()=>{const isMobile=window.matchMedia("only screen and (max-width: 991px)").matches;if(isMobile){const tray_height=$(".bottomApplyfooterdivData").height();$(".pos-change").css("margin-bottom",`${tray_height}px`);}});$(document).ready(()=>{$('.top-nav-carousel').carousel({interval:2000})
const hash=window.location.hash;if(hash!==undefined&&hash=="#personalInformation"){$("html, body").animate({scrollTop:$(hash).offset().top});}
$(()=>{$(".uni-profile-pagination #edit-items-per-page").change(function(){$(this).parents().find(".form-actions input").trigger("click");});});let regGuidChar="";if($(window).width()<767){regGuidChar=67;}else{regGuidChar=200;}
let showCharUD=0;if($(window).width()<767){showCharUD=130;}else{showCharUD=520;}
const regGuidellipse="...";const moreTxt="Read More";const lessTxt="Read Less";$(".more, .region-guide-block .des p:last-child, .guide-overview .field--type-text-long, .qs-partners-section .des").each(function(){const content=$(this).html();const textcontent=$(this).text();if($(this).hasClass("more")){regGuidChar=showCharUD;}
if(content.length>regGuidChar){const c=content.substr(0,regGuidChar);const html=`<div class="container"><span>${c}</span>`+
`<span class="moreelipses">${regGuidellipse}</span></div>`;$(this).html(html);$(this).after(`<a href="" class="morelink">${moreTxt}</a>`);$(this).append(`<span class="morecontent">${content}</span>`);}});$(".morelink").click(function(){if($(this).hasClass("less")){$(this).removeClass("less");$(this).html(moreTxt);$(this).prev().children(".morecontent").fadeToggle(300,function(){$(this).prev().fadeToggle(300);});if($(this).prev('.more').length>0){$("html, body").animate({scrollTop:$(this).prev('.more').offset().top-300},1000);}}else{$(this).addClass("less");$(this).html(lessTxt);$(this).prev().children(".container").fadeToggle(300,function(){$(this).next().fadeToggle(300);});}
return false;});$.each($(".dropdown.mobile-menu").find("li.menu-item--active-trail").find("a"),function(index,value){const menuValue=$(this).text();$(this).parents().find(".dropdown.mobile-menu button.dropdown-toggle").text(menuValue);});$(".free-test-menu li a, #dashboard_menu li:last-child a").attr("target","_blank");$.fn.modal.Constructor.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.focus();}},this));};if($("#bottomApplyfooterdiv").length>0){$("footer.footer").addClass("gsack-on");}else{$("footer.footer").removeClass("gsack-on");}
$(".menu--more-links ul li a").addClass(index=>`item-${index}`);window.location.href.indexOf("/node/")==-1;if($(".actionButtons.sticky").length>0&&window.location.href.indexOf("/node/")==-1&&window.location.href.indexOf("/layout")==-1){const stickyTop=$(".actionButtons.sticky").offset().top+520;const isMobile=$(window).width()<767;const visibleActionBtn=isMobile?$(".actionButtons.show-mobile"):$(".actionButtons.show-desktop");const actionBtnTop=$('.stickyBtn-outer').length>0?$('.stickyBtn-outer').offset().top:$('.actionButtons.sticky').offset().top;function isScrolledIntoView(elem){const docViewTop=$(window).scrollTop();const docViewBottom=docViewTop+$(window).height();const elemTop=$(elem).offset().top;const elemBottom=elemTop+$(elem).height();return elemBottom<=docViewBottom&&elemTop>=docViewTop;}
$(window).scroll(()=>{const windowTop=$(window).scrollTop();if(visibleActionBtn.length>0&&(windowTop>actionBtnTop)){visibleActionBtn.addClass("fixed").css("top","60px");}else{visibleActionBtn.removeClass("fixed").css("top","0");}});}
$(".studies-guide-block .nav-tabs li").click(function(){$(".studies-guide-block .nav-tabs li").removeClass("active");$(this).addClass("active");});$("#datepicker").datepicker({beforeShow(input,inst){$(document).off("focusin.bs.modal");setTimeout(()=>{$("#ui-datepicker-div").insertAfter($("#datepicker"));if($("#datepicker").hasClass("top65px")){$("#ui-datepicker-div").css({position:"absolute",top:"65px",left:"16px"});}else{$("#ui-datepicker-div").css({position:"absolute",top:"85px",left:"16px"});}},100);},onClose(){$(document).on("focusin.bs.modal");},dateFormat:"dd/mm/yy",maxDate:"0",changeMonth:true,changeYear:true,yearRange:"-100:+0"});$("#datepicker").keydown(e=>{e.preventDefault();});$('.node--type-programs .layout--twocol-section--33-67 .layout__region--first, .node--type-master-profile .layout--twocol-section--33-67 .layout__region--first').each(function(){if($(this).find('.issocial').length>0){$(this).add(this).parent().addClass('withFeeds')}})
if($(".node--type-master-profile .layout--twocol-section .issocial").length>0){$(this).closest(".block-latest-feeds").find(".content").remove();}else{$(".node--type-master-profile .layout--twocol-section .layout__region--first").remove();}
if($(".node--type-programs .layout--twocol-section .issocial").length>0){$(this).closest(".block-latest-feeds").find(".content").remove();}else{$(".node--type-programs .layout--twocol-section .layout__region--first").remove();}
if(window.location.pathname.indexOf("/user/reset/")!=-1){$("#edit-pass-pass1").attr("placeholder","New Password*");$("#edit-pass-pass2").attr("placeholder","Confirm New Password*");$("form#user-form #edit-submit").val("Save and log in");}});$("._tabSwitchClick").on("click",function(){const idname=$(this).attr("hashtag");$(`#${idname}`).trigger("click");});$(document).ready(()=>{$(".ui.create_semanticuidropdown").dropdown();$("#review-gender button").click(function(){$("#review-gender button").not(this).removeClass("active-info");$(this).toggleClass("active-info");});$("#start-date button").click(function(){$("#start-date button").not(this).removeClass("active-info");$(this).toggleClass("active-info");});$("#apply-gender button").click(function(){$("#apply-gender button").not(this).removeClass("active-info");$(this).toggleClass("active-info");});$("#apply-start-date button").click(function(){$("#apply-start-date button").not(this).removeClass("active-info");$(this).toggleClass("active-info");});countryCoude();$(".form-item-telephone-country-code .form-select").on("change",countryCoude);function countryCoude(){const str=$("#edit-telephone-country-code option:selected").text();const numsStr=str.replace(/[^0-9]/g,"");if(numsStr){$(".form-item-telephone-country-code.form-group.selected .jcf-select-text").text(`+${numsStr}`);}else{$(".form-item-telephone-country-code.form-group .jcf-select-text").text("Please select");}}
$("a#user_register").click(function(){const $self=$(this);if($self.data("download")==true){Drupal.behaviors.qs_sso.createCookie("STYXKEY-download_id",$self.data("valuenid"));}});$("#success").removeClass("d-block").addClass("d-none");$("#success span").on("click",function(){$(this).parents().find(".guide-msg").removeClass("d-block").addClass("d-none");});if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-can_download_file")!=null){const download_id=Drupal.behaviors.qs_sso.readCookie("STYXKEY-can_download_file");if($(`._ranking-download-btn[data-downloadid='${download_id}']`).length>0){$(`._ranking-download-btn[data-downloadid='${download_id}']:first`)[0].click();const file_url=$(`._ranking-download-btn[data-downloadid='${download_id}']`).attr("href");const file_name=Drupal.behaviors.tud8_use._capitalizeWords($(`._ranking-download-btn[data-downloadid='${download_id}']`).attr("href").split("/").pop().split(".").shift().replace(/[_\s]/g," "));$("#success").removeClass("d-none").addClass("d-block");}
Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-can_download_file");}
$("a._ranking-download-btn").click(function(){$self=$(this);const download_id=$self.data("downloadid");const file_url=$(`._ranking-download-btn[data-downloadid='${download_id}']`).attr("href");const file_name=Drupal.behaviors.tud8_use._capitalizeWords($(`._ranking-download-btn[data-downloadid='${download_id}']`).attr("href").split("/").pop().split(".").shift().replace(/[_\s]/g," "));$("#success").removeClass("d-none").addClass("d-block");});if($(".qs-form-listing-all .forum-topic-listing").length>0){$(".qs-form-listing-all .forum-topic-listing").each((index,element)=>{const searchkey=$(element).data("searchkey");const author=$(element).find(".qs-forum-comment-authors span [typeof='schema:Person']").text();const updated_searhkey=`${searchkey} ${author}`;$(element).attr("data-searchkey",updated_searhkey.toLowerCase());});}
$("input#forumsearch").bind("keyup change",function(e){const $self=$(this);const searched_text=$.trim($self.val()).toLowerCase();if(searched_text.length<3){$(".qs-form-listing-all .forum-topic-listing").removeClass("d-none");$(".qs-form-listing-all .forum-no-result").addClass("d-none");}
else if(searched_text.length>=3){$(".qs-form-listing-all .forum-topic-listing").each((index,element)=>{if($(element).attr("data-searchkey").indexOf(searched_text)===-1){$(element).addClass("d-none");}else{$(element).removeClass("d-none");$(".qs-form-listing-all .forum-no-result").addClass("d-none");}});if($(".qs-form-listing-all .forum-topic-listing:visible").length==0){$(".qs-form-listing-all .forum-no-result").removeClass("d-none");}else{$(".qs-form-listing-all .forum-no-result").addClass("d-none");}}});if(window.location.pathname.indexOf("/forum/")!==-1){$("form#views-exposed-form-forum-search-forum-search").css("display","none");}
if($("input#topicssearch").length>0){if($("form#views-exposed-form-forum-search-forum-search").length>0){$(".commenting-on-qna nav").css("display","none");}}else{}
$("input#topicssearch").bind("keyup change keypress",function(e){const $self=$(this);const searched_text=$.trim($self.val());if($("form#views-exposed-form-forum-search-forum-search input.form-control").length>0){$("form#views-exposed-form-forum-search-forum-search input.form-control").val(searched_text);const keycode=e.keyCode?e.keyCode:e.which;if(keycode=="13"){$("form#views-exposed-form-forum-search-forum-search input[type='submit']").click();$("body").append('<div class="ajax-loader" style=" text-align: center; background: rgba(255,255,255, 0.5); width: 100%; height: 100%; position: fixed; top: 0; left: 0; "><img src="/themes/custom/tu_d8/images/loader.gif" alt="Loader" style=" position: absolute; top: 50%; "></div>');$(document).ajaxComplete(()=>{$("body .ajax-loader").remove();});}}});});$("#user-global-reg").on("hide.bs.modal",()=>{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-download_id");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-user-global-reg");});},_capitalizeWords(str){return str.replace(/\w\S*/g,txt=>txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase());}};})(jQuery,Drupal);;(function($,Drupal){Drupal.behaviors.menu_behavior={attach(){$("#top_menu.tm li li").on('mouseenter mouseleave',function(e){if($('ul',this).length){var subUl=$('ul:first',this);var offVal=subUl.offset();var leftPos=offVal.left;var bottomPos=offVal.bottom;var subUlWidth=subUl.width();var subUlHeight=subUl.height();var docH=$("#page-wrapper").height();var docW=$("#page-wrapper").width();var isEntirelyVisible=(leftPos+subUlWidth<=docW);var isHeightVisible=(bottomPos+subUlHeight<=docH);if(!isEntirelyVisible){$(this).addClass('edge');}else if(!isHeightVisible){$(this).addClass('bottomEdge');}else{$(this).removeClass('edge bottomEdge');}}});Drupal.menu_behavior={};$('nav#top_menu.tm .dropdown-menu .dropdown-submenu a').on('click',function(e){e.stopPropagation();});}};})(jQuery,Drupal);;(function($,Drupal){Drupal.behaviors.qs_user_profile={attach:function(context,settings){$("#user-details-apply-form").on("submit",function(){let tempProgURLCookie=Drupal.behaviors.tu_d8.readCookie("STYXKEY-prog_url");let prev=document.referrer;let current=window.location.href;let nid=Drupal.behaviors.tu_d8.readCookie("STYXKEY-valuenid");if(nid!==undefined&&nid!==null){$.get(`/program/endpoint?programs=[${nid}]`).done(function(data){let prev=document.referrer;let current=window.location.href;let progURL=data.data[0].program_url;Drupal.behaviors.tu_d8.createCookie("STYXKEY-prog_url",progURL,1);Drupal.behaviors.tu_d8.Apply_Success_Main(prev,current,progURL);});}
Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-prog_url");});$('select[name="intended_study_level"]').on("change",function(){if($(this).val()=="MBA"){$(".area-specialisation > fieldset").show();$(".preferred-prog-tp > fieldset").show();$('select[name="area_of_specialisation"]').parents("fieldset:first").prev("p").removeClass("d-none");$('select[name="preferred_program_type"]').parents("fieldset:first").prev("p").removeClass("d-none");}else{$(".preferred-prog-tp > fieldset").hide();$(".area-specialisation > fieldset").hide();$('select[name="area_of_specialisation"]').parents("fieldset:first").prev("p").addClass("d-none");$('select[name="preferred_program_type"]').parents("fieldset:first").prev("p").addClass("d-none");}});$("#applicationSubmit, #applicationSaved, #applicationDataSaved, #user-global-reg").on("hide.bs.modal",()=>{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuestudy");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-popup_to_show");$(document).ajaxComplete((event,xhr,settings)=>{if(!jQuery("#user-global-application-form").is(":visible")){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuestudy");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");}});});$("#applicationSubmit, #applicationSaved, #applicationDataSaved").on("shown.bs.modal",()=>{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-popup_to_show");});$("#user-global-application-form").on("hide.bs.modal",()=>{if(!$("#user-global-application-form .review-section").hasClass("d-none")){Drupal.behaviors.qs_user_profile._goToPrevState();}else{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuestudy");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-popup_to_show");}
Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-Datalayerpath_apply");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-Datalayerpath_apply_loggedin");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyJoinPopUpSuccess");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenidnew");});$(document).ready(function(){setTimeout(()=>{$.each($("select"),(i,dis)=>{if($(dis).attr("valueof")!==undefined&&$(dis).attr("valueof")!==null&&$(dis).attr("valueof")!==""&&$(dis).attr("valueof").length>0){const tempvalue=$(dis).attr("valueof").split(",");const classname=$(dis).attr("id");$(`.${classname}`).dropdown("clear");$(`.${classname}`).dropdown("set selected",tempvalue);setTimeout(()=>{const visiblelabels=$(`.${classname}`).find("a.label:visible").length;const valuelength=$(dis).val().length;const showmorlength=valuelength-visiblelabels;if(showmorlength==0){$(dis).parent().find("._plus_more").addClass("hide-this");}},100);}});},1000);$('#edit-grading-score').on("change",()=>{Drupal.behaviors.qs_user_profile._validateGradingScores();});$('select[name="grading"]').on("change",()=>{Drupal.behaviors.qs_user_profile._validateGradingScores();});$("#user-global-application-form").on("shown.bs.modal",()=>{$('#user-global-application-form fieldset').each(function(){if(!$(this).is(":visible")){$(this).prev("p").addClass("d-none");if(($(this).next().is("fieldset")&&$(this).next().is(":visible"))||($(this).prev().is("fieldset")&&$(this).prev().is(":visible"))){$(this).parents("div:first").find("p:first").removeClass("d-none");}}});if($("#user-global-application-form .review-section").hasClass("d-none")){Drupal.behaviors.qs_user_profile._checkElementStates();$('#user-global-application-form .modal-content .personal-info').addClass('no-space');}
Drupal.behaviors.qs_user_profile._fillProgInfo();var page_url=window.location.pathname+""+window.location.search;$("#user-details-apply-form").attr("action",page_url);Drupal.behaviors.qs_user_profile._validateGradingScores();setTimeout(function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyAttempt_attemptSign_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyAttempt_attemptSign_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyAttempt_attemptSign_next")=='applyAttempt_attemptSign_next'){dataLayer.push({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess_applyNowPopup','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess_applyNowPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyAttempt_attemptSign_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-applySignPopUpSuccess",'applySignPopUpSuccess',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_joinUs_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_joinUs_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_joinUs_next")=='applynowAttempt_joinUs_next'){dataLayer.push({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess_applyNowPopup','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess_applyNowPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applynowAttempt_joinUs_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-applyJoinPopUpSuccess",'applyJoinPopUpSuccess',1);}},1000);}).on("hidden.bs.modal",()=>{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyAttempt_attemptSign_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applynowAttempt_joinUs_next");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyDirectLoggedin");});var prev_nids=(Drupal.behaviors.qs_sso!=undefined)?Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid'):'';if(prev_nids!=null){var prev_nids_arr=prev_nids.split(",");if($("input.selectApply").length>0&&prev_nids_arr.length>0){$("input.selectApply").each(function(){if($.inArray($(this).data("target")+"",prev_nids_arr)!=-1){$(this).prop("checked",true).change();$(this).parent().next("label").text("Selected");jcf.refreshAll();}});Drupal.behaviors.qs_user_profile._selectCheckAll();}}
if((location.pathname).indexOf("/apply/program")!==-1){}else if(Drupal.behaviors.qs_sso!=undefined&&Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')!=null){if(Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid').split(",").length>1){Drupal.behaviors.qs_sso.eraseCookie('STYXKEY-valuenid');Drupal.behaviors.qs_sso.eraseCookie('STYXKEY-valuekey');}}
if(drupalSettings.user.uid>0&&Drupal.behaviors.qs_sso!=undefined&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-valuekey")==="apply"){if(window.location.pathname.indexOf("/programs")!==-1){$(document).ajaxComplete((event,xhr,settings)=>{if(settings.url.indexOf("/program/endpoint")!==-1){setTimeout(()=>{if(Drupal.behaviors.qs_sso.readCookie("showapplypopup")){$("#user-global-application-form").modal();}
Drupal.behaviors.qs_sso.eraseCookie("showapplypopup");},1500);}});}else if(window.location.pathname.indexOf("/apply/program")===-1){$("#user-global-application-form").modal();Drupal.behaviors.qs_sso.eraseCookie("showapplypopup");}}
$('input[name="diff_nationality"]').on("click",function(){var $obj=$(this);if($obj.is(":checked")){$('#nationality').attr("required","required");}else{$('#nationality').removeAttr("required");$('#nationality').val($('#address_country_new').val()).change();$('#nationality').parent().removeClass("border-danger");$('#nationality').parents("fieldset:first").next("small:first").addClass("d-none");}})});$(window).bind("load",function(){$('input.oneCheckItem').change(function(){var $self=$(this);if(!$self.is(":checked")){var item_id=$self.attr("id");if(typeof item_id!="undefined"){var dependent_field_cls=item_id.replace("edit-","form-item-").replace("test-scores","score");if($("."+dependent_field_cls).length>0&&!$("."+dependent_field_cls).is(":visible")){$("."+dependent_field_cls).find("input").val('');$("."+dependent_field_cls).find("input").removeClass("border-danger");$("."+dependent_field_cls).next("small").addClass("d-none");}}}});});if($("#apply_pgms").find(".selectApply").length==0){$("input#selectAll").attr("disabled","disabled");}
if($("#apply_pgms").find(".selectApply:checked").length==0){$("#apply-programs").attr("disabled","disabled").addClass("disabled");}
if(Drupal.behaviors.qs_sso!=undefined&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-popup_to_show")!=null){$("#"+Drupal.behaviors.qs_sso.readCookie("STYXKEY-popup_to_show")).modal();}
if($("input.selectApply").length>0){$("input.selectApply").on("click",function(){var value_nids='';if($(this).is(":checked")){$(this).parent().next("label").text("Selected");value_nids=value_nids+","+$(this).data('target');if(Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')!=null){var nids_arr=Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid').split(',');nids_arr.forEach((item,i)=>{if($(".apply-wrapper-"+item).length==0){nids_arr.pop(item);}});value_nids=value_nids+","+nids_arr.toString();}
Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuenid",value_nids.replace(/^,|,$/g,''));}else{if(Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')!=null){var existing_nid_vals=Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid');var nids_arr=existing_nid_vals.split(',');nids_arr.forEach((item,i)=>{if($(".apply-wrapper-"+item).length==0){existing_nid_vals.replace(item,"");}});var updated_val=existing_nid_vals.replace($(this).data('target'),"");Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuenid",updated_val.replace(/^,|,$/g,'').replace(/,,/g,','));if($.trim(updated_val)==""){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuenid");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");}}
$(this).parent().next("label").text("Select to Apply");}
if(Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')!=null){Drupal.behaviors.qs_sso.createCookie("STYXKEY-valuekey","apply");}else{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-valuekey");}
Drupal.behaviors.qs_user_profile._selectCheckAll();});}
$(".form-item-telephone-country-code select",context).change(function(){switch($(this).val()){case "br":$('[name="telephone"]').mask("00 00 000 000000000");break;case "cn":$('[name="telephone"]').mask("000 0000 0000000000");break;case "mx":$('[name="telephone"]').mask("00 0000 000000000");break;case "gr":$('[name="telephone"]').mask("0000 00000000000");break;case "ru":$('[name="telephone"]').mask("000 000 00 0000000");break;case "fr":$('[name="telephone"]').mask("0 00 00 00 000000");break;case "tr":$('[name="telephone"]').mask("0000 000 00 00000000");break;case "de":$('[name="telephone"]').mask("0000 000000000000");break;case "ng":$('[name="telephone"]').mask("0000 000 000000000");break;case "my":$('[name="telephone"]').mask("00 000 000000000");break;case "pk":$('[name="telephone"]').mask("0000 0000000000");break;default:$('[name="telephone"]').mask("000 000 00000000");}}).attr("jcf",'{"wrapNative": false, "fakeDropInBody": false, "wrapNativeOnMobile": false, "maxVisibleItems": 5}').trigger("change");},_validateGradingScores(){$('#edit-grading-score').parents("div:first").find(".text-danger").addClass("d-none");$('#edit-grading-score').removeClass("border-danger");var min_val=1;var max_val=10;var grade_score="";var grade_val=$('select[name="grading"]').val();if(jQuery.trim($('#edit-grading-score').val()).length>0){grade_score=Math.ceil($('#edit-grading-score').val());}
if(grade_val==""){$('select[name="grading"]').parent().next('.text-danger').removeClass("d-none");}else if(grade_val=="british_degree"){$('#edit-grading-score').val('');$('#edit-grading-score').removeClass("border-danger");$('#edit-grading-score').removeAttr("min");$('#edit-grading-score').removeAttr("max");$('#edit-grading-score').removeAttr("required");$("select[name='grading_score_brit']").attr("required","required");$(".british-degree-score > fieldset").show();}else{$("select[name='grading_score_brit']").removeAttr("required");$('#edit-grading-score').removeClass("border-danger");$('select[name="grading"]').parent().next('.text-danger').addClass("d-none");$(".british-degree-score > fieldset").hide();if(grade_val=="cgpa_5"){max_val=5;}else if(grade_val=="cgpa_4"){max_val=4;}else if(grade_val=="percentage"){max_val=100;}
$('#edit-grading-score').attr("min",min_val);$('#edit-grading-score').attr("max",max_val);$('#edit-grading-score').keypress(function(event){if((event.which!=46||$(this).val().indexOf('.')!=-1)&&(event.which<48||event.which>57)){event.preventDefault();}});$('#edit-grading-score').attr("required","required");if(grade_score!=""&&((min_val>grade_score)||(max_val<grade_score))){let errselector=$('#grading_val option:selected').text()||$('#grading_val_app_qs option:selected').text();var err_msg=errselector+" value must be between between "+min_val+" & "+max_val;$('#edit-grading-score').parents("div:first").find(".text-danger").removeClass("d-none").html('<i class="fa fa-exclamation-triangle"></i> '+err_msg);$('#edit-grading-score').addClass("border-danger");if($("form#user-details-apply-form").is(":visible")){$("#user-global-application-form button").each(function(){var $self=$(this);if($self.data("event")=="review-details"||$self.data("event")=="apply-now"){$self.addClass("disabled");$self.attr("disabled","disabled");}});}else{$("form:visible").find("input[type='submit']").attr("disabled","disabled");}}else{$('#edit-grading-score').parents("div:first").find(".text-danger").addClass("d-none");$('#edit-grading-score').removeClass("border-danger");if($("form#user-details-apply-form").is(":visible")){$("#user-global-application-form button").each(function(){var $self=$(this);if($self.data("event")=="review-details"||$self.data("event")=="apply-now"){$self.removeClass("disabled");$self.removeAttr("disabled");}});}else{$("form:visible").find("input[type='submit']").removeAttr("disabled");}}}},_selectCheckAll(){if($(".selectApply:visible:checked").length>0&&($(".selectApply:visible").length==$(".selectApply:visible:checked").length)){$("#selectAll").prop("checked",true).change();jcf.refreshAll();}
else{$("#selectAll").prop("checked",false).change();jcf.refreshAll();}
if($("#apply_pgms").find(".selectApply:checked").length==0){$("#apply-programs").attr("disabled","disabled").addClass("disabled");}else{$("#apply-programs").removeAttr("disabled").removeClass("disabled");}},_applyFormAction(dis){var target=$(dis).data("event");var $form=$("#user-details-apply-form");if(target!="apply-later"&&($form.find(":invalid").length>0||!$('input[name="gender"]').is(":checked")))
{$form.find(':valid').each(function(){var $obj=$(this);if($obj.is("fieldset")&&$obj.is(":visible")){if($obj.next("small").length>0){$obj.next("small").addClass("d-none");}else{$obj.parent().find("small").addClass("d-none");}
if($obj.find("input.form-cotrol").length>0){$obj.find("input.form-control").removeClass("border-danger");}else{$obj.find("._semantic_select").removeClass("border-danger");if(($obj.find("._semantic_select select").attr("multiple")!=undefined)&&(typeof($obj.find("._semantic_select select").val())=="object")&&($obj.find("._semantic_select select").val()[0]=="")){$obj.find("._semantic_select").addClass("border-danger");$obj.parent().find("small").removeClass("d-none");}}}
if(($obj.is("input")||$obj.is("select"))&&$obj.hasClass("border-danger")){if(!$obj.parents("fieldset:first").find("small").is(":visible")){$obj.removeClass("border-danger");}}});$form.find(":invalid").each(function(){var $obj=$(this);if($obj.is("fieldset")){if($obj.find("input.form-control").length>0){$obj.find("input.form-control").addClass("border-danger");}else{$obj.find("._semantic_select").addClass("border-danger");}
if($obj.next("small").length>0){$obj.next("small").removeClass("d-none");}else{$obj.parent().find("small").removeClass("d-none");}}});if($('input[name="gender"]').is(":checked")){$('input[name="gender"]').parents('fieldset:first').find(".radio-title").removeClass("border-danger");$('input[name="gender"]').parents('fieldset:first').next("small").addClass("d-none");}else{$('input[name="gender"]').parents('fieldset:first').find(".radio-title").addClass("border-danger");$('input[name="gender"]').parents('fieldset:first').next("small").removeClass("d-none");}}else{if(target=="apply-later"){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyDirectLoggedin")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyDirectLoggedin")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyDirectLoggedin")=='applyDirectLoggedin'){dataLayer.push({'event':'applyNow','Parameter':'applyNowPopup_applyLaterSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'applyNowPopup_applyLaterSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyDirectLoggedin");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyJoinPopUpSuccess")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyJoinPopUpSuccess")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyJoinPopUpSuccess")=='applyJoinPopUpSuccess'){setTimeout(function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")=='applyLater'){dataLayer.push({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess_applyNowPopup_applyLaterSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess_applyNowPopup_applyLaterSuccess','Parameter1':document.referrer,});}
Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyJoinPopUpSuccess");},500);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applySignPopUpSuccess")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applySignPopUpSuccess")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applySignPopUpSuccess")=='applySignPopUpSuccess'){setTimeout(function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")=='applyLater'){dataLayer.push({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess_applyNowPopup_applyLaterSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess_applyNowPopup_applyLaterSuccess','Parameter1':document.referrer,});}
Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applySignPopUpSuccess");},500);}
$form.find("[required='required']").removeAttr("required").addClass("required-removed");jcf.refreshAll();}else if(target!="apply-later"&&$form.find(".required-removed").length>0){$form.find(".required-removed").attr("required","required");jcf.refreshAll();}
if($("#edit-"+target).length>0){$("#edit-"+target).trigger("click");}}
setTimeout(function(){Drupal.behaviors.qs_user_profile.applyFormPatch();},1000);},applyFormPatch(){$.each($("#user-details-apply-form").find(".border-danger"),function(index,value){$(value).parent().removeClass("d-none");$(value).parent().parent().removeClass("d-none");$(value).parent().parent().parent().removeClass("d-none");});},_reviewDetails(){$("#user-global-application-form .details-section").addClass("d-none");$("#user-global-application-form .modal-content").addClass("no_bottom_tray");$("#user-global-application-form .review-section").removeClass("d-none");$('#user-global-application-form .modal-content .personal-info').removeClass('no-space');$(".main-wrapper").removeClass("d-none");$(".main-wrapper, .main-wrapper section, .main-wrapper section .row").children().removeClass("d-none");$('#user-global-application-form fieldset').each(function(){if($(this).is(":visible")){$(this).prev("p").removeClass("d-none");if(($(this).next().is("fieldset")&&$(this).next().is(":visible"))||($(this).prev().is("fieldset")&&$(this).prev().is(":visible"))){$(this).parents("div:first").find("p:first").removeClass("d-none");}}else{if($("#intended_study_level_app_qs").val()=="MBA"){$(".mba-dependent").removeClass("d-none");}else{$(".mba-dependent").addClass("d-none");}}});$("#user-global-application-form").find(".big-text, .paragraph-text, .paragraph-text2, .paragraph-text3").addClass("d-none");},_goToPrevState(){$("#user-global-application-form .details-section").removeClass("d-none");$("#user-global-application-form .modal-content").removeClass("no_bottom_tray");$("#user-global-application-form").find(".big-text, .paragraph-text, .paragraph-text2").removeClass("d-none");$("#user-global-application-form").find(".paragraph-text3").addClass("d-none");Drupal.behaviors.qs_user_profile._checkElementStates();$("#user-global-application-form .review-section").addClass("d-none");$('#user-global-application-form .modal-content .personal-info').addClass('no-space');},_checkElementStates(){$("#user-details-apply-form .has-value").each(function(){if($(this).attr("name")!="undefined"){var parentEle=$(this).parents(".col-sm-12:first");var parentCls=".col-sm-12";if(parentEle.length==0){if($(this).parents(".col-7:first").length>0){parentEle=$(this).parents(".col-7:first");parentCls=".col-7";}else{parentEle=$(this).parents(".col-5:first");parentCls=".col-5";}}
parentEle.addClass("d-none");if(parentEle.prev(parentCls).find("fieldset.has-value").length>0){parentEle.prev(parentCls).addClass("d-none");}
if(parentEle.next(parentCls).find("fieldset.has-value").length>0){parentEle.next(parentCls).addClass("d-none");}
if(parentEle.parent().children(':visible').length==0||parentEle.parent().find(".title-wrapper").length>0){parentEle.parent().addClass("d-none");}
if(parentEle.parents("section:first").children('.row:visible').length==0){parentEle.parents("section:first").addClass("d-none");}
if($(".main-wrapper").children("section").length==$(".main-wrapper").children("section.d-none").length){$(".main-wrapper").addClass("d-none");$("#user-global-application-form").find(".paragraph-text3").removeClass("d-none");}}
const studylevel=$("#intended_study_level_app_qs").val();const studymode=$("#intended_study_mode_app_qs").val();if(studylevel!==undefined&&studylevel!==""&&studymode[0]!=""&&studymode[0]!=undefined&&studymode!==undefined&&studymode!==""){$(".study-preferences").first().find("h3").addClass("d-none");}else{$(".study-preferences").first().find("h3").removeClass("d-none");}});$("#user-details-apply-form .mba-dependent .selectItem").each(function(){if($(this).hasClass("d-none")||$(this).children(':visible').length==0){$(this).addClass("d-none");$(this).parent().addClass("d-none");}});$(document).ajaxComplete((event,xhr,settings)=>{if(settings.url.indexOf("/program/endpoint?programs=")!==-1){setTimeout(function(){if($("#intended_study_level_app_qs").val()=="MBA"){$(".mba-dependent").removeClass("d-none");}else{$(".mba-dependent").addClass("d-none");}
Drupal.behaviors.qs_user_profile._checkElementStates();},2000);}});},_openReviewPopup(){$("#user-global-application-form").modal();Drupal.behaviors.qs_user_profile._reviewDetails();},_openApplyPopup(){if($("#apply_pgms").find(".selectApply:checked").length==0){alert("Please select at-least one program to apply");return false;}
$("#user-global-application-form").modal();Drupal.behaviors.qs_user_profile._fillProgInfo();},_selectAllProgs(){if($("#apply_pgms").find(".selectApply").length>0){if($("#selectAll").is(":checked")){$("#apply_pgms").find(".selectApply").each(function(){if(!$(this).is(":checked")){$(this).click();}});}else{$("#apply_pgms").find(".selectApply").each(function(){if($(this).is(":checked")){$(this).click();}});}}},_fillProgInfo(){if(Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')!=null||Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenidnew')!=null){var p_nids=Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')||Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenidnew');var p_nid_arr=p_nids.split(",");var p_nid=p_nid_arr[0];$("#user-global-application-form").find('button.apply-later:visible').removeClass("d-none");if($(".apply-wrapper-"+p_nid).data("progstatus")=="pending"){$("#user-global-application-form").find('button.apply-later:visible').addClass("d-none");}
var univ_name=$.trim($(".apply-wrapper-"+p_nid+":first").find(".univ-title").text());var prog_name=$.trim($(".apply-wrapper-"+p_nid+":first").find(".apply_univ_name:first").text());if(univ_name==""&&prog_name==""){$.get(`/program/endpoint?programs=[${p_nid}]`).done(function(data){if(data.data!==undefined&&data.data[0]!==undefined&&data.data[0].program_name!==undefined&&data.data[0].uni_name!==undefined){$(".prog-title").text(data.data[0].program_name);$(".prog-univ-title").text(data.data[0].uni_name);}});return false;}
$(".prog-title").text(prog_name);$(".prog-univ-title").text(univ_name);if(p_nid_arr.length>1){$(".prog-count").text((p_nid_arr.length-1)+" other programs");$(".prog-count-wrapper").removeClass("d-none");}}},_fillProgInfoCMT(prog_name,univ_name){if(Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')!=null||Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenidnew')!=null){var p_nids=Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenid')||Drupal.behaviors.qs_sso.readCookie('STYXKEY-valuenidnew');var p_nid_arr=p_nids.split(",");var p_nid=p_nid_arr[0];$(".prog-title").text("");$(".prog-univ-title").text("");$(".prog-title").text(prog_name);$(".prog-univ-title").text(univ_name);}},_profileFormValidate(dis){var target_form_id=$(dis).data("target");if($("#"+target_form_id+":visible").length>0){var $form=$("#"+target_form_id+":visible");if($form.find(":invalid").length>0){$form.find(":invalid").each(function(){var $obj=$(this);if($obj.is("fieldset")&&$obj.is(":visible")){if($obj.find("input").length>0){$obj.find("input").addClass("border-danger");}else{$obj.find("._semantic_select").addClass("border-danger");}
$obj.next("small").removeClass("d-none");}});if($form.find(".border-danger:visible").length==0){Drupal.behaviors.qs_user_profile._reviewDetails();}}
$form.find(':valid').each(function(){var $obj=$(this);if($obj.is("fieldset")){if($obj.find("input").length>0){$obj.find("input").removeClass("border-danger");}else{$obj.find("._semantic_select").removeClass("border-danger");}
$obj.next("small").addClass("d-none");}});}},_redirectToPage(curr_page){$("#redirectTo"+curr_page).modal();},};})(jQuery,Drupal);;(function($){var methods={init(options){const o=$.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:false,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:true,nextAtFront:false,invertPageOrder:false,useStartEdge:true,useEndEdge:true,onPageClick(pageNumber,event){},onInit(){}},options||{});const self=this;o.pages=o.pages?o.pages:Math.ceil(o.items/o.itemsOnPage)?Math.ceil(o.items/o.itemsOnPage):1;if(o.currentPage){o.currentPage-=1;}else{o.currentPage=!o.invertPageOrder?0:o.pages-1;}
o.halfDisplayed=o.displayedPages/2;this.each(()=>{self.addClass(`${o.cssStyle} simple-pagination`).data("pagination",o);methods._draw.call(self);});o.onInit();return this;},selectPage(page){methods._selectPage.call(this,page-1);return this;},prevPage(){const o=this.data("pagination");if(!o.invertPageOrder){if(o.currentPage>0){methods._selectPage.call(this,o.currentPage-1);}}else if(o.currentPage<o.pages-1){methods._selectPage.call(this,o.currentPage+1);}
return this;},nextPage(){const o=this.data("pagination");if(!o.invertPageOrder){if(o.currentPage<o.pages-1){methods._selectPage.call(this,o.currentPage+1);}}else if(o.currentPage>0){methods._selectPage.call(this,o.currentPage-1);}
return this;},getPagesCount(){return this.data("pagination").pages;},setPagesCount(count){this.data("pagination").pages=count;},getCurrentPage(){return this.data("pagination").currentPage+1;},destroy(){this.empty();return this;},drawPage(page){const o=this.data("pagination");o.currentPage=page-1;this.data("pagination",o);methods._draw.call(this);return this;},redraw(){methods._draw.call(this);return this;},disable(){const o=this.data("pagination");o.disabled=true;this.data("pagination",o);methods._draw.call(this);return this;},enable(){const o=this.data("pagination");o.disabled=false;this.data("pagination",o);methods._draw.call(this);return this;},updateItems(newItems){const o=this.data("pagination");o.items=newItems;o.pages=methods._getPages(o);this.data("pagination",o);methods._draw.call(this);},updateItemsOnPage(itemsOnPage){const o=this.data("pagination");o.itemsOnPage=itemsOnPage;o.pages=methods._getPages(o);this.data("pagination",o);methods._selectPage.call(this,0);return this;},getItemsOnPage(){return this.data("pagination").itemsOnPage;},_draw(){let o=this.data("pagination"),interval=methods._getInterval(o),i,tagName;methods.destroy.call(this);tagName=typeof this.prop==="function"?this.prop("tagName"):this.attr("tagName");const $panel=tagName==="UL"?this:$(`<ul${o.listStyle?` class="${o.listStyle}"`:""}></ul>`).appendTo(this);if(o.prevText){methods._appendItem.call(this,!o.invertPageOrder?o.currentPage-1:o.currentPage+1,{text:o.prevText,classes:"prev"});}
if(o.nextText&&o.nextAtFront){methods._appendItem.call(this,!o.invertPageOrder?o.currentPage+1:o.currentPage-1,{text:o.nextText,classes:"next"});}
if(!o.invertPageOrder){if(interval.start>0&&o.edges>0){if(o.useStartEdge){var end=Math.min(o.edges,interval.start);for(i=0;i<end;i++){methods._appendItem.call(this,i);}}
if(o.edges<interval.start&&interval.start-o.edges!=1){$panel.append(`<li class="disabled"><span class="ellipse">${o.ellipseText}</span></li>`);}else if(interval.start-o.edges==1){methods._appendItem.call(this,o.edges);}}}else if(interval.end<o.pages&&o.edges>0){if(o.useStartEdge){var begin=Math.max(o.pages-o.edges,interval.end);for(i=o.pages-1;i>=begin;i--){methods._appendItem.call(this,i);}}
if(o.pages-o.edges>interval.end&&o.pages-o.edges-interval.end!=1){$panel.append(`<li class="disabled"><span class="ellipse">${o.ellipseText}</span></li>`);}else if(o.pages-o.edges-interval.end==1){methods._appendItem.call(this,interval.end);}}
if(!o.invertPageOrder){for(i=interval.start;i<interval.end;i++){methods._appendItem.call(this,i);}}else{for(i=interval.end-1;i>=interval.start;i--){methods._appendItem.call(this,i);}}
if(!o.invertPageOrder){if(interval.end<o.pages&&o.edges>0){if(o.pages-o.edges>interval.end&&o.pages-o.edges-interval.end!=1){$panel.append(`<li class="disabled"><span class="ellipse">${o.ellipseText}</span></li>`);}else if(o.pages-o.edges-interval.end==1){methods._appendItem.call(this,interval.end);}
if(o.useEndEdge){var begin=Math.max(o.pages-o.edges,interval.end);for(i=begin;i<o.pages;i++){methods._appendItem.call(this,i);}}}}else if(interval.start>0&&o.edges>0){if(o.edges<interval.start&&interval.start-o.edges!=1){$panel.append(`<li class="disabled"><span class="ellipse">${o.ellipseText}</span></li>`);}else if(interval.start-o.edges==1){methods._appendItem.call(this,o.edges);}
if(o.useEndEdge){var end=Math.min(o.edges,interval.start);for(i=end-1;i>=0;i--){methods._appendItem.call(this,i);}}}
if(o.nextText&&!o.nextAtFront){methods._appendItem.call(this,!o.invertPageOrder?o.currentPage+1:o.currentPage-1,{text:o.nextText,classes:"next"});}
if(o.ellipsePageSet&&!o.disabled){methods._ellipseClick.call(this,$panel);}},_getPages(o){const pages=Math.ceil(o.items/o.itemsOnPage);return pages||1;},_getInterval(o){return{start:Math.ceil(o.currentPage>o.halfDisplayed?Math.max(Math.min(o.currentPage-o.halfDisplayed,o.pages-o.displayedPages),0):0),end:Math.ceil(o.currentPage>o.halfDisplayed?Math.min(o.currentPage+o.halfDisplayed,o.pages):Math.min(o.displayedPages,o.pages))};},_appendItem(pageIndex,opts){let self=this,options,$link,o=self.data("pagination"),$linkWrapper=$("<li></li>"),$ul=self.find("ul");pageIndex=pageIndex<0?0:pageIndex<o.pages?pageIndex:o.pages-1;options={text:pageIndex+1,classes:""};if(o.labelMap.length&&o.labelMap[pageIndex]){options.text=o.labelMap[pageIndex];}
options=$.extend(options,opts||{});if(pageIndex==o.currentPage||o.disabled){if(o.disabled||options.classes==="prev"||options.classes==="next"){$linkWrapper.addClass("disabled");}else{$linkWrapper.addClass("active");}
$link=$(`<span class="current">${options.text}</span>`);}else{$link=$(`<a href="javascript:void(0)" class="page-link">${options.text}</a>`);$link.click(event=>methods._selectPage.call(self,pageIndex,event));}
if(options.classes){$link.addClass(options.classes);}
$linkWrapper.append($link);if($ul.length){$ul.append($linkWrapper);}else{self.append($linkWrapper);}},_selectPage(pageIndex,event){const o=this.data("pagination");o.currentPage=pageIndex;if(o.selectOnClick){methods._draw.call(this);}
return o.onPageClick(pageIndex+1,event);},_ellipseClick($panel){let self=this,o=this.data("pagination"),$ellip=$panel.find(".ellipse");$ellip.addClass("clickable").parent().removeClass("disabled");$ellip.click(function(event){if(!o.disable){let $this=$(this),val=(parseInt($this.parent().prev().text(),10)||0)+1;$this.html(`<input class="elipse_width" type="number" min="1" max="${o.pages}" step="1" value="${val}">`).find("input").focus().click(event=>{event.stopPropagation();}).keyup(function(event){const val=$(this).val();if(event.which===13&&val!==""){if(val>0&&val<=o.pages){methods._selectPage.call(self,val-1);}}else if(event.which===27){$ellip.empty().html(o.ellipseText);}}).bind("blur",function(event){const val=$(this).val();if(val!==""){methods._selectPage.call(self,val-1);}
$ellip.empty().html(o.ellipseText);return false;});}
return false;});}};$.fn.pagination=function(method){if(methods[method]&&method.charAt(0)!="_"){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}
if(typeof method==="object"||!method){return methods.init.apply(this,arguments);}
$.error(`Method ${method} does not exist on jQuery.pagination`);};})(jQuery);;(function($){Drupal.behaviors.tu_datalayer={attach(context,settings){$(document).ready(()=>{function clearAllcookies(){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowMoreAttempt");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistDirect");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyBtnClicked");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt");Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyJoinPopUpSuccess");}
setTimeout(function(){if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-applyAttempt_attemptSign_next")!==null||Drupal.behaviors.qs_sso.readCookie("STYXKEY-applynowAttempt_joinUs_next")!==null||Drupal.behaviors.qs_sso.readCookie("STYXKEY-applyDirectLoggedin")!==null){$("#user-global-application-form").modal();Drupal.behaviors.qs_user_profile._fillProgInfo();}
if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-knowMoreAttempt")!==null||Drupal.behaviors.qs_sso.readCookie("STYXKEY-KnowmoreDirectLoggedin")!==null||Drupal.behaviors.qs_sso.readCookie("STYXKEY-shortlistClicked_attemptSign_next")!==null||Drupal.behaviors.qs_sso.readCookie("STYXKEY-knowmoreAttempt_attemptSign_next")!==null||Drupal.behaviors.qs_sso.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next")!==null){if($("#g8statusGlobal")==0){$("#user-global-reg").modal("show");}else{const nid=Drupal.behaviors.qs_sso.readCookie("STYXKEY-valuenid");let dataexist=false;if(nid!==undefined&&nid!==null&&nid!==""&&$("body").hasClass("user-logged-in")){$.get(`/university/endpoint?university=[${nid}]`).done(function(data){if(data.data[0]!==undefined&&data.data[0]!==null&&data.data.length>0){if(data.data[0].is_applied===false&&data.data[0].is_getintouched===false){$("#user-global-reg").modal("show");}}else{$.get(`/program/endpoint?programs=[${nid}]`).done(function(datanew){if(data.data[0].is_applied===false&&data.data[0].is_getintouched===false){$("#user-global-reg").modal("show");}else{Drupal.behaviors.tu_d8.eraseAllCookiesDatalayer();}});}});}}}
if($("body").hasClass('modal-open')&&$("#user-global-reg").hasClass("show")){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs_next")=='shortlistClicked_attemptJoinUs_success'){dataLayer.push({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_JoinUs_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortClickJoin_nextG8",'shortClickJoin_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign_next")=='shortlistClicked_attemptSignIn_success'){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_attemptSign_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortClickSign_nextG8",'shortClickSign_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_next")=='knowmoreAttempt_attemptSign_next'){dataLayer.push({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmoreAttempt_attemptSign_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowmoreAttempt_attemptSign_nextG8",'knowmoreAttempt_attemptSign_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next")=='knowmorAttempt_joinUs_next'){dataLayer.push({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmorAttempt_joinUs_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowmorAttempt_joinUs_next_G8",'knowmorAttempt_joinUs_next_G8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next")=='getInTouchAttempt_attemptSignIn_next'){dataLayer.push({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_attemptSign_nextG8",'getInTouchAttempt_attemptSign_nextG8',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next")=='getInTouchAttempt_joinUs_next'){dataLayer.push({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_joinUs_next");Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_joinUs_next_G8",'getInTouchAttempt_joinUs_next_G8',1);}}},3000);if(typeof dataLayer!==undefined){let UUID='';let tutm="TU";if(drupalSettings.qs_global_site_search.site_arg=="TopMBA.com"){tutm="TM";}
let loginstatus='loggedIn';if($("body").hasClass("not-logged-in")){loginstatus='loggedOut';}
if($("body").hasClass("not-logged-in")){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-globaluserUUID")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-globaluserUUID")!==null){UUID=Drupal.behaviors.tu_d8.readCookie("STYXKEY-globaluserUUID");}else{let randomnos=Math.floor(Math.random()*99999999);let currenttimestamp=new Date().getTime();UUID=`${tutm}-${currenttimestamp}-${randomnos}`;Drupal.behaviors.qs_sso.createCookie("STYXKEY-globaluserUUID",UUID,1);}}else{UUID=`${tutm}-${drupalSettings.user.uid}`;Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-globaluserUUID");}
dataLayer.push({'event':'UserStatus','userID':UUID,'user_status':loginstatus});if(window.location.pathname=="/university-finder/student/congratulations"&&$("body").hasClass("not-logged-in")){dataLayer.push({'event':'cmtPopF1','Page_Path':window.location.href});}
if(window.location.pathname=="/university-finder/student/congratulations"&&$("body").hasClass("user-logged-in")&&$("#g8statusGlobal").val()==0){dataLayer.push({'event':'cmtPopF2','Page_Path':window.location.href});}
$(".atsPopF1").on("click",function(){dataLayer.push({'event':'atsPopF1','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-atsPopF1","clicked",1);});$("#user-register-form").on("submit",function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-atsPopF1")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-atsPopF1")!==null){Drupal.behaviors.tu_d8.createCookie("STYXKEY-atsRegisterF1halfway","clicked",1);}});$("#user-register-form").on("submit",function(){if(window.location.pathname=="/university-finder/student/congratulations"){Drupal.behaviors.tu_d8.createCookie("STYXKEY-cmtPopF1","clicked",1);Drupal.behaviors.tu_d8.createCookie("STYXKEY-cmtPopF1halfway","clicked",1);}else{dataLayer.push({'event':'jufPopF1','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-jufPopF1","clicked",1);}});$("#qs-site-step-two-form").on("submit",function(){if(window.location.pathname=="/university-finder/student/congratulations"){Drupal.behaviors.tu_d8.createCookie("STYXKEY-cmtPopF2","clicked",1);}else{dataLayer.push({'event':'jufPopF2','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-jufPopF2","clicked",1);}});$("#user_sign_in .sso-facebook").on("click",function(){if(window.location.pathname=="/university-finder/student/congratulations"){dataLayer.push({'event':'CMT FB Sign_In Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-CMTFBSign_InAttemptTag","clicked",1);}else{dataLayer.push({'event':'Main FB Sign_In Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-MainFBSign_InAttemptTag","clicked",1);}});$("#user_join_us .sso-facebook").on("click",function(){if(window.location.pathname=="/university-finder/student/congratulations"){dataLayer.push({'event':'CMT FB Join_Us Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-CMTFBJoin_UsAttemptTag","clicked",1);}else{dataLayer.push({'event':'Main FB Join_Us Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-MainFBJoin_UsAttemptTag","clicked",1);}});$("#user_join_us .sso-google").on("click",function(){if(window.location.pathname=="/university-finder/student/congratulations"){dataLayer.push({'event':'CMT Google Join_Us Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-CMTGoogleJoin_UsAttemptTag","clicked",1);}else{dataLayer.push({'event':'Main Google Join_Us Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-MainGoogleJoin_UsAttemptTag","clicked",1);}});$("#user_sign_in .sso-google").on("click",function(){if(window.location.pathname=="/university-finder/student/congratulations"){dataLayer.push({'event':'CMT Google Sign_In Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-CMTGoogleSign_InAttemptTag","clicked",1);}else{dataLayer.push({'event':'Main Google Sign_In Attempt Tag','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-MainGoogleSign_InAttemptTag","clicked",1);}});if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-jufPopF1")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-jufPopF1")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-jufPopF1");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'jufRegisterF1','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-jufPopF2")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-jufPopF2")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-jufPopF2");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'jufRegisterF2','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBSign_InAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBSign_InAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTFBSign_InAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'CMT FB Sign_In Success Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBJoin_UsAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBJoin_UsAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTFBJoin_UsAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'CMT FB Join_Us Success Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainFBJoin_UsAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainFBJoin_UsAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-MainFBJoin_UsAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'Main FB Join_Us Success Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainFBSign_InAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainFBSign_InAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-MainFBSign_InAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'Main FB Sign_In Success Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleJoin_UsAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleJoin_UsAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTGoogleJoin_UsAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'CMT Google Join_Us Success Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainGoogleJoin_UsAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainGoogleJoin_UsAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-MainGoogleJoin_UsAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'Main Google Join_Us Success Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainGoogleSign_InAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-MainGoogleSign_InAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-MainGoogleSign_InAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'Main Google Sign_In Success Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleSign_InAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleSign_InAttemptTag")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTGoogleSign_InAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'CMT Google Sign_In Success Tag','Page_Path':window.location.href});}}
if(((Drupal.behaviors.tu_d8.readCookie("STYXKEY-cmtPopF1")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-cmtPopF1")!==null)||(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleJoin_UsAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleJoin_UsAttemptTag")!==null)||(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBJoin_UsAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBJoin_UsAttemptTag")!==null)||(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBSign_InAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTFBSign_InAttemptTag")!==null)||(Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleSign_InAttemptTag")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-CMTGoogleSign_InAttemptTag")!==null))&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-qs_new_user")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-qs_new_user")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-qs_new_user")=='true')){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-cmtPopF1");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTGoogleJoin_UsAttemptTag");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTFBJoin_UsAttemptTag");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTFBSign_InAttemptTag");Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-CMTGoogleSign_InAttemptTag");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'cmtRegisterF1','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-cmtPopF2")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-cmtPopF2")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-cmtPopF2");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'cmtRegisterF2','Page_Path':window.location.href});dataLayer.push({'event':'CMT Actual Results Tag','Page_Path':window.location.href});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-atsRegisterF1halfway")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-atsRegisterF1halfway")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-atsRegisterF1halfway");if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'atsRegisterF1','Page_Path':window.location.href});$("#qs-site-step-two-form").on("submit",function(){dataLayer.push({'event':'atsPopF2','Page_Path':window.location.href});Drupal.behaviors.tu_d8.createCookie("STYXKEY-atsRegisterF2halfway","clicked",1);});}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-atsRegisterF2halfway")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-atsRegisterF2halfway")!==null){Drupal.behaviors.tu_d8.eraseCookie("STYXKEY-atsRegisterF2halfway");dataLayer.push({'event':'atsRegisterF2','Page_Path':window.location.href});}}
$(".shortlistnonloggedglobaljs, .atsPopF1, .shortListornotjs, .shortList").on("click",function(){clearAllcookies();setTimeout(function(){if(!($("body").hasClass("user-logged-in"))){Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked",'guest',1);if($("#user_sign_in_tab").hasClass("active")){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptSignIn','Parameter1':document.referrer,});}else{dataLayer.push({'event':'shortlist','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptJoinUs','Parameter1':document.referrer,});}}else{if($('#g8statusGlobal').val()==1){Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistDirect",'shortlistDirect',1);}else{dataLayer.push({'event':'shortlist','Parameter':'g8FormPopup','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-g8complete_shortlist",'g8complete_shortlist',1);}}},500);});$("#user_sign_in_tab").on("click",function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guest'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guestJoin')){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptSignIn','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked",'guestSign',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='applynowAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='guestJoin')){dataLayer.push({'event':'applyNow','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptSignIn','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-applynowAttempt",'guestSign',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='knowMoreAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='guestJoin')){dataLayer.push({'event':'knowMore','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptSignIn','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowMoreAttempt",'guestSign',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='getInTouchAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='guestJoin')){dataLayer.push({'event':'getInTouch','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptSignIn','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt",'guestSign',1);}});$("#user_join_us_tab").on("click",function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guest'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guestSign')){dataLayer.push({'event':'shortlist','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptJoinUs','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked",'guestJoin',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='applynowAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='guestSign')){dataLayer.push({'event':'applyNow','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptJoinUs','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-applynowAttempt",'guestJoin',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='knowMoreAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='guestSign')){dataLayer.push({'event':'knowMore','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptJoinUs','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowMoreAttempt",'guestJoin',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='getInTouchAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='guestSign')){dataLayer.push({'event':'getInTouch','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptJoinUs','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt",'guestJoin',1);}});$("#user-register-form").on("submit",function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guest'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked_JoinUs",'shortlistClicked_JoinUs',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='applynowAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-applynowAttempt_joinUs",'applynowAttempt_joinUs',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applynowAttempt");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='knowMoreAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-KnowmoreAttempt_joinUs",'KnowmoreAttempt_joinUs',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowMoreAttempt");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='getInTouchAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_joinUs",'getInTouchAttempt_joinUs',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt");}});if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_JoinUs")=='shortlistClicked_JoinUs'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked_JoinUs_next",'shortlistClicked_attemptJoinUs_success',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_JoinUs");}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_joinUs")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_joinUs")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_joinUs")=='applynowAttempt_joinUs'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-applynowAttempt_joinUs_next",'applynowAttempt_joinUs_next',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applynowAttempt_joinUs");}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreAttempt_joinUs")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreAttempt_joinUs")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreAttempt_joinUs")=='KnowmoreAttempt_joinUs'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowmorAttempt_joinUs_next",'knowmorAttempt_joinUs_next',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-KnowmoreAttempt_joinUs");}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs")=='getInTouchAttempt_joinUs'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_joinUs_next",'getInTouchAttempt_joinUs_next',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_joinUs");}}
$("#user-login-form").on("submit",function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guest'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked_attemptSign",'shortlistClicked_attemptSign',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='applynowAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-applynowAttempt_attemptSignIn",'applynowAttempt_attemptSignIn',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applynowAttempt");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='knowMoreAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowMoreAttempt")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-KnowmoreAttempt_attemptSignIn",'KnowmoreAttempt_attemptSignIn',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowMoreAttempt");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")!==null&&(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='getInTouchAttempt'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='guestSign'||Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt")=='guestJoin')){Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_attemptSignIn",'getInTouchAttempt_attemptSignIn',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt");}});if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortlistClicked_attemptSign")=='shortlistClicked_attemptSign'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});if($('#g8statusGlobal').val()==1){Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked_ShortlistNow",'shortlistClicked_ShortlistNow',1);}else{Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortlistClicked_attemptSign_next",'shortlistClicked_attemptSignIn_success',1);}
Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortlistClicked_attemptSign");}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_attemptSignIn")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_attemptSignIn")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applynowAttempt_attemptSignIn")=='applynowAttempt_attemptSignIn'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-applyAttempt_attemptSign_next",'applyAttempt_attemptSign_next',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applynowAttempt_attemptSignIn");}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreAttempt_attemptSignIn")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreAttempt_attemptSignIn")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreAttempt_attemptSignIn")=='KnowmoreAttempt_attemptSignIn'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowmoreAttempt_attemptSign_next",'knowmoreAttempt_attemptSign_next',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-KnowmoreAttempt_attemptSignIn");}}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSignIn")=='getInTouchAttempt_attemptSignIn'){if($("body").hasClass("user-logged-in")){dataLayer.push({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt_attemptSignIn_next",'getInTouchAttempt_attemptSignIn_next',1);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_attemptSignIn");}}
$("#qs-site-step-two-form").on("submit",function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickJoin_nextG8")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickJoin_nextG8")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickJoin_nextG8")=='shortClickJoin_nextG8'){dataLayer.push({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortClickJoin_nextG8");Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortClickJoin_ShortlistBefore",'shortClickJoin_ShortlistBefore',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickSign_nextG8")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickSign_nextG8")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-shortClickSign_nextG8")=='shortClickSign_nextG8'){dataLayer.push({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-shortClickSign_nextG8");Drupal.behaviors.qs_sso.createCookie("STYXKEY-shortClickSign_ShortlistBefore",'shortClickSign_ShortlistBefore',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-g8complete_shortlist")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-g8complete_shortlist")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-g8complete_shortlist")=='g8complete_shortlist'){dataLayer.push({'event':'shortlist','Parameter':'g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'shortlist','Parameter':'g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-g8complete_shortlist");Drupal.behaviors.qs_sso.createCookie("STYXKEY-g8complete_shortlistBefore",'g8complete_shortlistBefore',1);}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_nextG8")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_nextG8")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmoreAttempt_attemptSign_nextG8")=='knowmoreAttempt_attemptSign_nextG8'){dataLayer.push({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});dataLayer.push({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess_knowMoreSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess_knowMoreSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmoreAttempt_attemptSign_nextG8");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next_G8")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next_G8")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-knowmorAttempt_joinUs_next_G8")=='knowmorAttempt_joinUs_next_G8'){dataLayer.push({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});dataLayer.push({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess_knowMoreSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess_knowMoreSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-knowmorAttempt_joinUs_next_G8");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSign_nextG8")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSign_nextG8")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_attemptSign_nextG8")=='getInTouchAttempt_attemptSign_nextG8'){dataLayer.push({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});dataLayer.push({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess_getInTouchSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptSignIn_signInSuccess_g8FormPopup_g8FormSuccess_getInTouchSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_attemptSign_nextG8");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next_G8")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next_G8")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchAttempt_joinUs_next_G8")=='getInTouchAttempt_joinUs_next_G8'){dataLayer.push({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});dataLayer.push({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess_getInTouchSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptJoinUs_joinUsSuccess_g8FormPopup_g8FormSuccess_getInTouchSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchAttempt_joinUs_next_G8");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreDirectLoggedin")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreDirectLoggedin")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-KnowmoreDirectLoggedin")=='KnowmoreDirectLoggedin'){dataLayer.push({'event':'knowMore','Parameter':'g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});dataLayer.push({'event':'knowMore','Parameter':'g8FormPopup_g8FormSuccess_knowMoreSuccess','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'g8FormPopup_g8FormSuccess_knowMoreSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-KnowmoreDirectLoggedin");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchDirectLoggedin")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchDirectLoggedin")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-getInTouchDirectLoggedin")=='getInTouchDirectLoggedin'){dataLayer.push({'event':'getInTouch','Parameter':'g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'g8FormPopup_g8FormSuccess','Parameter1':document.referrer,});dataLayer.push({'event':'getInTouch','Parameter':'g8FormPopup_g8FormSuccess_getInTouchSuccess','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'g8FormPopup_g8FormSuccess_getInTouchSuccess','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-getInTouchDirectLoggedin");}});$(".apply_datalayerjs").on("click",function(){if(!($(this).hasClass('disabled'))){$(this).addClass('disabled');clearAllcookies();setTimeout(function(){if(!($("body").hasClass("user-logged-in"))){Drupal.behaviors.qs_sso.createCookie("STYXKEY-applynowAttempt",'applynowAttempt',1);if($("#user_sign_in_tab").hasClass("active")){dataLayer.push({'event':'applyNow','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptSignIn','Parameter1':document.referrer,});}else{dataLayer.push({'event':'applyNow','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptJoinUs','Parameter1':document.referrer,});}}else{dataLayer.push({'event':'applyNow','Parameter':'applyNowPopup','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'applyNowPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-applyDirectLoggedin",'applyDirectLoggedin',1);}},500);}
setTimeout(function(){$(".apply_datalayerjs").removeClass('disabled');},1000);});$(".applyBtn_datalayer").on("click",function(){Drupal.behaviors.qs_sso.createCookie("STYXKEY-applyBtnClicked",'apply',1);});$(".applyLaterBtn_datalayer").on("click",function(){Drupal.behaviors.qs_sso.createCookie("STYXKEY-applyBtnClicked",'applyLater',1);})
$("#user-details-apply-form").on("submit",function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applySignPopUpSuccess")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applySignPopUpSuccess")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applySignPopUpSuccess")=='applySignPopUpSuccess'){setTimeout(function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")=='apply'){dataLayer.push({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess_applyNowPopup_applyNowSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptSignIn_signInSuccess_applyNowPopup_applyNowSuccess','Parameter1':document.referrer,});}},500);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applySignPopUpSuccess");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyJoinPopUpSuccess")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyJoinPopUpSuccess")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyJoinPopUpSuccess")=='applyJoinPopUpSuccess'){setTimeout(function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")=='apply'){dataLayer.push({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess_applyNowPopup_applyNowSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'attemptJoinUs_joinUsSuccess_applyNowPopup_applyNowSuccess','Parameter1':document.referrer,});}},500);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyJoinPopUpSuccess");}
if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyDirectLoggedin")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyDirectLoggedin")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyDirectLoggedin")=='applyDirectLoggedin'){setTimeout(function(){if(Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==undefined&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")!==null&&Drupal.behaviors.tu_d8.readCookie("STYXKEY-applyBtnClicked")=='apply'){dataLayer.push({'event':'applyNow','Parameter':'applyNowPopup_applyNowSuccess','Parameter1':document.referrer,});console.table({'event':'applyNow','Parameter':'applyNowPopup_applyNowSuccess','Parameter1':document.referrer,});}},500);Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-applyDirectLoggedin");}});$(".knowmore_datalayer_js").on("click",function(){clearAllcookies();setTimeout(function(){if(!($("body").hasClass("user-logged-in"))){Drupal.behaviors.qs_sso.createCookie("STYXKEY-knowMoreAttempt",'knowMoreAttempt',1);if($("#user_sign_in_tab").hasClass("active")){dataLayer.push({'event':'knowMore','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptSignIn','Parameter1':document.referrer,});}else{dataLayer.push({'event':'knowMore','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'attemptJoinUs','Parameter1':document.referrer,});}}else{dataLayer.push({'event':'knowMore','Parameter':'g8FormPopup','Parameter1':document.referrer,});console.table({'event':'knowMore','Parameter':'g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-KnowmoreDirectLoggedin",'KnowmoreDirectLoggedin',1);}},500);});$(".getintouch_datalayer_js").on("click",function(){clearAllcookies();setTimeout(function(){if(!($("body").hasClass("user-logged-in"))){Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchAttempt",'getInTouchAttempt',1);if($("#user_sign_in_tab").hasClass("active")){dataLayer.push({'event':'getInTouch','Parameter':'attemptSignIn','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptSignIn','Parameter1':document.referrer,});}else{dataLayer.push({'event':'getInTouch','Parameter':'attemptJoinUs','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'attemptJoinUs','Parameter1':document.referrer,});}}else{dataLayer.push({'event':'getInTouch','Parameter':'g8FormPopup','Parameter1':document.referrer,});console.table({'event':'getInTouch','Parameter':'g8FormPopup','Parameter1':document.referrer,});Drupal.behaviors.qs_sso.createCookie("STYXKEY-getInTouchDirectLoggedin",'getInTouchDirectLoggedin',1);}},500);});});}};})(jQuery);;(function($,Drupal,drupalSettings){'use strict';Drupal.behaviors.ckeditorAccordion={attach:function(context,settings){var $ckeditorAccordion=$('.ckeditor-accordion');if($ckeditorAccordion.length>0){$ckeditorAccordion.each(function(){var $accordion=$(this);if($accordion.hasClass('styled')){return;}
if(!drupalSettings.ckeditorAccordion.accordionStyle.collapseAll){$accordion.children('dt:first').addClass('active');$accordion.children('dd:first').addClass('active');$accordion.children('dd:first').css('display','block');}
$accordion.children('dt').each(function(){var $tab=$(this);var tabText=$tab.text().trim();var toggleClass=$tab.hasClass('active')?' active':'';$tab.html('<a class="ckeditor-accordion-toggler" href="#"><span class="ckeditor-accordion-toggle'+toggleClass+'"></span>'+tabText+'</a>');});$accordion.addClass('styled').removeClass('ckeditor-accordion').wrap('<div class="ckeditor-accordion-container"></div>');$accordion.trigger('ckeditorAccordionAttached');});$('body').once('ckeditorAccordionToggleEvent').on('click','.ckeditor-accordion-toggler',function(e){var $t=$(this).parent();var $parent=$t.parent();if($t.hasClass('active')){$t.removeClass('active');$t.next().slideUp();}
else{if(!drupalSettings.ckeditorAccordion.accordionStyle.keepRowsOpen){$parent.children('dt.active').removeClass('active').children('a').removeClass('active');$parent.children('dd.active').slideUp(function(){$(this).removeClass('active');});}
$t.addClass('active');$t.next().slideDown(300).addClass('active');}
e.preventDefault();});}}};})(jQuery,Drupal,drupalSettings);;(function($){Drupal.behaviors.qs_instant_registration={attach(context){$(".user-register-form").each((index,el)=>{let form=el,emler="Please provide a valid email address.",fn_ivm="Please only use letters for your first name.",fn_vm="First name valid.",ln_ivm="Please only use letters for your last name.",ln_vm="Last name valid.",eml_ivm="Please provide a valid email address.",eml_vm="Email valid.",p_ivm="Please use six characters and one numeral.",p_vm="Password valid.";const f=document.querySelectorAll(".user-register-form");for(let i=0;i<f.length;i++){f[i].addEventListener("invalid",event=>{event.preventDefault();},true);f[i].addEventListener("submit",function(event){if(!this.checkValidity()){event.preventDefault();}});}
if(!$(".messages",el).length){$('input[type="text"], [name="pass"], input[name="mail"]',el).next().after('<small class="messages hide"></small>');}
field_live_validate('[name="mail"]',eml_ivm,"",el);field_live_validate('[name="field_first_name[0][value]"]',fn_ivm,"",el);field_live_validate('[name="field_last_name[0][value]"]',ln_ivm,"",el);field_live_validate('[name="pass"]',p_ivm,"",el);$("input[type=submit]",el).on("click",function(){if($(this).hasClass("form-disabled")){return false;}
let invalidFields=$(form).find(":invalid"),validFields=$(form).find(":valid"),errorMessages=$(form).find(".messages"),parent,em,vm,am;for(var i=0;i<errorMessages.length;i++){errorMessages[i].parentNode.removeChild(errorMessages[i]);}
for(var i=0;i<invalidFields.length;i++){if(invalidFields[i].name){switch(invalidFields[i].name){case "field_first_name[0][value]":em="Please provide your first name.";vm=fn_ivm;break;case "field_last_name[0][value]":em="Please provide your last name.";vm=ln_ivm;break;case "mail":em="Please provide a valid email address.";vm=emler;break;case "pass":em="Enter your password.";vm=p_ivm;break;}
parent=invalidFields[i].parentNode;if(invalidFields[i].value===""){parent.insertAdjacentHTML("beforeend",`<small class="messages error">${em}</small>`);}else{parent.insertAdjacentHTML("beforeend",`<small class="messages error">${vm}</small>`);}}}
for(var i=0;i<validFields.length;i++){switch(validFields[i].name){case "field_first_name[0][value]":am=fn_vm;break;case "field_last_name[0][value]":am=ln_vm;break;case "mail":am=eml_vm;break;case "pass":am=p_vm;break;}
parent=validFields[i].parentNode;if(validFields[i].value&&am&&validFields[i].name!="op"){parent.insertAdjacentHTML("beforeend",'<small class="messages"></small>');}}
if(invalidFields.length>0){invalidFields[0].focus();}});function field_live_validate(s,em,vm,el){$(s,el).on("keyup click",function(){if($(this).val()){$(this).siblings(".messages").removeClass("hide");if($(this)[0].checkValidity()===false){$(this).siblings(".messages").html(em).addClass("error").removeClass("ok");}else{$(this).siblings(".messages").html(vm).addClass("ok").removeClass("error");}}else{$(this).siblings(".messages").html("").addClass("hide").removeClass("error ok");}});}});let errs="";$("form.user-register-form input").on("keyup click mouseout",()=>{errs=$("form.user-register-form").find(".error").length;if(errs<1){$('form.user-register-form input[name="op"]').prop("disabled",false);}else{$('form.user-register-form input[name="op"]').prop("disabled",true);}});$('#user-login-form--2 input[name="op"]').attr("disabled",true).addClass("disabled");$('#user-login-form--2 input[name="name"]').on("input keyup",elem=>{let email_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=elem.target.value;const pass_val=$('#user-login-form--2 input[name="pass"]').val();if(email_regex.test(email_val)!==false&&pass_val.length>3){email_ok="valid";}else{email_ok="notvalid";}
if(email_ok==="valid"){$('#user-login-form--2 input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form--2 input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});$('#user-login-form--2 input[name="pass"]').on("input keyup",elem=>{elem.target.name;let pass_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=$('#user-login-form--2 input[name="name"]').val();const pass_val=elem.target.value;if(email_regex.test(email_val)!==false&&pass_val.length>3){pass_ok="valid";}else{pass_ok="notvalid";}
if(pass_ok==="valid"){$('#user-login-form--2 input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form--2 input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});$('#user-login-form input[name="op"]').attr("disabled",true).addClass("disabled");$('#user-login-form input[name="name"]').on("input keyup",elem=>{let email_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=elem.target.value;const pass_val=$('#user-login-form input[name="pass"]').val();if(email_regex.test(email_val)!==false&&pass_val.length>3){email_ok="valid";}else{email_ok="notvalid";}
if(email_ok==="valid"){$('#user-login-form input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});$('#user-login-form input[name="pass"]').on("input keyup",elem=>{elem.target.name;let pass_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=$('#user-login-form input[name="name"]').val();const pass_val=elem.target.value;if(email_regex.test(email_val)!==false&&pass_val.length>3){pass_ok="valid";}else{pass_ok="notvalid";}
if(pass_ok==="valid"){$('#user-login-form input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});}};})(jQuery);;(function($,Drupal,drupalSettings){$(document).ready(function(){$.ajax({type:'POST',cache:false,url:drupalSettings.statistics.url,data:drupalSettings.statistics.data});});})(jQuery,Drupal,drupalSettings);;(function($,Drupal){Drupal.theme.progressBar=function(id){return '<div id="'+id+'" class="progress" aria-live="polite">'+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>';};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress:function setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').css('width',percentage+'%');$(this.element).find('div.progress__percentage').html(percentage+'%');}
$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback){this.updateCallback(percentage,message,this);}},startMonitoring:function startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring:function stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing:function sendPing(){if(this.timer){clearTimeout(this.timer);}
if(this.uri){var pb=this;var uri=this.uri;if(uri.indexOf('?')===-1){uri+='?';}else{uri+='&';}
uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success:function success(progress){if(progress.status===0){pb.displayError(progress.data);return;}
pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(function(){pb.sendPing();},pb.delay);},error:function error(xmlhttp){var e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError('<pre>'+e.message+'</pre>');}});}},displayError:function displayError(string){var error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback){this.errorCallback(this);}}});})(jQuery,Drupal);;(function(Drupal){Drupal.behaviors.responsiveImageAJAX={attach:function attach(){if(window.picturefill){window.picturefill();}}};})(Drupal);;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
(function($,window,Drupal,drupalSettings){Drupal.behaviors.AJAX={attach:function attach(context,settings){function loadAjaxBehavior(base){var elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined'){elementSettings.selector='#'+base;}
$(elementSettings.selector).once('drupal-ajax').each(function(){elementSettings.element=this;elementSettings.base=base;Drupal.ajax(elementSettings);});}
Object.keys(settings.ajax||{}).forEach(function(base){return loadAjaxBehavior(base);});Drupal.ajax.bindAjaxLinks(document.body);$('.use-ajax-submit').once('ajax').each(function(){var elementSettings={};elementSettings.url=$(this.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=$(this).attr('id');elementSettings.element=this;Drupal.ajax(elementSettings);});},detach:function detach(context,settings,trigger){if(trigger==='unload'){Drupal.ajax.expired().forEach(function(instance){Drupal.ajax.instances[instance.instanceIndex]=null;});}}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){var statusCode=void 0;var statusText=void 0;var responseText=void 0;if(xmlhttp.status){statusCode='\n'+Drupal.t('An AJAX HTTP error occurred.')+'\n'+Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status});}else{statusCode='\n'+Drupal.t('An AJAX HTTP request terminated abnormally.');}
statusCode+='\n'+Drupal.t('Debugging information follows.');var pathText='\n'+Drupal.t('Path: !uri',{'!uri':uri});statusText='';try{statusText='\n'+Drupal.t('StatusText: !statusText',{'!statusText':$.trim(xmlhttp.statusText)});}catch(e){}
responseText='';try{responseText='\n'+Drupal.t('ResponseText: !responseText',{'!responseText':$.trim(xmlhttp.responseText)});}catch(e){}
responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');var readyStateText=xmlhttp.status===0?'\n'+Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState}):'';customMessage=customMessage?'\n'+Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage}):'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1){throw new Error('Drupal.ajax() function must be called with one configuration object only');}
var base=settings.base||false;var element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element){settings.progress=false;}
var ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter(function(instance){return instance&&instance.element!==false&&!document.body.contains(instance.element);});};Drupal.ajax.bindAjaxLinks=function(element){$(element).find('.use-ajax').once('ajax').each(function(i,ajaxLink){var $linkElement=$(ajaxLink);var elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};var href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}
Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){var defaults={event:element?'mousedown':null,keypress:true,selector:base?'#'+base:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper){this.wrapper='#'+this.wrapper;}
this.element=element;this.element_settings=elementSettings;this.elementSettings=elementSettings;if(this.element&&this.element.form){this.$form=$(this.element.form);}
if(!this.url){var $element=$(this.element);if($element.is('a')){this.url=$element.attr('href');}else if(this.element&&element.form){this.url=this.$form.attr('action');}}
var originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl]){drupalSettings.ajaxTrustedUrl[this.url]=true;}
var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit:function beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend:function beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success:function success(response,status,xmlhttprequest){if(typeof response==='string'){response=$.parseJSON(response);}
if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url]){if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}}
return ajax.success(response,status);},complete:function complete(xmlhttprequest,status){ajax.ajaxing=false;if(status==='error'||status==='parsererror'){return ajax.error(xmlhttprequest,ajax.url);}},dataType:'json',jsonp:false,type:'POST'};if(elementSettings.dialog){ajax.options.data.dialogOptions=elementSettings.dialog;}
if(ajax.options.url.indexOf('?')===-1){ajax.options.url+='?';}else{ajax.options.url+='&';}
var wrapper='drupal_'+(elementSettings.dialogType||'ajax');if(elementSettings.dialogRenderer){wrapper+='.'+elementSettings.dialogRenderer;}
ajax.options.url+=Drupal.ajax.WRAPPER_FORMAT+'='+wrapper;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url)){throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));}
return ajax.eventResponse(this,event);});if(elementSettings.keypress){$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});}
if(elementSettings.prevent){$(ajax.element).on(elementSettings.prevent,false);}};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing){return;}
try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert('An error occurred while attempting to process '+this.options.url+': '+e.message);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which===13||event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number'){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();var ajax=this;if(ajax.ajaxing){return;}
try{if(ajax.$form){if(ajax.setClick){element.form.clk=element;}
ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert('An error occurred while attempting to process '+ajax.options.url+': '+e.message);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}
options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;var pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null){options.extraData[this.element.name]=v;}}
$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type){return;}
var progressIndicatorMethod='setProgressIndicator'+this.progress.type.slice(0,1).toUpperCase()+this.progress.type.slice(1).toLowerCase();if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function'){this[progressIndicatorMethod].call(this);}};Drupal.theme.ajaxProgressThrobber=function(message){var messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';var throbber='<div class="throbber">&nbsp;</div>';return '<div class="ajax-progress ajax-progress-throbber">'+throbber+messageMarkup+'</div>';};Drupal.theme.ajaxProgressIndicatorFullscreen=function(){return '<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';};Drupal.theme.ajaxProgressMessage=function(message){return '<div class="message">'+message+'</div>';};Drupal.theme.ajaxProgressBar=function($element){return $('<div class="ajax-progress ajax-progress-bar"></div>').append($element);};Drupal.Ajax.prototype.setProgressIndicatorBar=function(){var progressBar=new Drupal.ProgressBar('ajax-progress-'+this.element.id,$.noop,this.progress.method,$.noop);if(this.progress.message){progressBar.setProgress(-1,this.progress.message);}
if(this.progress.url){progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);}
this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.success=function(response,status){var _this=this;if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.element).prop('disabled',false);var elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();var focusChanged=false;Object.keys(response||{}).forEach(function(i){if(response[i].command&&_this.commands[response[i].command]){_this.commands[response[i].command](_this,response[i],status);if(response[i].command==='invoke'&&response[i].method==='focus'){focusChanged=true;}}});if(!focusChanged&&this.element&&!$(this.element).data('disable-refocus')){var target=false;for(var n=elementParents.length-1;!target&&n>=0;n--){target=document.querySelector('[data-drupal-selector="'+elementParents[n].getAttribute('data-drupal-selector')+'"]');}
if(target){$(target).trigger('focus');}}
if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
this.settings=null;};Drupal.Ajax.prototype.getEffect=function(response){var type=response.effect||this.effect;var speed=response.speed||this.speed;var effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=type+'Toggle';effect.hideEffect=type+'Toggle';effect.showSpeed=speed;}
return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=function($newContent,ajax,response){return(response.effect||ajax.effect)!=='none'&&$newContent.filter(function(i){return!($newContent[i].nodeName==='#comment'||$newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent));}).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;};Drupal.theme.ajaxWrapperMultipleRootElements=function($elements){return $('<div></div>').append($elements);};Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert:function insert(ajax,response){var $wrapper=response.selector?$(response.selector):$(ajax.wrapper);var method=response.method||ajax.method;var effect=ajax.getEffect(response);var settings=response.settings||ajax.settings||drupalSettings;var $newContent=$($.parseHTML(response.data,document,true));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}
$wrapper[method]($newContent);if(effect.showEffect!=='show'){$newContent.hide();}
var $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else if(effect.showEffect!=='show'){$newContent[effect.showEffect](effect.showSpeed);}
if($newContent.parents('html').length){$newContent.each(function(index,element){if(element.nodeType===Node.ELEMENT_NODE){Drupal.attachBehaviors(element,settings);}});}},remove:function remove(ajax,response,status){var settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed:function changed(ajax,response,status){var $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk){$element.find(response.asterisk).append(' <abbr class="ajax-changed" title="'+Drupal.t('Changed')+'">*</abbr> ');}}},alert:function alert(ajax,response,status){window.alert(response.text,response.title);},announce:function announce(ajax,response){if(response.priority){Drupal.announce(response.text,response.priority);}else{Drupal.announce(response.text);}},redirect:function redirect(ajax,response,status){window.location=response.url;},css:function css(ajax,response,status){$(response.selector).css(response.argument);},settings:function settings(ajax,response,status){var ajaxSettings=drupalSettings.ajax;if(ajaxSettings){Drupal.ajax.expired().forEach(function(instance){if(instance.selector){var selector=instance.selector.replace('#','');if(selector in ajaxSettings){delete ajaxSettings[selector];}}});}
if(response.merge){$.extend(true,drupalSettings,response.settings);}else{ajax.settings=response.settings;}},data:function data(ajax,response,status){$(response.selector).data(response.name,response.value);},invoke:function invoke(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,_toConsumableArray(response.args));},restripe:function restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id:function update_build_id(ajax,response,status){$('input[name="form_build_id"][value="'+response.old+'"]').val(response.new);},add_css:function add_css(ajax,response,status){$('head').prepend(response.data);},message:function message(ajax,response){var messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious){messages.clear();}
messages.add(response.message,response.messageOptions);}};})(jQuery,window,Drupal,drupalSettings);;(function(Drupal){Drupal.theme.ajaxProgressBar=function($element){return $element.addClass('ajax-progress ajax-progress-bar');};})(Drupal);;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
(function(Drupal){Drupal.behaviors.flagAttach={attach:function attach(context){var links=[].concat(_toConsumableArray(context.querySelectorAll('.flag a')));links.forEach(function(link){return link.addEventListener('click',function(event){return event.target.parentNode.classList.add('flag-waiting');});});}};Drupal.AjaxCommands.prototype.actionLinkFlash=function(ajax,response,status){if(status==='success'){var para=document.createElement('P');para.innerText=response.message;para.setAttribute('class','js-flag-message');para.addEventListener('animationend',function(event){return event.target.remove();},false);document.querySelector(response.selector).appendChild(para);}else{var links=[].concat(_toConsumableArray(document.querySelectAll('.flag-waiting')));links.forEach(function(link){return link.classList.remove('flag-waiting');});}};})(Drupal);;(function($){Drupal.behaviors.ielts={attach(context,settings){function IELTS_Country_Links(IELTS_SEARCH_COUNTRY,redirect_uri){console.log("dataLayer Pushed!");dataLayer.push({'event':"IELTS_SEARCH_COUNTRY",'Redirect_URI':redirect_uri,'Page_Path':window.location.href});}
const $ielts_countries=[{value:"afghanistan",label:"Afghanistan",link:"https://www.britishcouncil.af/exam/ielts/dates-fees-locations"},{value:"albania",label:"Albania",link:"https://www.britishcouncil.al/en/exam/ielts/dates-fees-locations"},{value:"algeria",label:"Algeria",link:"https://www.britishcouncil.dz/en/exam/ielts/dates-fees-locations"},{value:"argentina",label:"Argentina",link:"https://argentina.britishcouncil.org/examen/ielts/fechas-precios-ubicaciones"},{value:"armenia",label:"Armenia",link:"https://www.britishcouncil.am/en/exam/ielts/dates-fees-locations"},{value:"australia",label:"Australia",link:"https://www.britishcouncil.org.au/exam"},{value:"austria",label:"Austria",link:"https://www.britishcouncil.at/en/exam/ielts/dates-fees-locations"},{value:"azerbaijan",label:"Azerbaijan",link:"https://www.britishcouncil.az/en/exam/ielts/dates-fees-locations"},{value:"bahrain",label:"Bahrain",link:"https://www.britishcouncil.bh/en/exam/ielts/dates-fees-locations"},{value:"bangladesh",label:"Bangladesh",link:"https://www.britishcouncil.org.bd/en/exam/ielts/dates-fees-locations"},{value:"belarus",label:"Belarus",link:"https://takeielts.britishcouncil.org/belarus"},{value:"belgium",label:"Belgium",link:"https://www.britishcouncil.be/exam/ielts/dates-fees-locations"},{value:"benin-republic",label:"Benin Republic",link:"https://takeielts.britishcouncil.org/benin"},{value:"bhutan",label:"Bhutan",link:"https://takeielts.britishcouncil.org/bhutan"},{value:"bosnia-and-herzegovina",label:"Bosnia and Herzegovina",link:"https://www.britishcouncil.ba/en/exam/ielts/dates-fees-locations"},{value:"botswana",label:"Botswana",link:"https://www.britishcouncil.co.bw/exam/ielts/dates-fees-locations"},{value:"brazil",label:"Brazil",link:"https://www.britishcouncil.org.br/en/exam/ielts/dates-fees-locations"},{value:"brunei",label:"Brunei",link:"https://takeielts.britishcouncil.org/brunei"},{value:"bulgaria",label:"Bulgaria",link:"https://www.britishcouncil.bg/en/exam/ielts/dates-fees-locations"},{value:"cambodia",label:"Cambodia",link:"https://takeielts.britishcouncil.org/cambodia"},{value:"cameroon",label:"Cameroon",link:"https://www.britishcouncil.cm/exam/ielts/dates-fees-locations"},{value:"canada",label:"Canada",link:"https://www.britishcouncil.ca/exam/ielts/dates-fees-locations"},{value:"caribbean",label:"Caribbean",link:"https://caribbean.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"chile",label:"Chile",link:"https://www.britishcouncil.cl/examen/ielts/fechas-precios-ubicaciones"},{value:"china",label:"China",link:"https://www.britishcouncil.cn/en/exams/ielts"},{value:"colombia",label:"Colombia",link:"https://www.britishcouncil.co/examen/ielts/fechas-precios-ubicaciones"},{value:"costa-rica",label:"Costa Rica",link:"https://takeielts.britishcouncil.org/costa-rica"},{value:"cote-divoire",label:"Cote dIvoire",link:"https://takeielts.britishcouncil.org/cote-divoire"},{value:"croatia",label:"Croatia",link:"https://www.britishcouncil.hr/en/exam/ielts/dates-fees-locations"},{value:"cyprus",label:"Cyprus",link:"https://www.britishcouncil.com.cy/exam/ielts/dates-fees-locations"},{value:"czech-republic",label:"Czech Republic",link:"https://www.britishcouncil.cz/en/exam/ielts/dates-fees-locations"},{value:"denmark",label:"Denmark",link:"https://takeielts.britishcouncil.org/denmark"},{value:"dominican-republic",label:"Dominican Republic",link:"https://takeielts.britishcouncil.org/dominican-republic"},{value:"ecuador",label:"Ecuador",link:"https://takeielts.britishcouncil.org/ecuador"},{value:"egypt",label:"Egypt",link:"https://www.britishcouncil.org.eg/en/exam/ielts/dates-fees-locations"},{value:"el-salvador",label:"El Salvador",link:"https://takeielts.britishcouncil.org/el-salvador"},{value:"estonia",label:"Estonia",link:"https://takeielts.britishcouncil.org/estonia"},{value:"ethiopia",label:"Ethiopia",link:"https://ethiopia.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"finland",label:"Finland",link:"https://takeielts.britishcouncil.org/finland"},{value:"france",label:"France",link:"https://www.britishcouncil.fr/en/exam/ielts/dates-fees-locations"},{value:"georgia",label:"Georgia",link:"https://www.britishcouncil.ge/en/exam/ielts/dates-fees-locations"},{value:"germany",label:"Germany",link:"https://www.britishcouncil.de/en/exam/ielts/dates-fees-locations"},{value:"ghana",label:"Ghana",link:"https://www.britishcouncil.org.gh/exam/ielts/dates-fees-locations"},{value:"greece",label:"Greece",link:"https://www.britishcouncil.gr/en/exam/ielts/dates-fees-locations"},{value:"honduras",label:"Honduras",link:"https://takeielts.britishcouncil.org/honduras"},{value:"hong-kong",label:"Hong Kong",link:"https://www.britishcouncil.hk/en/exam/ielts/dates-fees-locations"},{value:"hungary",label:"Hungary",link:"https://www.britishcouncil.hu/en/exam/ielts/dates-fees-locations"},{value:"india",label:"India",link:"https://www.britishcouncil.in/exam/ielts/dates-fees-locations"},{value:"indonesia",label:"Indonesia",link:"https://www.britishcouncil.id/en/exam"},{value:"iraq",label:"Iraq",link:"https://iraq.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"ireland",label:"Ireland",link:"https://takeielts.britishcouncil.org/ireland"},{value:"israel",label:"Israel",link:"https://www.britishcouncil.org.il/en/exam/ielts/book-test"},{value:"italy",label:"Italy",link:"https://www.britishcouncil.it/en/exam/ielts/dates-fees-locations"},{value:"jamaica",label:"Jamaica",link:"https://caribbean.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"japan",label:"Japan",link:"https://www.britishcouncil.jp/en/exam/ielts/test-dates-fees-locations"},{value:"jordan",label:"Jordan",link:"https://www.britishcouncil.jo/en/exam/ielts/dates-fees-locations"},{value:"kazakhstan",label:"Kazakhstan",link:"https://www.britishcouncil.kz/exam/ielts/dates-fees-locations"},{value:"kenya",label:"Kenya",link:"https://www.britishcouncil.co.ke/exam/ielts/dates-fees-locations"},{value:"korea",label:"Korea",link:"https://www.britishcouncil.kr/en/exam/ielts/dates-fees-locations"},{value:"kosovo",label:"Kosovo",link:"https://kosovo.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"kuwait",label:"Kuwait",link:"https://www.britishcouncil.com.kw/en/exam/ielts/dates-fees-locations"},{value:"kyrgyz-republic",label:"Kyrgyz Republic",link:"https://takeielts.britishcouncil.org/kyrgyz-republic"},{value:"latvia",label:"Latvia",link:"https://takeielts.britishcouncil.org/latvia"},{value:"lebanon",label:"Lebanon",link:"https://www.britishcouncil.org.lb/en/exam/ielts/dates-fees-locations"},{value:"libya",label:"Libya",link:"https://www.britishcouncil.ly/en/exam/ielts/dates-fees-locations"},{value:"lithuania",label:"Lithuania",link:"https://www.britishcouncil.lt/exam/ielts/dates-fees-locations"},{value:"luxembourg",label:"Luxembourg",link:"https://takeielts.britishcouncil.org/luxembourg"},{value:"macau",label:"Macau",link:"https://takeielts.britishcouncil.org/macau"},{value:"madagascar",label:"Madagascar",link:"https://www.britishcouncil.mu/exam/ielts/dates-fees-locations/madagascar"},{value:"malawi",label:"Malawi",link:"https://www.britishcouncil.mw/exam/ielts/dates-fees-locations"},{value:"malaysia",label:"Malaysia",link:"https://www.britishcouncil.my/exam/ielts/dates-fees-locations"},{value:"maldives",label:"Maldives",link:"https://takeielts.britishcouncil.org/maldives"},{value:"malta",label:"Malta",link:"https://takeielts.britishcouncil.org/malta"},{value:"mauritius",label:"Mauritius",link:"https://www.britishcouncil.mu/exam/ielts/dates-fees-locations"},{value:"mexico",label:"Mexico",link:"https://www.britishcouncil.org.mx/examen/ielts/reservar"},{value:"mongolia",label:"Mongolia",link:"https://takeielts.britishcouncil.org/mongolia"},{value:"morocco",label:"Morocco",link:"https://www.britishcouncil.ma/en/exam/ielts/dates-fees-locations"},{value:"mozambique",label:"Mozambique",link:"https://www.britishcouncil.org.mz/en/exam/ielts/dates-fees-locations"},{value:"myanmar",label:"Myanmar",link:"https://www.britishcouncil.org.mm/exam/ielts/dates-fees-locations"},{value:"namibia",label:"Namibia",link:"https://www.britishcouncil.na/exam/ielts/dates-fees-locations"},{value:"nepal",label:"Nepal",link:"https://www.britishcouncil.org.np/exam/ielts/dates-fees-locations"},{value:"netherlands",label:"Netherlands",link:"https://www.britishcouncil.nl/exam/ielts/dates-fees-locations"},{value:"new-zealand",label:"New Zealand",link:"https://www.britishcouncil.org.nz/exam/ielts/dates-fees-locations"},{value:"nigeria",label:"Nigeria",link:"https://www.britishcouncil.org.ng/exam/ielts/dates-fees-locations"},{value:"north-macedonia",label:"North Macedonia",link:"https://www.britishcouncil.mk/en/exam/ielts/dates-fees-locations"},{value:"northern-ireland",label:"Northern Ireland",link:"https://takeielts.britishcouncil.org/northern-ireland"},{value:"norway",label:"Norway",link:"https://takeielts.britishcouncil.org/norway"},{value:"occupied-palestinian-territories",label:"Occupied Palestinian Territories",link:"https://www.britishcouncil.ps/en/exam/ielts/dates-fees-locations"},{value:"oman",label:"Oman",link:"https://www.britishcouncil.om/en/exam/ielts/dates-fees-locations"},{value:"pakistan",label:"Pakistan",link:"https://www.britishcouncil.pk/exam/ielts/book-test"},{value:"panama",label:"Panama",link:"https://takeielts.britishcouncil.org/panama"},{value:"papua-new-guinea",label:"Papua New Guinea",link:""},{value:"paraguay",label:"Paraguay",link:"https://takeielts.britishcouncil.org/paraguay"},{value:"peru",label:"Peru",link:"https://www.britishcouncil.pe/examen/ielts/fechas-precios-ubicaciones"},{value:"philippines",label:"Philippines",link:"https://www.britishcouncil.ph/exam/ielts/dates-fees-locations"},{value:"poland",label:"Poland",link:"https://www.britishcouncil.pl/en/exam/ielts/dates-fees-locations"},{value:"portugal",label:"Portugal",link:"https://www.britishcouncil.pt/en/exam/ielts/dates-fees-locations"},{value:"qatar",label:"Qatar",link:"https://www.britishcouncil.qa/en/exam/ielts/dates-fees-locations"},{value:"romania",label:"Romania",link:"https://www.britishcouncil.ro/en/exam/ielts/dates-fees-locations"},{value:"russia",label:"Russia",link:"https://takeielts.britishcouncil.org/russia"},{value:"rwanda",label:"Rwanda",link:"https://www.britishcouncil.rw/exam/ielts/dates-fees-locations"},{value:"saudi-arabia",label:"Saudi Arabia",link:"https://www.britishcouncil.sa/en/exam/ielts/dates-fees-locations"},{value:"scotland",label:"Scotland",link:"https://takeielts.britishcouncil.org/scotland"},{value:"senegal",label:"Senegal",link:"https://www.britishcouncil.com.sn/en/exam/ielts/dates-fees-locations"},{value:"serbia",label:"Serbia",link:"https://www.britishcouncil.rs/en/exam/ielts/dates-fees-locations"},{value:"seychelles",label:"Seychelles",link:"https://www.britishcouncil.mu/exam/ielts/dates-fees-locations/seychelles"},{value:"sierra-leone",label:"Sierra Leone",link:"https://www.britishcouncil.sl/exam/ielts/dates-fees-locations"},{value:"singapore",label:"Singapore",link:"https://www.britishcouncil.sg/exam/ielts/dates-fees-locations"},{value:"slovakia",label:"Slovakia",link:"https://www.britishcouncil.sk/en/exam/ielts/dates-fees-locations"},{value:"slovenia",label:"Slovenia",link:"https://www.britishcouncil.si/en/exam/ielts/dates-fees-locations"},{value:"south-africa",label:"South Africa",link:"https://www.britishcouncil.org.za/exam/ielts/dates-fees-locations"},{value:"south-sudan",label:"South Sudan",link:"https://southsudan.britishcouncil.org/exam/ielts-register"},{value:"spain",label:"Spain",link:"https://www.britishcouncil.es/en/exam/ielts/dates-fees-locations"},{value:"sri-lanka",label:"Sri Lanka",link:"https://www.britishcouncil.lk/exam/ielts/dates-fees-locations"},{value:"sudan",label:"Sudan",link:"https://sudan.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"sweden",label:"Sweden",link:"https://takeielts.britishcouncil.org/sweden"},{value:"switzerland",label:"Switzerland",link:"https://www.britishcouncil.ch/exam/ielts/test-dates-fees-locations"},{value:"syria",label:"Syria",link:"https://syria.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"taiwan",label:"Taiwan",link:"https://www.britishcouncil.org.tw/en/exam/ielts/dates-fees-locations"},{value:"tajikistan",label:"Tajikistan",link:"https://takeielts.britishcouncil.org/tajikistan"},{value:"tanzania",label:"Tanzania",link:"https://www.britishcouncil.or.tz/exam/ielts/dates-fees-locations"},{value:"thailand",label:"Thailand",link:"https://www.britishcouncil.or.th/en/exam/ielts/dates-fees-locations"},{value:"trinidad-and-tobago",label:"Trinidad and Tobago",link:"https://caribbean.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"tunisia",label:"Tunisia",link:"https://www.britishcouncil.tn/en/exam/ielts/dates-fees-locations"},{value:"turkey",label:"Turkey",link:"https://www.britishcouncil.org.tr/en/exam/ielts/dates-fees-locations"},{value:"turkmenistan",label:"Turkmenistan",link:"https://takeielts.britishcouncil.org/turkmenistan"},{value:"uganda",label:"Uganda",link:"https://www.britishcouncil.ug/exam/ielts/dates-fees-locations"},{value:"ukraine",label:"Ukraine",link:"http://www.britishcouncil.org.ua/en/exam/ielts/dates-fees-locations"},{value:"united-arab-emirates",label:"United Arab Emirates",link:"https://www.britishcouncil.ae/en/exam/ielts/book-test"},{value:"united-kingdom",label:"United Kingdom",link:"https://takeielts.britishcouncil.org/united-kingdom"},{value:"united-states-america",label:"United States of America",link:"https://takeielts.britishcouncil.org/united-states-america"},{value:"uruguay",label:"Uruguay",link:"https://www.britishcouncil.uy/en"},{value:"uzbekistan",label:"Uzbekistan",link:"https://www.britishcouncil.uz/en/exam/ielts/test-dates-fees-location"},{value:"venezuela",label:"Venezuela",link:"https://www.britishcouncil.org.ve/examen/ielts/fechas-precios-ubicaciones"},{value:"vietnam",label:"Vietnam",link:"https://www.britishcouncil.vn/en/exam/ielts/dates-fees-locations"},{value:"wales",label:"Wales",link:"https://takeielts.britishcouncil.org/wales"},{value:"yemen",label:"Yemen",link:"https://yemen.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"zambia",label:"Zambia",link:"https://www.britishcouncil.org.zm/exam/ielts/dates-fees-locations"},{value:"zimbabwe",label:"Zimbabwe",link:"https://www.britishcouncil.co.zw/exam/ielts/dates-fees-locations"}];$("#ielts-select-list",context).mSelectDBox({list:$ielts_countries,multiple:false,name:"ielts",autoComplete:true,embeddedInput:false,language:"en",init(msdbContext,event){$.getJSON("/user/ielts",response=>{const button=$("#ielts-select-button");if(response){const list=$("#ielts-select-list");list.mSelectDBox("select",{value:[response]});button.click(()=>{if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;window.open(link,"_newtab");IELTS_Country_Links($("#ielts-select-list").val()[0],link);}});button.hover(function(){if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;$(this).attr("title",link);}});}else{button.addClass("disabled");button.attr("title","");$("#ielts-select-remove").addClass("hide");}});},onselect(msdbContext,event){$("#ielts-select-remove").removeClass("hide");const list=$("#ielts-select-list");list.removeClass("error").focus();const button=$("#ielts-select-button");$(this).parents().find(".fa-chevron-down").css({cursor:"pointer"});button.click(()=>{if(list.attr("data-msdb-value").length){button.removeClass("disabled");const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;window.open(link,"_newtab");}});button.hover(function(){if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;$(this).attr("title",link);}else{$(this).attr("title","");}});},onkeyup(msdbContext,event){const fnd=$ielts_countries.find(x=>x.label===$("#ielts-select-list").val());const list=$("#ielts-select-list");const button=$("#ielts-select-button");if(typeof fnd==="undefined"){list.attr("data-msdb-value","");button.click(()=>{if(list.attr("data-msdb-value").length===0&&$("#ielts-select-list").val()){button.removeClass("disabled");const link="https://takeielts.britishcouncil.org/take-ielts/book?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20";window.open(link,"_newtab");IELTS_Country_Links($("#ielts-select-list").val()[0],link);}});button.hover(function(){if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;$(this).attr("title",link);}else{$(this).attr("title","");}});}else{button.attr("title","");list.attr("data-msdb-value",$("#ielts-select-list").val());}},focus(msdbContext,event){if(!$("#ielts-select-list").attr("data-msdb-value").length){$(this).attr("placeholder","Select your location");$("#ielts-select-button").addClass("disabled");}}});$('.m-select-d-box.m-select-d-box_hidden[data-msdb-name="ielts"]').appendTo($(".ielts-content-wrapper .sf"));$("#ielts-select-button").click(function(){if($(this).hasClass("disabled")){$("#ielts-select-list").addClass("error");}
return false;});}};})(jQuery);;!function(a){"use strict";var b=function(a){this.init(a)};b.prototype={instances:[],_coldInit:0,get:function(a,b,c){return"string"==typeof a?(a=a.toLowerCase(),(c||void 0===c)&&(this.trigger("get"),this.trigger("get:"+a)),this._props[a]):void 0},set:function(a,b,c,d){if(!a)return this;if("object"==typeof a){var e=Object.create(null);for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=this.set(f,a[f],null,d));return this}if("string"!=typeof a)return this;a=a.toLowerCase();var g={value:b};return"undefined"==typeof d&&(d=!0),d&&(this.trigger("set",g),this.trigger("set:"+a,g),this.trigger("beforeSet:"+a,g)),this._props[a]=b,d&&this.trigger("afterSet:"+a,g),this},getInstances:function(b){if(!arguments.length)return this.instances;"object"!=typeof b&&(b=Object.create(null));var c,d=[],e=a.inArray(typeof b.name,["string","number"])>-1?b.name:null;for(c=0;c<this.instances.length;c++)(null===e||this.instances[c].get("name",void 0,!1)==e)&&d.push(this.instances[c]);return d},removeInstances:function(b){if("object"!=typeof b)return this;var c,d="string"!=typeof b.name?null:b.name,e=[];for(c=0;c<this.instances.length;c++)this.instances[c].get("name",void 0,!1)!=d?e.push(this.instances[c]):a(this.instances[c].get("dbox",void 0,!1)).detach();return this.instances=e,this},_targetEvents:{click:{name:"click",event:"click"},keydown:{name:"keydown",event:"keydown",dbox_input:!0},keyup:{name:"keyup",event:"keyup",dbox_input:!0},hover:{name:"hover",event:"hover"},focus:{name:"focus",event:"focus"},focusout:{name:"focusout",event:"focusout"},change:{name:"change",event:"change"}},_eventCheckInputEmpty:function(a){this.fx.isTextInput(a.target)&&!a.target.value.trim()&&this.trigger("input:empty",a)},_eventDefaultInputEmpty:function(){this.deselectAll()},_eventSetList:function(){var a=arguments[1];this.set("list",a.value,null,!1),this.reInitList()},_eventWindowResize:function(){for(var a=0;a<this.instances.length;a++)this.instances[a].isActive()&&(this.instances[a]._calcListContainerHeight(),this.instances[a].calcPosition())},_eventDefaultKeyUp:function(b){var c=this,d=c.get("target",null,!1),e=c.get("dbox_input",null,!1),f=b.keyCode,g=(c.get("list",null,!1),c.get("dbox",null,!1),b.currentTarget),h=[37,38,39,40,9,13,18,17,16,20,27];c._isDBoxInput(b.target)?c.fx.isTextInput(d)&&(d.value=e.value):g==d&&-1==a.inArray(b.keyCode,h)&&(e.value=d.value),clearTimeout(c._timers.autoComplete),c._timers.autoComplete=setTimeout(function(){var b,d,e;if(c.get("autoComplete",null,!1)&&a.inArray(f,h)<0&&(b=g.value.toLowerCase().split(/[;,]/gi),b=b[b.length-1],c.unhoverAllOpt(),c.applyAutoComplete(b),!c._isMobileState()&&c.calcPosition()),c.get("multiple",null,!1)&&8==f){for(b=c.fx.trim(g.value," ;,").split(/[,;]/gi),e=c.getSelectedKeys(),d=0;d<b.length;d++)b[d]=b[d].trim();c._selectByLabel(b,!0),c.applySelectedToList(c._getItemsByID(e.concat(c.getSelectedKeys())))}},500)},_eventDefaultKeyDownMultipleFalse:function(b){var c=this,d=this.get("selectedCache",null,!1),e=d[Object.keys(d)[0]],f=c.get("target",null,!1);if(!c.get("multiple",null,!1))if(a.inArray(b.keyCode,[37,39,9,18,17,16,20,27])>-1);else if(13==b.keyCode)c.isActive()?c.close():(c.open(),c._eventFocus.call(f,c,b));else if(a.inArray(b.keyCode,[38,39,40])>-1){if(!c.isActive())return;if(e)if(38==b.keyCode)e=c.selectPrevVisibleItem(e);else{if(40!=b.keyCode)return;e=c.selectNextVisibleItem(e)}else e=c.selectPrevVisibleItem(c.getFirstVisibleItem());c.calcScrollBarPosition(),b.listItem=e,c.trigger("select",b)}},_eventDefaultKeyDownMultipleTrue:function(b){var c,d=this,e=(d.get("list",null,!1),d.getHoveredItems()[0]);if(d.get("multiple")){if(a.inArray(b.keyCode,[37,39,9,18,17,16,20,27])>-1);else{if(13==b.keyCode){if(!e)return;return c=d.getSelectedKeys(),e.selected?d._deselectByID(e.id):d._selectByID(e.id),c=c.concat(d.getSelectedKeys()),d.applySelectedToInput(),d.applySelectedToList(d._getItemsByID(c)),b.listItem=e,void d.trigger("select",b)}(38==b.keyCode||40==b.keyCode)&&(e?(38==b.keyCode&&d.hoverPrevVisibleItem(e),40==b.keyCode&&d.hoverNextVisibleItem(e)):d.hoverItem(d.getFirstVisibleItem()))}d.calcScrollBarPosition()}},_eventFocus:function(b,c){var d,e,f,g=this,h=g.getSelectedKeys(),i=g.get("list",null,!1),j=(g.get("dbox",null,!1),c.currentTarget||(this instanceof Element?this:null));if(g.open(),g.fx.isTextInput(j))if(f=j.getAttribute("data-msdb-value"),f&&(f=f.trim()),f){for(f=f.split(/[;,]/gi),d=0;d<f.length;d++)f[d]=f[d].trim();g._selectByValue(f,!0)}else{for(e=g.fx.trim(j.value,",; ").split(/[;,]/gi),d=0;d<e.length;d++)e[d]=e[d].trim();g._selectByLabel(e,!0)}g.unhideAllOpt(),Object.keys(i).forEach(function(b){var c=i[b];"undefined"!=typeof j.type&&a.inArray(j.type.toLowerCase(),["submit","button"])>-1||a.inArray(j.tagName.toLowerCase(),["submit","body","select"])>-1||g.unhoverItem(c)}),h=h.concat(g.getSelectedKeys()),!g.get("freeWrite")&&g.applySelectedToInput(),g.applySelectedToList(g._getItemsByID(h)),g.calcScrollBarPosition(),g._calcListContainerHeight()},_onFocusOut:function(){this.get("multiple",null,!1)&&this.applySelectedToInput()},_initEvents:function(b){var c,d=(a("body").get(0),this),e={};this.events=Object.create(null);for(c in b)b.hasOwnProperty(c)&&"function"==typeof b[c]&&(e[c.replace(/^on/,"")]=b[c]);for(c in b.events)b.events.hasOwnProperty(c)&&"function"==typeof b.events[c]&&(e[c]=b.events[c]);for(c in e)e.hasOwnProperty(c)&&this.on(c,e[c]);this.on("keyup",function(a,b){d._eventCheckInputEmpty(b)}),this.on("change",function(a,b){d._eventCheckInputEmpty(b)}),this.on("input:empty",d._eventDefaultInputEmpty),this.on("focus",d._eventFocus),this.on("click",d._eventFocus),this.on("focusout",function(a,b){return b.relatedTarget?void(d._isDBoxInput(b.relatedTarget)||d._isDBoxElement(b.relatedTarget)||d._isTargetElement(b.relatedTarget)||d.close()):void(d._timers.focusoutInputs=setTimeout(function(){d.close()},250))}),this.on("focusout",this._onFocusOut),a(this.get("dbox_input")).bind("focus",function(){clearTimeout(d._timers.focusoutInputs)}),this.on("afterSet:list",this._eventSetList),d._isColdInit()&&window.addEventListener("resize",d._eventWindowResize.bind(d),!1)},_deactivateInstances:function(a){for(var b=0;b<this.instances.length;b++)this.instances[b]._isDBoxElement(a.target)||this.instances[b]._isTargetElement(a.target)||this.instances[b].isActive()&&this.instances[b].close()},_initTarget:function(){var b=this.get("target");b&&"object"==typeof b&&("string"==typeof b?(b=a(b).get(0),this.set("target",b,null,!1)):b instanceof Element?this.set("target",b,null,!1):b instanceof a&&this.set(b.get(0),null,!1))},trigger:function(b,c){if("string"!=typeof b)return this;if(b=b.toLowerCase(),"object"==typeof this.events[b]&&Array.isArray(this.events[b])){!c||c instanceof(window.CustomEvent||Function)==0&&c instanceof(window.Event||Function)==0&&c instanceof a.Event==0?c=a.Event(b,c):c instanceof a.Event==0&&(c=a.Event(b,c));for(var d=this.events[b],e=0;e<d.length;e++)"function"==typeof d[e]&&d[e].call(this,this,c)}return this},on:function(b,c){var d=this,e=this.get("target",null,!1),f=this.get("dbox_input",null,!1);return"string"!=typeof b||"function"!=typeof c?this:(b=b.toLowerCase(),"object"==typeof this.events[b]&&Array.isArray(this.events[b])||(this.events[b]=[],this._targetEvents.hasOwnProperty(b)&&(a(e).bind(this._targetEvents[b].event,function(a){d.trigger(b,a)},null),this._targetEvents[b].dbox_input&&a(f).bind(this._targetEvents[b].event,function(a){d.trigger(b,a)},null))),this.events[b].push(c),this)},detectLanguage:function(){var a=(navigator.languages||[])[0]||navigator.language||navigator.systemLanguage||navigator.userLanguage||navigator.browserLanguage||"en-US";return a.split(/[-_]/gi)[0]},_lastLang:"",_texts:{".m-select-d-box-fade__outside-click-label-text":{ru:"  ",en:"Tap to close"},".m-select-d-box__search-input":{ru:"",en:"Search"}},getText:function(a,b){return!b&&(b=this.get("language")||this.detectLanguage()),(this._texts[a]||{})[b]||""},setText:function(a,c,d){var e=!0,f=this instanceof b?!(e=!1)&&Object.getPrototypeOf(this):this;return!f._texts[c]&&(f._texts[c]={}),!d&&(d=!e&&this.get("language")||this.detectLanguage()),f._texts[c][d]=a,this},_globalElems:{fade:void 0},_globalStyles:function(){var a={".m-select-d-box":{position:"absolute",display:"block",width:"168px",padding:"8px",height:"auto","box-shadow":"0 10px 20px -5px rgba(0, 0, 0, 0.4)","background-color":"#FFF","border-radius":"3px",border:"1px solid #e6e6e6"},".m-select-d-box:after":{content:"''",position:"absolute","border-left":"10px solid transparent","border-right":"9px solid transparent","border-bottom":"10px solid white",top:"-10px",left:"50%","margin-left":"-10px"},".m-select-d-box:before":{content:"''",position:"absolute","border-left":"11px solid transparent","border-right":"11px solid transparent","border-bottom":"11px solid #e6e6e6",top:"-11px",left:"50%","margin-left":"-11px"},".m-select-d-box_bottom:after":{content:"''",position:"absolute","border-left":"10px solid transparent","border-right":"9px solid transparent","border-bottom":"none","border-top":"10px solid white",top:"auto",bottom:"-10px",left:"50%","margin-left":"-10px"},".m-select-d-box_bottom:before":{border:"none"},".m-select-d-box__list-container":{position:"relative",margin:"0px",padding:"0px","max-height":"200px","overflow-x":"hidden"},".m-select-d-box__list-item":{position:"relative",padding:"5px","background-color":"none",color:"black",display:"block","line-height":"100%",cursor:"pointer","font-size":"12px"},".m-select-d-box__list-item:hover, .m-select-d-box__list-item_hover":{"background-color":"#e6e6e6"},".m-select-d-box__list-item_selected":{"background-color":"#C40056",color:"white"},".m-select-d-box__list-item_selected:hover, .m-select-d-box__list-item_selected.m-select-d-box__list-item_hover":{"background-color":"#DB2277"},".m-select-d-box__list-item_selected:before":{content:"':: '"},".m-select-d-box__list-item:active, .m-select-d-box__list-item_selected:active":{"background-color":"#b80000",color:"white"},".m-select-d-box__list-item_hidden":{display:"none"},".m-select-d-box__search-input":{border:"1px solid #a2a2a2",width:"100%","line-height":"100%","font-size":"14px","border-width":"0 0 2px 0",padding:"8px","box-sizing":"border-box"},".m-select-d-box__search-input-container":{"margin-bottom":"12px",display:"none"},".m-select-d-box__search-input-container_active":{display:"block"},".m-select-d-box-fade":{display:"none",width:0,height:0,left:0,top:0},".m-select-d-box-fade__outside-click-label":{position:"absolute",width:"100%",bottom:0,padding:"10px",background:"black",color:"white","text-align":"center","font-size":"1em","box-sizing":"border-box"},".m-select-d-box-fade__outside-click-label-text":{},".m-select-d-box-fade__outside-click-label-icon":{position:"relative","border-radius":"50%","margin-right":"5px",border:"2px solid white",display:"inline-block",height:"16px",width:"16px","vertical-align":"middle"},".m-select-d-box-fade__outside-click-label-icon:after":{content:"''",position:"absolute",top:"50%",left:"50%",height:"80%",width:"2px",transform:"rotate(45deg)","margin-left":"-1px","margin-top":"-40%",background:"white"},".m-select-d-box-fade__outside-click-label-icon:before":{content:"''",position:"absolute",top:"50%",left:"50%",height:"80%",width:"2px",transform:"rotate(-45deg)","margin-left":"-1px","margin-top":"-40%",background:"white"},"@media screen and (max-width: 640px)":{".m-select-d-box":{position:"fixed",width:"80% !important",padding:"0 !important",left:"10% !important",top:"5% !important","max-height":"90%","box-shadow":"none","border-radius":"0px","box-sizing":"border-box"},".m-select-d-box:after":{content:"none"},".m-select-d-box__list-container":{"max-height":"none"},".m-select-d-box__list-item":{padding:"1em","font-size":"1em"},".m-select-d-box__search-input-container":{"margin-bottom":"12px",display:"block"},".m-select-d-box__search-input":{"line-height":"1em","font-size":"1em",padding:"1em"},".m-select-d-box-fade":{width:"100%",height:"100%",position:"fixed",left:0,top:0,"background-color":"rgba(0, 0, 0, 0.33)",display:"block"}},"@media screen and (max-width: 740px)":{"@media screen and (min-resolution: 2dppx)":{}},".m-select-d-box_hidden":{display:"none"}};return a["@media screen and (max-width: 740px)"]["@media screen and (min-resolution: 2dppx)"]=a["@media screen and (max-width: 640px)"],a}(),_initStyles:function(){return a("#m-select-d-box-style").length||this._buildStyles(),this},_buildStyles:function(){var b=a("body"),c=function(a){var b,d,e="";for(b in a)if(Object.prototype.hasOwnProperty.call(a,b))if(b.match(/^@media/))e+=b+" {"+c(a[b])+"} ";else{e+=b+" {";for(d in a[b])Object.prototype.hasOwnProperty.call(a[b],d)&&(e+=d+":"+a[b][d]+";");e+="} "}return e},d=c(this._globalStyles),e=a("#m-select-d-box-style");return e.length||(e=a("<style />"),e.attr("id","m-select-d-box-style"),b.append(e)),e.html(d),this},_initProps:function(b){var c,d,e,f={},g=[{key:"name",type:"string"},{key:"list",type:"array"},{key:"autoApply",type:"any",into:"boolean"},{key:"autoPosition",type:"any",into:"boolean"},{key:"autoComplete",type:"any",into:"boolean"},{key:"target",type:"object"},{key:"multiple",type:"any",into:"boolean"},{key:"zIndex",type:"numeric",into:"integer"},{key:"width",type:"any"},{key:"embeddedInput",type:"any",into:"boolean"},{key:"optionFilters",type:"array"},{key:"closeButton",type:"boolean"},{key:"language",type:"string","default":this.detectLanguage()},{key:"freeWrite",type:"any",into:"boolean"}];for(c=0;c<g.length;c++)g[c].key=g[c].key.toLowerCase(),"default"in g[c]&&(f[g[c].key]=g[c]["default"]);if(this.set(f),"object"==typeof b){for(e in b)if(b.hasOwnProperty(e)){var h=e.toLowerCase(),i=null;for(d=0;d<g.length;d++)if(g[d].key.toLowerCase()==h){i=g[d];break}if(i){if("any"==i.type);else if("array"==i.type){if(!Array.isArray(b[e]))throw new Error("Argument data type mismatch (key: '"+e+"')")}else if("numeric"==i.type){if(isNaN(b[e]))throw new Error("Argument data type mismatch (key: '"+e+"')")}else if(i.type!=typeof b[e])throw new Error("Argument data type mismatch (key: '"+e+"')");i.hasOwnProperty("into")&&("boolean"==i.into?b[e]=Boolean(b[e]):"integer"==i.into?b[e]=parseInt(b[e]):"float"==i.into&&(b[e]=parseFloat(b[e]))),"width"==e&&(b[e]="undefined"==typeof b.width?"min":a.inArray(b.width,["min","auto"])>-1?b.width:parseInt(b.width)),this.set(h,b[e])}}this.set({firstItem:void 0,lastItem:void 0,hoveredCache:Object.create(null),selectedCache:Object.create(null),valuesCache:Object.create(null),labelsCache:Object.create(null)},null,!1)}},_initElements:function(){var b=a("body").get(0);this._globalElems.fade||(this._globalElems.fade=a('<div class="m-select-d-box-fade m-select-d-box_hidden"><div class="m-select-d-box-fade__outside-click-label"><div class="m-select-d-box-fade__outside-click-label-icon"></div><span class="m-select-d-box-fade__outside-click-label-text">'+this.getText(".m-select-d-box-fade__outside-click-label-text")+"<span></div></div>").get(0),b.appendChild(this._globalElems.fade));var c=document.createElement("div");this.set("dbox",c),c.className="m-select-d-box m-select-d-box_hidden";var d=a('<div class="m-select-d-box__search-input-container"><input class="m-select-d-box__search-input" placeholder="'+this.getText(".m-select-d-box__search-input")+'" type="text"></div>').get(0);this.set("dbox_input",a("input",d).get(0)),c.appendChild(d),Boolean(this.get("embeddedInput"))&&(d.className+=" m-select-d-box__search-input-container_active"),this.set("dbox",c),this.get("zIndex")&&(c.style.zIndex=this.get("zIndex")),c.appendChild(a('<ul class="m-select-d-box__list-container"></ul>').get(0));var e=this.get("width");"auto"==e?c.style.width=this.get("target").clientWidth+"px":"min"==e||(c.style.width=e+"px"),b.appendChild(c)},_initList:function(){var b=this.get("list",null,!1);if(!a.isArray(b))return this.set("list",[],null,!1),!1;var c,d,e,f=Object.create(null),g=Object.create(null),h=this,i=this.get("dbox",null,!1),j=a(".m-select-d-box__list-container",i).get(0);for(!this._onItemClick&&(this._onItemClick=function(a){clearTimeout(h._timers.focusoutInputs);var b=this.getAttribute("data-msdbid"),c=h.get("list",null,!1),d=h.getSelectedKeys().concat(b);h.get("multiple",null,!1)?c[b].selected?h._deselectByID(b):h._selectByID(b,!1):h._selectByID(b,!0),h.applySelectedToInput(),h.applySelectedToList(h._getItemsByID(d)),a.listItem=c[b],h.trigger("select",a),h.calcPosition(),h.get("multiple",null,!1)||h.close()}),!this._onMouseLeave&&(this._onMouseLeave=function(){var b=a(this);b.hasClass("m-select-d-box__list-item_hover")&&b.removeClass("m-select-d-box__list-item_hover")}),j.innerHTML="",c=0;c<b.length;c++)if([b[c]]+""){if(a.inArray(typeof b[c],["number","string"])>-1)b[c]={value:b[c]+"",label:b[c]+"",selected:!1};else{if("object"!=typeof b[c]||!this.fx.hop(b[c],"value")||!this.fx.hop(b[c],"label"))continue;"undefined"==typeof b[c].selected?b[c].selected=!1:b[c].selected=Boolean(b[c].selected),b[c].value+="",b[c].label+=""}b[c].id=c,g[b[c].value]=b[c],f[b[c].label]=b[c],e&&(e.next=b[c],b[c].prev=e),e=b[c],d=b[c],d.isHovered=!1,d.elem=document.createElement("li"),d.elem.className="m-select-d-box__list-item",d.elem.setAttribute("data-msdbid",c+""),d.$elem=a(d.elem),a(d.elem).bind("click",this._onItemClick,null),a(d.elem).bind("mouseleave",this._onMouseLeave,null),d.elem.innerHTML=d.label,j.appendChild(d.elem)}this.set("firstItem",b[0],null,!1),this.set("lastItem",b[b.length-1],null,!1),this.set("labelsCache",f,null,!1),this.set("valuesCache",g,null,!1)},init:function(b){this._props=Object.create(null);var c=this,d=a("body").get(0);this.events=Object.create(null),this._initProps(b),this._initTarget(),this._initElements(),this._initEvents(b),this._initList(),this._initStyles(),this._timers=Object.create(null),this._timers.autoComplete=null,this._timers.focusedInputs=null,this._timers.focusoutInputs=null;var e=this.get("target",null,!1),f=this.get("dbox",null,!1);c.get("name",null,!1)&&(e.setAttribute("data-msdb-name",c.get("name",null,!1)),f.setAttribute("data-msdb-name",c.get("name",null,!1))),c.on("keydown",function(a,b){c._eventDefaultKeyDownMultipleFalse(b),c._eventDefaultKeyDownMultipleTrue(b)}),c.on("keyup",function(a,b){c._eventDefaultKeyUp(b)}),c.get("optionFilters",null,!1)||c.set("optionFilters",[c.defaultOptionFilters["default"]],null,!1),c._isColdInit()&&a(d).bind("click",function(a){c._deactivateInstances(a)},null),this.instances.push(this),c.trigger("init")},_applyLang:function(b){this._lastLang!=b&&(Object.getPrototypeOf(this)._lastLang=b,a(this._globalElems.fade).find(".m-select-d-box-fade__outside-click-label-text").html(this.getText(".m-select-d-box-fade__outside-click-label-text")))},calcPosition:function(){var b=this,c=a("body").get(0),d=this.get("target",null,!1),e=this.get("dbox",null,!1),f=a(e),g=a(d).offset(),h=d.clientWidth,i=d.clientHeight,j=e.clientWidth;f.removeClass("m-select-d-box_bottom"),e.style.left=g.left+h/2-(j+2*b._globalStyles[".m-select-d-box"].padding.replace(/[px]/gi,""))/2+"px";var k=window.scrollY||c.scrollTop;e.clientHeight+g.top+i+12-k>window.innerHeight?(e.style.top=g.top-12-e.clientHeight+"px",f.addClass("m-select-d-box_bottom")):e.style.top=g.top+i+12+"px"},calcScrollBarPosition:function(){var b=this.get("dbox",null,!1),c=a(".m-select-d-box__list-container",b).get(0),d=this.get("multiple",null,!1)?this.getHoveredItems()[0]:this.getSelectedItems()[0];if(d){var e=d.$elem.position().top+c.scrollTop;return e<c.clientHeight/2?c.scrollTop=0:void(c.scrollTop=e-c.clientHeight/2)}},_calcListContainerHeight:function(){var b=a(this.get("dbox",null,!1)).find(".m-select-d-box__list-container").get(0);if(this._isMobileState()){var c=window.innerHeight/100;return b.style.maxHeight=90*c-64-40+"px"}b.style.maxHeight&&(b.style.maxHeight="")},_isDBoxElement:function(b){var c=this.get("dbox",null,!1);return!!a(c).find(b).length||c==b},_isTargetElement:function(b){var c=this.get("target",null,!1);return!!a(c).find(b).length||c==b},_isDBoxInput:function(a){return this.get("dbox_input")===a},_isMobileState:function(){return window.innerWidth<=640||window.innerWidth<=740&&this.fx.isHDensScreen()},_isBoxBottomState:function(){var a=this.get("dbox",null,null);return Boolean(a.className.match(new RegExp("m-select-d-box_bottom")))},_isColdInit:function(){return!this.instances.length},getHoveredItems:function(){var a=this.get("hoveredCache",null,!1);return Object.keys(a).map(function(b){return a[b]})},getSelectedKeys:function(){return Object.keys(this.get("selectedCache",null,!1))},getSelectedValues:function(){var a=this.get("selectedCache",null,!1);return Object.keys(a).map(function(b){return a[b].value})},getSelectedLabels:function(){var a=this.get("selectedCache",null,!1);return Object.keys(a).map(function(b){return a[b].label})},getSelectedItems:function(){var a=this.get("selectedCache",null,!1);return Object.keys(a).map(function(b){return a[b]})},hasValue:function(a){var b=this.get("valuesCache",null,!1);return!!b[a]},hasLabel:function(a){var b=this.get("labelsCache",null,!1);return!!b[a]},applySelectedToList:function(b){return!b&&(b=this.get("list",null,!1)),Object.keys(b).forEach(function(c){b[c]&&a.fn[b[c].selected?"addClass":"removeClass"].call([b[c].elem],"m-select-d-box__list-item_selected")}),this},applySelectedToInput:function(){var b=this,c=b.getSelectedValues(),d=b.getSelectedLabels(),e=this.get("target",null,!1),f=this.get("dbox_input",null,!1);f.value=d.join("; ")+(d.length&&this.get("multiple")?";":"");var g=e.tagName.toLowerCase();if("input"==g)b.fx.isTextInput(e)&&(e.value=f.value);else if("textarea"==g)e.value=d.join(";\n")+(d.length&&this.get("multiple")?";\n":"");else if("select"==g)for(var h=0;h<e.options.length;h++)e.options[h].selected=a.inArray(e.options[h].value,c)>-1;return e.setAttribute("data-msdb-value",c.join(";")+(c.length&&this.get("multiple",null,!1)?";":"")),this},select:function(a){var b=this.getSelectedKeys();return this._select(a),this.applySelectedToList(this._getItemsByID(b.concat(this.getSelectedKeys()))),this.applySelectedToInput(),this},_select:function(b){if("object"==typeof b&&!a.isArray(b)){var c,d,e=!0;if("blank"in b&&(e=!!b.blank),"id"in b)return void this._selectByID(b.id,e);if("value"in b)c=b.value,d="value";else{if(!("label"in b))return;c=b.label,d="label"}return c=[].concat(c),!this.get("multiple",null,!1)&&c.length>1?null:void("value"==d?this._selectByValue(c,e):"label"==d&&this._selectByLabel(c,e))}},_selectByValue:function(a,b){b&&this._deselectAll();var c,d=this.get("valuesCache",null,!1),e=this.get("selectedCache",null,!1);for(c=0;c<a.length;c++)this.fx.hop(d,a[c])&&(d[a[c]].selected=!0,e[d[a[c]].id]=d[a[c]])},_selectByLabel:function(a,b){b&&this._deselectAll();var c,d=this.get("labelsCache",null,!1),e=this.get("selectedCache",null,!1);for(c=0;c<a.length;c++)this.fx.hop(d,a[c])&&(d[a[c]].selected=!0,e[d[a[c]].id]=d[a[c]])},deselect:function(a){var b=this.getSelectedKeys();return this._deselect(a),this.applySelectedToList(this._getItemsByID(b.concat(this.getSelectedKeys()))),this.applySelectedToInput(),this},_deselect:function(b){return a.isPlainObject(b)?"value"in b?this._deselectByValue([].concat(b.value)):"label"in b?this._deselectByLabel([].concat(b.label)):void("id"in b&&this._deselectByID(b.id)):void 0},_deselectByValue:function(a){a=[].concat(a);var b,c,d,e=this.get("valuesCache",null,!1),f=this.get("selectedCache",null,!1);for(b=0;b<a.length;b++)c=a[b],this.fx.hop(e,c)&&(d=e[c].id,e[c].selected=!1,delete f[d])},_deselectByLabel:function(a){a=[].concat(a);var b,c,d,e=this.get("labelsCache",null,!1),f=this.get("selectedCache",null,!1);for(b=0;b<a.length;b++)c=a[b],this.fx.hop(e,c)&&(d=e[c].id,e[c].selected=!1,delete f[d])},_getItemsByID:function(a){var b,c=Object.create(null),d=this.get("list",null,!1);for(b=0;b<a.length;b++)c[a[b]]=d[a[b]];return c},hideItem:function(a){return a.$elem.addClass("m-select-d-box__list-item_hidden"),this},unhideItem:function(a){return a.$elem.removeClass("m-select-d-box__list-item_hidden"),this},unhideAllItems:function(){a(this.get("dbox")).find(".m-select-d-box__list-item_hidden").removeClass("m-select-d-box__list-item_hidden")},isVisibleItem:function(a){return!a.$elem.hasClass("m-select-d-box__list-item_hidden")},hoverItem:function(a){var b=this.get("hoveredCache",null,!1);return a.isHovered=!0,a.$elem.addClass("m-select-d-box__list-item_hover"),b[a.id]=a,this},unhoverItem:function(a){var b=this.get("hoveredCache",null,!1);return a.isHovered=!1,a.$elem.removeClass("m-select-d-box__list-item_hover"),delete b[a.id],this},unhoverAllItems:function(){var a=this.get("hoveredCache",null,!1);return Object.keys(a).forEach(function(b){this.unhoverItem(a[b])},this),this},hoverNextVisibleItem:function(a){var b=this.getNextVisibleItem(a);return b&&(this.unhoverItem(a),this.hoverItem(b)),this},hoverPrevVisibleItem:function(a){var b=this.getPrevVisibleItem(a);return b&&(this.unhoverItem(a),this.hoverItem(b)),this},getNextVisibleItem:function(a){return a.next?this.isVisibleItem(a.next)?a.next:this.getNextVisibleItem(a.next):void 0},getPrevVisibleItem:function(a){return a.prev?this.isVisibleItem(a.prev)?a.prev:this.getPrevVisibleItem(a.prev):void 0},selectNextVisibleItem:function(a){var b=this.getSelectedItems();return a=this.getNextVisibleItem(a),a||(a=arguments[0]),this._selectByID(a.id,!0),this.applySelectedToInput(),this.applySelectedToList(b.concat(this.getSelectedItems())),a},selectPrevVisibleItem:function(a){var b=this.getSelectedItems();return a=this.getPrevVisibleItem(a),a||(a=arguments[0]),this._selectByID(a.id,!0),this.applySelectedToInput(),this.applySelectedToList(b.concat(this.getSelectedItems())),a},getLastVisibleItem:function(){var a=this.get("lastItem",null,!1);return!this.isVisibleItem(a)&&this.getPrevVisibleItem(a)||a},getFirstVisibleItem:function(){var a=this.get("firstItem",null,!1);return!this.isVisibleItem(a)&&this.getNextVisibleItem(a)||a},_selectByID:function(a,b){a=[].concat(a);var c,d=this.get("list",null,!1),e=this.get("selectedCache",null,!1);for(b&&this._deselectAll(),c=0;c<a.length;c++)d.hasOwnProperty(a[c])&&(d[a[c]].selected=!0,e[a[c]]=d[a[c]])},_deselectByID:function(a){a=[].concat(a);var b,c=this.get("list",null,!1),d=this.get("selectedCache",null,!1);for(b=0;b<a.length;b++)c.hasOwnProperty(a[b])&&(c[a[b]].selected=!1,delete d[a[b]])},_optionFiltersMatcher:function(b,c,d){if(arguments.length<3)return!0;if("function"==typeof b&&(b=[b]),!a.isArray(b))return!1;for(var e=0;e<b.length;e++)if(b[e].call(this,c,d))return!0;return!1},defaultOptionFilters:{"default":function(a,b){if("string"!=typeof a||"string"!=typeof b)return!1;var c=new RegExp(a.toLowerCase().trim());return b=b.toString().toLowerCase(),Boolean(b.match(c))},russianKeyboard:function(a,b){if("string"!=typeof a||"string"!=typeof b)return!1;for(var c={"`":"","~":"",q:"",w:"",e:"",r:"",t:"",y:"",u:"",i:"",o:"",p:"","[":"","{":"","]":"","}":"",a:"",s:"",d:"",f:"",g:"",h:"",j:"",k:"",l:"",";":"",":":"","'":"",'"':"",z:"",x:"",c:"",v:"",b:"",n:"",m:"",",":"","<":"",".":"",">":""},d=a.toLowerCase().split(""),e=0,f=d.length;f>e;e++)c.hasOwnProperty(d[e])&&(d[e]=c[d[e]]);return this.defaultOptionFilters["default"](d.join(""),b)}},applyAutoComplete:function(a){var b=this.get("list",null,!1);return a?Object.keys(b).forEach(function(c){this._optionFiltersMatcher(this.get("optionFilters",null,!1),a,b[c].label)?this.unhideItem(b[c]):this.hideItem(b[c])},this):this.unhideAllOpt(),this},deselectAll:function(){return this._deselectAll(),this.applySelectedToList(),this.applySelectedToInput(),this},_deselectAll:function(){var a=this.get("selectedCache",null,!1);Object.keys(a).forEach(function(b){a[b].selected=!1,delete a[b]})},selectAll:function(){if(!this.get("multiple",null,!1))return this;var a,b,c=this.get("selectedCache",null,!1),d=this.get("list",null,!1),e=Object.keys(d);for(a=0;a<e.length;a++)b=e[a],d[b].selected=!0,c[b]=d[b];return this.applySelectedToList(),this.applySelectedToInput(),this},isActive:function(){var b=this.get("dbox",null,null);return 0==a(b).hasClass("m-select-d-box_hidden")},reInitList:function(){this._initList();var a,b,c=(this.get("list"),this.get("selectedCache",null,!1)),d=this.get("valuesCache",null,!1),e=this.get("labelsCache",null,!1),f=this.get("hoveredCache",null,!1),g=Object.keys(c);for(a=0;a<g.length;a++)b=g[a],d[c[b].value]&&e[c[b].label]?(c[b]=d[c[b].value],c[b].selected=!0):delete c[b];Object.keys(f).forEach(function(a){f.isHovered=!1,delete f[a]}),this.applySelectedToInput(),this.applySelectedToList()},close:function(){var b=this.get("dbox",null,!1);return a(b).addClass("m-select-d-box_hidden"),this._closeFade(),this.unhoverAllItems(),this},open:function(){var b=this.get("dbox",null,!1);return a(b).removeClass("m-select-d-box_hidden"),this.calcPosition(),this._openFade(),this._applyLang(this.get("language",null,!1)),this._isMobileState()&&this.get("dbox_input").focus(),this},_openFade:function(){a(this._globalElems.fade).removeClass("m-select-d-box_hidden")},_closeFade:function(){a(this._globalElems.fade).addClass("m-select-d-box_hidden")},destroy:function(){var b=this,c=this.get("target",null,0),d=Object.getPrototypeOf(this);c.removeAttribute("data-msdb-name"),c.removeAttribute("data-msdb-value"),this.set("target",void 0,null,!1),a(this.get("dbox")).remove(),d.instances=a.grep(d.instances,function(a){return a!=b})},fx:{isTextInput:function(b){if(b instanceof Node==!1)return!1;var c=b.tagName.toLowerCase();if("input"==c){if(b.type&&a.inArray(b.type.toLowerCase(),["text","password","email","url","search","tel"])>-1)return!0}else if("textarea"==c)return!0;return!1},isHDensScreen:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3||!1},isRetinaScreen:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>=2||!1},msplit:function(a,b){return b=b.replace(new RegExp("["+a.join("")+"]","g"),a[0]),b.split(a[0])},trim:function(a,b,c){var d=[];return c&&"left"!=c||d.push("^["+b+"]+"),c&&"right"!=c||d.push("["+b+"]+$"),a.replace(new RegExp(d.join("|"),"g"),"")},rest:function(a,b){return"object"!=typeof a?[]:"number"!=typeof b?[]:Array.prototype.slice.call(a,b)},hop:function(a,b){return"hasOwnProperty"in a?Object.prototype.hasOwnProperty.call(a,b):b in a}}},b.prototype.unhoverAllOpt=b.prototype.unhoverAllItems,b.prototype.unhideAllOpt=b.prototype.unhideAllItems;var c={open:1,close:1,isActive:1,get:1,set:1,select:1,selectAll:1,deselectAll:1,on:1,trigger:1,getSelectedLabels:1,getSelectedValues:1,getSelectedKeys:1,getText:1,setText:1},d={open:1,close:1,set:1,select:1,selectAll:1,deselectAll:1,on:1,trigger:1,setText:1},e=a.fn.val;a.fn.extend({val:function(a){return this.attr("data-msdb-value")?a?this.mSelectDBox().select({value:a})&&this:this.mSelectDBox().getSelectedValues():e.apply(this,arguments)},mSelectDBox:function(a){if(this.length){var e,f,g,h=b.prototype.getInstances(),i=void 0,j=this[0];for(e=0;e<h.length;e++)if(h[e].get("target")==j){i=h[e];break}if(!arguments.length)return i;if("string"==typeof a){if(c[a]&&(g=b.prototype.fx.rest(arguments,1),"function"==typeof i[a]))return f=i[a].apply(i,g),d[a]?this:f}else if("object"==typeof a)return a.target=this[0],new b(a);return this}}}),a.prototype.mSelectDBox.prototype=b.prototype}(jQuery);;(function($){Drupal.behaviors.qna_forums={attach:function(context,settings){$(document).ready(function(){});$("._openloginmodal_js").on("click",function(){});$(".comment-forbidden").on("click",function(){$("#user_register").trigger("click");});$.each($(".action-links.nav-link"),function(index,value){if($(value).find("a").attr("data-drupal-link-system-path")=="node/add/forum"){$("._addnewtopicsjs").attr("href",$(value).find("a").attr("href"));}});$(".button--danger").click(function(e){var entity_id=$(".flagging-report-buse-edit-form.flagging-form").attr("action");entity_id=entity_id.replace(/[^0-9]/g,'');$.ajax({method:"GET",url:"/unreport-spam/"+entity_id}).done(function(data){window.location.reload();});e.preventDefault();$("form").submit(function(e){e.preventDefault();});$(".ui-dialog-titlebar-close").trigger("click");});$("#edit-submit--2").click(function(e){if($.trim($("#edit-subject-0-value").val())!==""&&$.trim($("#edit-field-comments-0-value").val())!==""){e.preventDefault();}
$(".comment-comment-article-form.comment-form").submit(function(e){if($.trim($("#edit-subject-0-value").val())!==""&&$.trim($("#edit-field-comments-0-value").val())!==""){e.preventDefault();}});});$(".flagging-report-buse-add-form").on("submit",()=>{var report_cause=$(".flagging-report-buse-add-form").find(".jcf-radio.jcf-checked").parent().text();var permalink=$(".flagging-report-buse-add-form").attr("action");permalink=permalink.replace(/[^0-9]/g,'');permalink="/comment/"+permalink;$.ajax({method:"POST",url:"/report-spam",data:JSON.stringify({report_cause:report_cause,permalink:permalink}),}).done(function(data){console.log(data)});});},sorting(dis,sortby){let ascdesc="asc";if($(dis).hasClass("down")){ascdesc="desc";}
$(".title-header_js").removeClass("up").addClass("down");if(ascdesc=="desc"){var result=$('.forum-topic-listing').sort(function(a,b){var contentA=$(a).data(sortby);var contentB=$(b).data(sortby);if(sortby=="alpha"){return contentA.localeCompare(contentB);}else{contentA=parseInt(contentA);contentB=parseInt(contentB);return(contentA<contentB)?-1:(contentA>contentB)?1:0;}});$(dis).addClass("up").removeClass("down");}else{var result=$('.forum-topic-listing').sort(function(a,b){var contentA=$(a).data(sortby);var contentB=$(b).data(sortby);if(sortby=="alpha"){return contentB.localeCompare(contentA);}else{contentA=parseInt(contentA);contentB=parseInt(contentB);return(contentA>contentB)?-1:(contentA<contentB)?1:0;}});$(dis).addClass("down").removeClass("up");}
$('#forum-topic-listing-id').html(result);}}})(jQuery);;(function($,Drupal){Drupal.behaviors.tu_qs={attach(context,settings){$('.article_node_template').each(function(){$(this).find('.layout--threecol-section--33-34-33').first().addClass('_article_new_layout');});$(document).ready(()=>{const parentElement=$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first");const stickyElement=$(".layout__region--first .block-addtoany-block, .layout__region--third .block.block-dfp");const container=$(".node.node--type-article .article_node_template>._article_new_layout");const header=$(".node.node--type-article .article_node_template>.layout--onecol .layout__region");let embedHeight=0;$(".dynamic-block-articles").each(function(){embedHeight+=$(this).height();});const containerHeight=`${container.height()}px`;const mediaBreakPoint="(max-width: 980px)";const height=stickyElement.height();const heightString=`${height}px`;const widthString=`${stickyElement.width()}px`;const headerHeight=`${header.height()}px`;$.fn.isInViewport=function(){let elementTop=$(this).offset().top;let elementBottom=elementTop+$(this).outerHeight();let viewportTop=$(window).scrollTop();let viewportBottom=viewportTop+$(window).height();return elementBottom>viewportTop&&elementTop<viewportBottom;};function scrollStickySidebar(){$(window).scroll(function(){const scroll=$(this).scrollTop();setParentOrContainerHeight();setStickyElementScrollDefaultStyles();const length=parentElement.height()-
stickyElement.height()+
parentElement.offset().top;if(!window.matchMedia(mediaBreakPoint).matches){if(scroll<parentElement.offset().top){stickyElement.css({position:"absolute",top:"96px",bottom:"auto"});$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("normal");}else if(!$('.block-field-blocknodearticlebody').isInViewport()){stickyElement.css({position:"absolute",top:"96px",bottom:"auto"});$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").addClass("normal");}else{stickyElement.css({position:"fixed",top:"165px",bottom:"auto"});$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").addClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("normal");}}else{setStickyElementMobileDefaultStyles();$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").addClass("normal");}});}
function setStickyElementScrollDefaultStyles(){stickyElement.css({height:heightString,width:widthString,"max-width":widthString});}
function setStickyElementMobileDefaultStyles(){setParentToAutoHeight();stickyElement.css({position:"relative",top:"auto",bottom:"auto",height:"auto",width:"100%","max-width":"16.688em"});}
function setParentOrContainerHeight(){if(height<container.height()){parentElement.css({height:containerHeight});}else{parentElement.css({height:heightString});container.css({height:heightString});}}
function setParentToAutoHeight(){parentElement.css({height:"auto"});}
scrollStickySidebar($);$(window).resize(scrollStickySidebar);if($(".methodology_authorinfo").length>0){$("body").addClass("path-article-methodology");}else{$("body").removeClass("path-article-methodology");}
$.each($(".dynamic-block-articles"),function(index,thisdiv){$(thisdiv).removeClass("_full_width_webinars");const htmltag=$(thisdiv).attr("htmltag")||"p";const beforeafter=$(thisdiv).attr("beforeafter")||"after";const position=$(thisdiv).attr("position");let counter=0;var parents=["DIV"];let divadded=false;if($(thisdiv).find("._webinars").length>0){$(thisdiv).addClass("_full_width_webinars");}
$.each($(".block-field-blocknodearticlebody").find(htmltag),function(indextag,insidearticle){if(parents.includes($(insidearticle).parent()[0].nodeName)&&$(insidearticle).html().trim()!==""&&$(insidearticle).parent().parent().parent().hasClass("block-field-blocknodearticlebody")){if(counter==parseInt(position)-1){if(beforeafter=="before"){$(thisdiv).insertBefore($(insidearticle));}else{$(thisdiv).insertAfter($(insidearticle));}
divadded=true;$(".dynamic-block-articles").removeClass("d-none");}
counter++;}});if(divadded===false){$(".dynamic-block-articles").addClass("d-none");}
$.each($(".dfp-ads-inview"),function(index,dis){let finddfpid=$(dis).attr("dfp-id");if($(dis).attr("type")=="text/html"){googletag.cmd.push(function(){googletag.display(finddfpid);});}});});if(navigator.appVersion.indexOf("Win")!=-1){jQuery('body').addClass('window-os');}
if(navigator.platform.toUpperCase().indexOf('MAC')>=0){jQuery('body').addClass('mac-os');}
if(navigator.appVersion.indexOf("Linux")!=-1){jQuery('body').addClass('linux-os');}
let dfp_position="";let dfp_scroll_depth=0;let screenHeight=$(document).height();let dfp_hide_time=0;let title_dom=$('.block-field-blocknodearticletitle .content h1');title_dom.removeClass('above_title_extra_space');dfp_position=$(".stickydfp").attr("data-dfpposition");dfp_scroll_depth=$(".stickydfp").attr("data-dfpdepthscroll");dfp_scroll_depth=parseInt(dfp_scroll_depth)*0.01*screenHeight;dfp_hide_time=$(".stickydfp").attr("data-dfphidetime");dfp_hide_time=parseInt(dfp_hide_time)*1000;if(dfp_scroll_depth>0){addDFPonScroll();}
if(dfp_hide_time>0){addDFPonTimeBased();}
if(dfp_position=='above_title'){title_dom.addClass('above_title_extra_space');$(".stickydfp").addClass('dfp_above_title').insertBefore(title_dom);}
if(dfp_position=='below_gsack_tray'){$(".stickydfp").addClass('dfp_below_gsack');if(!$("#bottomApplyfooterdiv").hasClass("d-none")){$("#bottomApplyfooterdiv").addClass("article-gsack-moveup");}
$(".stickydfp").insertAfter($("#bottomApplyfooterdiv"));}
if(dfp_position=='above_gsack_tray'){$(".stickydfp").addClass('dfp_above_gsack');if(!$("#bottomApplyfooterdiv").hasClass("d-none")){$("#bottomApplyfooterdiv").addClass("article-gsack-movedown");}
$(".stickydfp").before($("#bottomApplyfooterdiv"));}
function addDFPonScroll(){let scrollAmountDfp=0;$(window).scroll(function(event){scrollAmountDfp=$(window).scrollTop();if(scrollAmountDfp>dfp_scroll_depth){$(".stickydfp").addClass('d-none');}else{$(".stickydfp").removeClass('d-none');}});}
function addDFPonTimeBased(){setTimeout(function(){$(".stickydfp").addClass('d-none');},dfp_hide_time);}});}};})(jQuery,Drupal);;